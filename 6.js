(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{159:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=r(723),c=r(638),a=r(639),u=r(111),s=r(49),l=r(805),f=r.n(l);e.default=function(){var t="MAMYDDEFDTKASDLTFSPWVEVENWKDVTTRLRAIKFALQADRDKIPGVLSDLKTNCPYSAFKRFPDKSLYSVLSKEAVIAVAQIQSASGFKRRADEKNAVSGLVSVTPTQISQSASSSAATPVGLATVKPPRESDSAFQEDTFSYAKFDDASTAFHKALAYLEGLSLRPTYRRKFEKDMNVKWGGSGSAPSGAPAGGSSGSAPPTSGSSGSGAAPTPPPNP";Object(n.useEffect)((function(){for(var e=[],r=0;r<1e3;r++){var n=Math.round(Math.random()*t.length);e.push({name:"seq_".concat(r),sequence:"".concat(t.substring(0,n)).concat("ACDEFGHIKLMNPQRSTVWY-"[Math.floor(Math.random()*"ACDEFGHIKLMNPQRSTVWY-".length)]).concat(t.substring(n+1))})}document.querySelector("#msa-track").data=e})),Object(u.a)("protvista-msa",i.a),Object(u.a)("protvista-navigation",c.a),Object(u.a)("protvista-manager",a.a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"protvista-msa"),o.a.createElement("protvista-manager",{attributes:"length displaystart displayend highlight",displaystart:"1",displayend:"50",id:"example"},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{width:100,flexShrink:0}}),o.a.createElement("protvista-navigation",{length:t.length,displaystart:"1",displayend:"50"})),o.a.createElement("protvista-msa",{id:"msa-track",length:t.length,height:"200",displaystart:"1",displayend:"50","use-ctrl-to-zoom":!0,labelWidth:100})),o.a.createElement(s.default,{content:f.a}))}},562:function(t,e,r){"use strict";var n=r(563);e.a=function(t){if("string"==typeof t||Object(n.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},563:function(t,e,r){"use strict";var n=r(588),o=r(564);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"symbol"==i(t)||Object(o.a)(t)&&"[object Symbol]"==Object(n.a)(t)}},568:function(t,e,r){"use strict";var n=r(561),o=r(563);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.a=function(t,e){if(Object(n.a)(t))return!1;var r=i(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Object(o.a)(t))||(a.test(t)||!c.test(t)||null!=e&&t in Object(e))}},569:function(t,e,r){"use strict";var n=r(561),o=r(568),i=r(612);var c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=function(t){var e=Object(i.a)(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(c,(function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)})),e})),s=r(606);e.a=function(t,e){return Object(n.a)(t)?t:Object(o.a)(t,e)?[t]:u(Object(s.a)(t))}},572:function(t,e,r){"use strict";var n=r(569),o=r(562);e.a=function(t,e){for(var r=0,i=(e=Object(n.a)(e,t)).length;null!=t&&r<i;)t=t[Object(o.a)(e[r++])];return r&&r==i?t:void 0}},573:function(t,e,r){"use strict";var n=r(586),o=r(574);var i=function(t,e,r,i){var c=r.length,a=c,u=!i;if(null==t)return!a;for(t=Object(t);c--;){var s=r[c];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++c<a;){var l=(s=r[c])[0],f=t[l],p=s[1];if(u&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new n.a;if(i)var y=i(f,p,l,t,e,h);if(!(void 0===y?Object(o.a)(p,f,3,i,h):y))return!1}}return!0},c=r(565);var a=function(t){return t==t&&!Object(c.a)(t)},u=r(570);var s=function(t){for(var e=Object(u.a)(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,a(o)]}return e};var l=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var f=function(t){var e=s(t);return 1==e.length&&e[0][2]?l(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}},p=r(583),h=r(605),y=r(568),b=r(562);var d=function(t,e){return Object(y.a)(t)&&a(e)?l(Object(b.a)(t),e):function(r){var n=Object(p.a)(r,t);return void 0===n&&n===e?Object(h.a)(r,t):Object(o.a)(e,n,3)}},v=r(611),m=r(561);var g=function(t){return function(e){return null==e?void 0:e[t]}},O=r(572);var w=function(t){return function(e){return Object(O.a)(e,t)}};var j=function(t){return Object(y.a)(t)?g(Object(b.a)(t)):w(t)};function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"function"==typeof t?t:null==t?v.a:"object"==S(t)?Object(m.a)(t)?d(t[0],t[1]):f(t):j(t)}},574:function(t,e,r){"use strict";var n=r(586),o=r(577),i=r(604),c=r(576);var a=function(t,e,r,n,a,u){var s=1&r,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=u.get(t);if(p&&u.get(e))return p==e;var h=-1,y=!0,b=2&r?new o.a:void 0;for(u.set(t,e),u.set(e,t);++h<l;){var d=t[h],v=e[h];if(n)var m=s?n(v,d,h,e,t,u):n(d,v,h,t,e,u);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!Object(i.a)(e,(function(t,e){if(!Object(c.a)(b,e)&&(d===t||a(d,t,r,n,u)))return b.push(e)}))){y=!1;break}}else if(d!==v&&!a(d,v,r,n,u)){y=!1;break}}return u.delete(t),u.delete(e),y},u=r(584),s=r(622),l=r(610);var f=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r},p=r(575),h=u.a?u.a.prototype:void 0,y=h?h.valueOf:void 0;var b=function(t,e,r,n,o,i,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new s.a(t),new s.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=f;case"[object Set]":var h=1&n;if(u||(u=p.a),t.size!=e.size&&!h)return!1;var b=c.get(t);if(b)return b==e;n|=2,c.set(t,e);var d=a(u(t),u(e),n,o,i,c);return c.delete(t),d;case"[object Symbol]":if(y)return y.call(t)==y.call(e)}return!1},d=r(623),v=Object.prototype.hasOwnProperty;var m=function(t,e,r,n,o,i){var c=1&r,a=Object(d.a)(t),u=a.length;if(u!=Object(d.a)(e).length&&!c)return!1;for(var s=u;s--;){var l=a[s];if(!(c?l in e:v.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var h=c;++s<u;){var y=t[l=a[s]],b=e[l];if(n)var m=c?n(b,y,l,e,t,i):n(y,b,l,t,e,i);if(!(void 0===m?y===b||o(y,b,r,n,i):m)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=t.constructor,O=e.constructor;g==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof O&&O instanceof O||(p=!1)}return i.delete(t),i.delete(e),p},g=r(609),O=r(561),w=r(618),j=r(624),S="[object Object]",P=Object.prototype.hasOwnProperty;var _=function(t,e,r,o,i,c){var u=Object(O.a)(t),s=Object(O.a)(e),l=u?"[object Array]":Object(g.a)(t),f=s?"[object Array]":Object(g.a)(e),p=(l="[object Arguments]"==l?S:l)==S,h=(f="[object Arguments]"==f?S:f)==S,y=l==f;if(y&&Object(w.a)(t)){if(!Object(w.a)(e))return!1;u=!0,p=!1}if(y&&!p)return c||(c=new n.a),u||Object(j.a)(t)?a(t,e,r,o,i,c):b(t,e,l,r,o,i,c);if(!(1&r)){var d=p&&P.call(t,"__wrapped__"),v=h&&P.call(e,"__wrapped__");if(d||v){var _=d?t.value():t,E=v?e.value():e;return c||(c=new n.a),i(_,E,r,o,c)}}return!!y&&(c||(c=new n.a),m(t,e,r,o,i,c))},E=r(564);e.a=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Object(E.a)(e)&&!Object(E.a)(r)?e!=e&&r!=r:_(e,r,n,o,t,i))}},582:function(t,e,r){"use strict";var n=r(594),o=r(578);var i=function(t,e){return function(r,n){if(null==r)return r;if(!Object(o.a)(r))return t(r,n);for(var i=r.length,c=e?i:-1,a=Object(r);(e?c--:++c<i)&&!1!==n(a[c],c,a););return r}}(n.a);e.a=i},583:function(t,e,r){"use strict";var n=r(572);e.a=function(t,e,r){var o=null==t?void 0:Object(n.a)(t,e);return void 0===o?r:o}},585:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.min,n=void 0===r?-1/0:r,o=e.max,c=void 0===o?1/0:o;i(this,t),this.segments=[],this.max=c,this.min=n,this.regionString=null}var e,r,o;return e=t,(r=[{key:"encode",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(r){var n=r.start,o=r.end;if(e)return"".concat(n,":").concat(o);var i=n===t.min?"":n,c=o===t.max?"":o;return"".concat(i,":").concat(c)})).join(",")}},{key:"decode",value:function(t){var e=this;void 0!==t&&(this.regionString=t),this.regionString?this.segments=this.regionString.split(",").map((function(t){var r=n(t.split(":"),3),o=r[0],i=r[1];if(void 0!==r[2])throw new Error("there should be at most 1 ':' per region. Region: ".concat(t));var c=o?Number(o):e.min,a=i?Number(i):e.max;if(c>a){var u=[a,c];c=u[0],a=u[1]}if(c<e.min&&(c=e.min),a>e.max&&(a=e.max),Number.isNaN(c))throw new Error("The parsed value of ".concat(o," is NaN. Region: ").concat(t));if(Number.isNaN(a))throw new Error("The parsed value of ".concat(i," is NaN. Region: ").concat(t));return{start:c,end:a}})):this.segments=[]}}])&&c(e.prototype,r),o&&c(e,o),t}();function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(t,e){return t?e?"".concat(t,",").concat(e):t:e},l=function(){function t(e){var r=e.element,n=e.min,o=e.max;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=r,this.region=new a({min:n,max:o}),this.fixedHighlight=null}var e,r,n;return e=t,(r=[{key:"setAttributesInElement",value:function(){this.region.decode(this.element.getAttribute("highlight")),0===this.region.segments.length&&(this.element._highlightstart=Number(this.element.getAttribute("highlightstart")),this.element._highlightend=Number(this.element.getAttribute("highlightend")),null!==this.element._highlightstart&&null!==this.element._highlightend&&"number"==typeof this.element._highlightstart&&"number"==typeof this.element._highlightend&&(this.element._highlight="".concat(this.element._highlightstart,":").concat(this.element._highlightend),this.region.decode(s(this.fixedHighlight,this.element._highlight))))}},{key:"setFloatAttribute",value:function(t,e){var r=parseFloat(e);this.element["_".concat(t)]=Number.isNaN(r)?e:r}},{key:"changedCallBack",value:function(t,e){switch(t){case"highlightstart":case"highlightend":this.setFloatAttribute(t,e),this.element._highlight=Number.isNaN(this.element._highlightstart)||Number.isNaN(this.element._highlightend)||void 0===this.element._highlightstart||void 0===this.element._highlightend||null===this.element._highlightstart||null===this.element._highlightend?"":"".concat(Math.max(this.region.min,this.element._highlightstart),":").concat(Math.min(this.region.max,this.element._highlightend));break;default:this.element._highlight=e}this.region.decode(s(this.fixedHighlight,this.element._highlight)),this.element.refresh()}},{key:"setFixedHighlight",value:function(t){this.fixedHighlight=t,this.region.decode(s(t,this.element._highlight)),this.element.refresh()}},{key:"appendHighlightTo",value:function(t){this.highlighted=t.append("g").attr("class","highlighted")}},{key:"updateHighlight",value:function(){var t=this,e=this.highlighted.selectAll("rect").data(this.region.segments);e.enter().append("rect").style("opacity",.5).attr("fill","rgba(255, 235, 59, 0.8)").style("pointer-events","none").merge(e).attr("height",this.element._height).attr("x",(function(e){return t.element.getXFromSeqPosition(e.start)})).attr("width",(function(e){return t.element.getSingleBaseWidth()*(e.end-e.start+1)})),e.exit().remove()}},{key:"max",set:function(t){this.region.max=t}}])&&u(e.prototype,r),n&&u(e,n),t}();function f(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}var p=function(t){return t};function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.timeStampWheelOutside=0,this.resetScrollableTimeout=null}var e,r,n;return e=t,(r=[{key:"setElementScrollable",value:function(t){this.element.setAttribute("scrollable",t)}},{key:"startResetScrollableTimer",value:function(){var t=this;this.resetScrollableTimeout&&clearTimeout(this.resetScrollableTimeout),this.resetScrollableTimeout=setTimeout((function(){t.setElementScrollable(!0),t.resetScrollableTimeout=null}),400)}},{key:"blockScroll",value:function(t){this.timeStampWheelOutside=t,this.setElementScrollable(!1),this.startResetScrollableTimer()}},{key:"isWheelEventInsideElement",value:function(t,e){var r=this.element.getBoundingClientRect(),n=r.height,o=r.width,i=r.x,c=r.y;return t>i&&e<i+o&&e>c&&e<c+n}},{key:"wheel",value:function(t){var e=t.x,r=t.y,n=t.timeStamp;this.isWheelEventInsideElement(e,r)?n<this.timeStampWheelOutside+400?this.blockScroll(n):this.setElementScrollable(!0):this.blockScroll(n)}}])&&h(e.prototype,r),n&&h(e,n),t}();r.d(e,"d",(function(){return b})),r.d(e,"a",(function(){return d})),r.d(e,"c",(function(){return v})),r.d(e,"b",(function(){return m}));var b=l,d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],r=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var n=t.split(",").map((function(t){return t.split(":")}));if(n.length<2)throw new Error("There should be at least 2 points to create a scale");e=n.map((function(t){var e=t[0].trim().toUpperCase();if(!f(e))throw new Error("The color '".concat(e," is not valid'"));return e})),r=n.map((function(t,e){var r=parseFloat(t[1]);if(Number.isNaN(r))throw new Error("The second part of every point should be a number. Error in point ".concat(e,": ").concat(t));return r}))}return{range:e,domain:r}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.keyFormatter,n=void 0===r?p:r,o=e.valueFormatter,i=void 0===o?p:o;if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var c=t.split(",").map((function(t){return t.split(":")})),a={};return c.forEach((function(t){if(2!==t.length)throw new Error("Bad block: ".concat(t.join(":"),"\n The blocks of the string should follow the format KEY:VALUE"));a[n(t[0])]=i(t[1])})),a}return{}},m=y},591:function(t,e,r){"use strict";var n=r(567),o=r(585),i=r(630);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,t)})(t)}function h(t,e,r){return(h=y()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&b(o,r.prototype),o}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(v,t);var e,r,c,u,p,h=(e=v,r=y(),function(){var t,n=d(e);if(r){var o=d(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return l(this,t)});function v(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),t=h.call(this),v._polyfillElementClosest(),t._updateScaleDomain=t._updateScaleDomain.bind(f(t)),t._initZoom=t._initZoom.bind(f(t)),t.zoomed=t.zoomed.bind(f(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(f(t)),t._resetEventHandler=t._resetEventHandler.bind(f(t));var e=!1;return t.applyZoomTranslation=function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t._applyZoomTranslation()})))},t._onResize=t._onResize.bind(f(t)),t._listenForResize=t._listenForResize.bind(f(t)),t.trackHighlighter=new o.d({element:f(t),min:1}),t.scrollFilter=new o.b(f(t)),t.wheelListener=function(e){return t.scrollFilter.wheel(e)},t}return c=v,p=[{key:"_getClickCoords",value:function(){return n.e?[n.e.pageX,n.e.pageY]:null}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var r=t;do{if(r.matches(e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null})}},{key:"observedAttributes",get:function(){return["displaystart","displayend","length","highlight"]}}],(u=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.length,this._height=this.getAttribute("height")?Number(this.getAttribute("height")):44,this._highlightEvent=this.getAttribute("highlight-event")?this.getAttribute("highlight-event"):"onclick",this.trackHighlighter.setAttributesInElement(this),this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",(function(t){console.error(t)})),this.addEventListener("click",this._resetEventHandler),this.hasAttribute("filter-scroll")&&document.addEventListener("wheel",this.wheelListener,{capture:!0})}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize),this.removeEventListener("click",this._resetEventHandler),document.removeEventListener("wheel",this.wheelListener)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(n.i)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){var t=this;this._zoom=Object(n.m)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).filter((function(){if(!(n.e instanceof WheelEvent))return!0;if(t.hasAttribute("scroll-filter")){var e=t.getAttribute("scrollable");if(e)return"true"===e}return!t.hasAttribute("use-ctrl-to-zoom")||n.e.ctrlKey})).on("zoom",this.zoomed)}},{key:"setFloatAttribute",value:function(t,e){var r=parseFloat(e);this["_".concat(t)]=Number.isNaN(r)?e:r}},{key:"attributeChangedCallback",value:function(t,e,r){if("null"===r&&(r=null),e!==r){if(t.startsWith("highlight"))return void this.trackHighlighter.changedCallBack(t,r);this.setFloatAttribute(t,r),"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=n.e.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=a(this.xScale.domain(),2),e=t[0],r=t[1];this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,Math.max(r-1,e+1))},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,n.n.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new i.a(this._onResize),this._ro.observe(this)}},{key:"_resetEventHandler",value:function(t){t.target.closest(".feature")||this.dispatchEvent(this.createEvent("reset",null,!0))}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"createEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;e&&(e=e.feature?e.feature:e);var u={eventtype:t,coords:v._getClickCoords(),feature:e,target:a};return r&&(e&&e.fragments?u.highlight=e.fragments.map((function(t){return"".concat(t.start,":").concat(t.end)})).join(","):n.e&&n.e.shiftKey&&this._highlight?u.highlight="".concat(this._highlight,",").concat(i,":").concat(c):u.highlight=i&&c?"".concat(i,":").concat(c):null),o&&(u.selectedid=e&&e.protvistaFeatureId),new CustomEvent("change",{detail:u,bubbles:!0,cancelable:!0})}},{key:"bindEvents",value:function(t,e){t.on("mouseover",(function(t,r,n){e.dispatchEvent(e.createEvent("mouseover",t,"onmouseover"===e._highlightEvent,!1,t.start,t.end,n[r]))})).on("mouseout",(function(){e.dispatchEvent(e.createEvent("mouseout",null,"onmouseover"===e._highlightEvent))})).on("click",(function(t,r,n){e.dispatchEvent(e.createEvent("click",t,"onclick"===e._highlightEvent,!0,t.start,t.end,n[r]))}))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}},{key:"length",set:function(t){this._length=t,this.trackHighlighter.max=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}},{key:"fixedHighlight",set:function(t){this.trackHighlighter.setFixedHighlight(t)}}])&&s(c.prototype,u),p&&s(c,p),v}(p(HTMLElement));e.a=v},593:function(t,e,r){"use strict";var n=r(565),o=r(563),i=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.a=function(t){if("number"==typeof t)return t;if(Object(o.a)(t))return NaN;if(Object(n.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(n.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=a.test(t);return r||u.test(t)?s(t.slice(2),r?2:8):c.test(t)?NaN:+t}},594:function(t,e,r){"use strict";var n=r(607),o=r(570);e.a=function(t,e){return t&&Object(n.a)(t,e,o.a)}},597:function(t,e,r){"use strict";var n=r(635),o=r(608);e.a=function(t,e,r,i){var c=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var s=e[a],l=i?i(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),c?Object(o.a)(r,s,l):Object(n.a)(r,s,l)}return r}},603:function(t,e,r){"use strict";var n=r(593);var o=function(t){return t?(t=Object(n.a)(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};e.a=function(t){var e=o(t),r=e%1;return e==e?r?e-r:e:0}},604:function(t,e,r){"use strict";e.a=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},605:function(t,e,r){"use strict";var n=function(t,e){return null!=t&&e in Object(t)},o=r(569),i=r(621),c=r(561),a=r(616),u=r(627),s=r(562);var l=function(t,e,r){for(var n=-1,l=(e=Object(o.a)(e,t)).length,f=!1;++n<l;){var p=Object(s.a)(e[n]);if(!(f=null!=t&&r(t,p)))break;t=t[p]}return f||++n!=l?f:!!(l=null==t?0:t.length)&&Object(u.a)(l)&&Object(a.a)(p,l)&&(Object(c.a)(t)||Object(i.a)(t))};e.a=function(t,e){return null!=t&&l(t,e,n)}},606:function(t,e,r){"use strict";var n=r(584),o=r(566),i=r(561),c=r(563),a=n.a?n.a.prototype:void 0,u=a?a.toString:void 0;var s=function t(e){if("string"==typeof e)return e;if(Object(i.a)(e))return Object(o.a)(e,t)+"";if(Object(c.a)(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};e.a=function(t){return null==t?"":s(t)}},607:function(t,e,r){"use strict";var n=function(t){return function(e,r,n){for(var o=-1,i=Object(e),c=n(e),a=c.length;a--;){var u=c[t?a:++o];if(!1===r(i[u],u,i))break}return e}}();e.a=n},612:function(t,e,r){"use strict";var n=r(631);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var c=t.apply(this,n);return r.cache=i.set(o,c)||i,c};return r.cache=new(o.Cache||n.a),r}o.Cache=n.a,e.a=o},620:function(t,e,r){"use strict";var n=r(685),o=r(565),i=r(645);var c=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},a=Object.prototype.hasOwnProperty;var u=function(t){if(!Object(o.a)(t))return c(t);var e=Object(i.a)(t),r=[];for(var n in t)("constructor"!=n||!e&&a.call(t,n))&&r.push(n);return r},s=r(578);e.a=function(t){return Object(s.a)(t)?Object(n.a)(t,!0):u(t)}},625:function(t,e,r){"use strict";e.a=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},626:function(t,e,r){"use strict";var n=r(565),o=Object.create,i=function(){function t(){}return function(e){if(!Object(n.a)(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();e.a=i},628:function(t,e,r){"use strict";var n=r(622);e.a=function(t){var e=new t.constructor(t.byteLength);return new n.a(e).set(new n.a(t)),e}},634:function(t,e,r){"use strict";var n=r(670),o=Object(n.a)(Object.getPrototypeOf,Object);e.a=o},635:function(t,e,r){"use strict";var n=r(608),o=r(610),i=Object.prototype.hasOwnProperty;e.a=function(t,e,r){var c=t[e];i.call(t,e)&&Object(o.a)(c,r)&&(void 0!==r||e in t)||Object(n.a)(t,e,r)}},637:function(t,e,r){"use strict";e.a=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},638:function(t,e,r){"use strict";var n=r(567);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)})(t)}function u(t,e,r){return(u=s()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&l(o,r.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,t);var e,r,o,a,u,p=(e=h,r=s(),function(){var t,n=f(e);if(r){var o=f(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this))._x=null,t._padding=0,t.dontDispatch=!1,t}return o=h,u=[{key:"observedAttributes",get:function(){return["length","displaystart","displayend","highlightStart","highlightEnd","width"]}}],(a=[{key:"_refreshWidth",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.width>0&&(this._padding=10)}},{key:"connectedCallback",value:function(){this._refreshWidth(),this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=parseFloat(this.getAttribute("length")),this._displaystart=parseFloat(this.getAttribute("displaystart"))||1,this._displayend=parseFloat(this.getAttribute("displayend"))||this._length,this._highlightStart=parseFloat(this.getAttribute("highlightStart")),this._highlightEnd=parseFloat(this.getAttribute("highlightEnd")),this._onResize=this._onResize.bind(this),this._createNavRuler()}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro&&this._ro.unobserve(this),window.removeEventListener("resize",this._onResize)}},{key:"attributeChangedCallback",value:function(t,e,r){e!==r&&(this["_".concat(t)]=parseFloat(r),this._updateNavRuler())}},{key:"_createNavRuler",value:function(){var t=this;this._x=Object(n.i)().range([this._padding,this.width-this._padding]),this._x.domain([1,this._length]),this._svg=Object(n.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",40),this._xAxis=Object(n.a)(this._x),this._displaystartLabel=this._svg.append("text").attr("class","start-label").attr("x",0).attr("y",40-this._padding),this._displayendLabel=this._svg.append("text").attr("class","end-label").attr("x",this.width).attr("y",40-this._padding).attr("text-anchor","end"),this._axis=this._svg.append("g").attr("class","x axis").call(this._xAxis),this._viewport=Object(n.d)().extent([[this._padding,0],[this.width-this._padding,20.4]]).on("brush",(function(){n.e.selection&&(t._displaystart=Object(n.f)("d")(t._x.invert(n.e.selection[0])),t._displayend=Object(n.f)("d")(t._x.invert(n.e.selection[1])),t.dontDispatch||t.dispatchEvent(new CustomEvent("change",{detail:{displayend:t._displayend,displaystart:t._displaystart,extra:{transform:n.e.transform}},bubbles:!0,cancelable:!0})),t._updateLabels(),t._updatePolygon())})),this._brushG=this._svg.append("g").attr("class","brush").call(this._viewport),this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.polygon=this._svg.append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),this._updateNavRuler(),"ResizeObserver"in window&&(this._ro=new ResizeObserver(this._onResize),this._ro.observe(this)),window.addEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){this._refreshWidth(),this._x=this._x.range([this._padding,this.width-this._padding]),this._svg.attr("width",this.width),this._viewport.extent([[this._padding,0],[this.width-this._padding,20.4]]),this._brushG.call(this._viewport),this._updateNavRuler()}},{key:"_updateNavRuler",value:function(){this._x&&(this._x.domain([1,this._length]),this._axis.call(this._xAxis),this._updatePolygon(),this._updateLabels(),this._brushG&&(this.dontDispatch=!0,this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.dontDispatch=!1))}},{key:"_updateLabels",value:function(){this._displaystartLabel&&this._displaystartLabel.text(this._displaystart),this._displayendLabel&&this._displayendLabel.attr("x",this.width).text(this._displayend)}},{key:"_updatePolygon",value:function(){this.polygon&&this.polygon.attr("points","".concat(this._x(this._displaystart),",").concat(20,"\n        ").concat(this._x(this._displayend),",").concat(20,"\n        ").concat(this.width,",").concat(40,"\n        0,").concat(40))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}}])&&i(o.prototype,a),u&&i(o,u),h}(a(HTMLElement));e.a=p},639:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)})(t)}function a(t,e,r){return(a=u()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&s(o,r.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,n,c,a,f=(e=p,r=u(),function(){var t,n=l(e);if(r){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return i(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this)).protvistaElements=new Set,t.attributeValues=new Map,t.propertyValues=new Map,t.mouseOver=!1,t}return n=p,a=[{key:"observedAttributes",get:function(){return["attributes"]}}],(c=[{key:"attributeChangedCallback",value:function(t,e,r){if(e!==r&&"attributes"===t){if(this._attributes=r.split(" "),-1!==this._attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==this._attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute")}}},{key:"register",value:function(t){this.protvistaElements.add(t)}},{key:"unregister",value:function(t){this.protvistaElements.delete(t)}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var r=t;do{if(r.matches(e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null})}},{key:"applyAttributes",value:function(){var t=this;this.protvistaElements.forEach((function(e){t.attributeValues.forEach((function(t,r){!1===t?e.removeAttribute(r):e.setAttribute(r,"boolean"==typeof t?"":t)}))}))}},{key:"applyProperties",value:function(t){var e=this;if(t){var r=this.querySelector("#".concat(t));this.propertyValues.forEach((function(t,e){r[e]=t}))}else this.protvistaElements.forEach((function(t){e.propertyValues.forEach((function(e,r){t[r]=e}))}))}},{key:"_changeListener",value:function(t){var e=this;switch(t.detail.handler){case"property":this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for);break;default:-1!==this._attributes.indexOf(t.detail.type)&&this.attributeValues.set(t.detail.type,t.detail.value),Object.keys(t.detail).forEach((function(r){-1!==e._attributes.indexOf(r)&&e.attributeValues.set(r,t.detail[r])})),this.applyAttributes()}}},{key:"connectedCallback",value:function(){this.addEventListener("change",this._changeListener)}}])&&o(n.prototype,c),a&&o(n,a),p}(c(HTMLElement));e.a=f},641:function(t,e,r){"use strict";var n=r(658),o=r(634),i=r(646),c=r(671),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(n.a)(e,Object(i.a)(t)),t=Object(o.a)(t);return e}:c.a;e.a=a},643:function(t,e,r){"use strict";(function(t){var n=r(589);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,c=i&&"object"==o(t)&&t&&!t.nodeType&&t,a=c&&c.exports===i?n.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(642)(t))},644:function(t,e,r){"use strict";var n=r(626),o=r(634),i=r(645);e.a=function(t){return"function"!=typeof t.constructor||Object(i.a)(t)?{}:Object(n.a)(Object(o.a)(t))}},648:function(t,e,r){"use strict";var n=r(628);e.a=function(t,e){var r=e?Object(n.a)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},649:function(t,e,r){"use strict";var n=r(672),o=r(641),i=r(620);e.a=function(t){return Object(n.a)(t,i.a,o.a)}},651:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(0)),i=c(r(56));function c(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t.children,r=t.width,i=t.height,c=t.style,a=void 0===c?{}:c,u=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["children","width","height","style"]);return o.default.createElement("svg",n({children:e,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:i,width:r,style:a},u))};a.propTypes={children:i.default.node.isRequired,width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object},e.default=a},656:function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(t){n=c}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!l){var t=a(p);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function b(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new y(t,e)),1!==s.length||l||a(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},663:function(t,e,r){"use strict";var n=r(586),o=r(637),i=r(635),c=r(597),a=r(570);var u=function(t,e){return t&&Object(c.a)(e,Object(a.a)(e),t)},s=r(620);var l=function(t,e){return t&&Object(c.a)(e,Object(s.a)(e),t)},f=r(643),p=r(625),h=r(646);var y=function(t,e){return Object(c.a)(t,Object(h.a)(t),e)},b=r(641);var d=function(t,e){return Object(c.a)(t,Object(b.a)(t),e)},v=r(623),m=r(649),g=r(609),O=Object.prototype.hasOwnProperty;var w=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&O.call(t,"index")&&(r.index=t.index,r.input=t.input),r},j=r(628);var S=function(t,e){var r=e?Object(j.a)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},P=/\w*$/;var _=function(t){var e=new t.constructor(t.source,P.exec(t));return e.lastIndex=t.lastIndex,e},E=r(584),x=E.a?E.a.prototype:void 0,k=x?x.valueOf:void 0;var T=function(t){return k?Object(k.call(t)):{}},R=r(648);var C=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Object(j.a)(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return S(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(R.a)(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return _(t);case"[object Set]":return new n;case"[object Symbol]":return T(t)}},D=r(644),A=r(561),q=r(618),M=r(564);var B=function(t){return Object(M.a)(t)&&"[object Map]"==Object(g.a)(t)},F=r(615),H=r(647),L=H.a&&H.a.isMap,W=L?Object(F.a)(L):B,N=r(565);var I=function(t){return Object(M.a)(t)&&"[object Set]"==Object(g.a)(t)},z=H.a&&H.a.isSet,V=z?Object(F.a)(z):I,Y={};Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object DataView]"]=Y["[object Boolean]"]=Y["[object Date]"]=Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object Symbol]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Error]"]=Y["[object Function]"]=Y["[object WeakMap]"]=!1;e.a=function t(e,r,c,s,h,b){var O,j=1&r,S=2&r,P=4&r;if(c&&(O=h?c(e,s,h,b):c(e)),void 0!==O)return O;if(!Object(N.a)(e))return e;var _=Object(A.a)(e);if(_){if(O=w(e),!j)return Object(p.a)(e,O)}else{var E=Object(g.a)(e),x="[object Function]"==E||"[object GeneratorFunction]"==E;if(Object(q.a)(e))return Object(f.a)(e,j);if("[object Object]"==E||"[object Arguments]"==E||x&&!h){if(O=S||x?{}:Object(D.a)(e),!j)return S?d(e,l(O,e)):y(e,u(O,e))}else{if(!Y[E])return h?e:{};O=C(e,E,j)}}b||(b=new n.a);var k=b.get(e);if(k)return k;b.set(e,O),V(e)?e.forEach((function(n){O.add(t(n,r,c,n,e,b))})):W(e)&&e.forEach((function(n,o){O.set(o,t(n,r,c,o,e,b))}));var T=P?S?m.a:v.a:S?keysIn:a.a,R=_?void 0:T(e);return Object(o.a)(R||e,(function(n,o){R&&(n=e[o=n]),Object(i.a)(O,o,t(n,r,c,o,e,b))})),O}},710:function(t,e,r){"use strict";(function(t,n){var o,i=r(711);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:n;var c=Object(i.a)(o);e.a=c}).call(this,r(112),r(642)(t))},711:function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.d(e,"a",(function(){return n}))},712:function(t,e,r){"use strict";(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(114);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function c(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=r(713),u=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function f(t){return Object.prototype.toString.call(t)}function p(t){return!c(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=g,y=/\s*function\s+([^\(\s]*)\s*/;function b(t){if(a.isFunction(t)){if(l)return t.name;var e=t.toString().match(y);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(l||!a.isFunction(t))return a.inspect(t);var e=b(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,r,n,o){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function g(t,e){t||m(t,!0,e,"==",h.ok)}function O(t,e,r,o){if(t===e)return!0;if(c(t)&&c(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===n(t)||null!==e&&"object"===n(e)){if(p(t)&&p(e)&&f(t)===f(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(c(t)!==c(e))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=w(t),i=w(e);if(o&&!i||!o&&i)return!1;if(o)return t=s.call(t),e=s.call(e),O(t,e,r);var c,u,l=P(t),f=P(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),u=l.length-1;u>=0;u--)if(l[u]!==f[u])return!1;for(u=l.length-1;u>=0;u--)if(c=l[u],!O(t[c],e[c],r,n))return!1;return!0}(t,e,r,o))}return r?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function j(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&m(o,r,"Missing expected exception"+n);var i="string"==typeof n,c=!t&&o&&!r;if((!t&&a.isError(o)&&i&&j(o,r)||c)&&m(o,r,"Got unwanted exception"+n),t&&o&&r&&!j(o,r)||!t&&o)throw o}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(v(t.actual),128)+" "+t.operator+" "+d(v(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=b(e),i=n.indexOf("\n"+o);if(i>=0){var c=n.indexOf("\n",i+1);n=n.substring(c+1)}this.stack=n}}},a.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,r){t!=e&&m(t,e,r,"==",h.equal)},h.notEqual=function(t,e,r){t==e&&m(t,e,r,"!=",h.notEqual)},h.deepEqual=function(t,e,r){O(t,e,!1)||m(t,e,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,r){O(t,e,!0)||m(t,e,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){O(t,e,!1)&&m(t,e,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){O(e,r,!0)&&m(e,r,n,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,r){t!==e&&m(t,e,r,"===",h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&&m(t,e,r,"!==",h.notStrictEqual)},h.throws=function(t,e,r){S(!0,t,e,r)},h.doesNotThrow=function(t,e,r){S(!1,t,e,r)},h.ifError=function(t){if(t)throw t},h.strict=o((function t(e,r){e||m(e,!0,r,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var P=Object.keys||function(t){var e=[];for(var r in t)u.call(t,r)&&e.push(r);return e}}).call(this,r(112))},713:function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,c=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])d(a)||!w(a)?c+=" "+a:c+=" "+u(a);return c},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var c,a={};function u(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),f(n,t,n.depth)}function s(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function l(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&P(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return m(o)||(o=f(t,o,n)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(b(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,r);if(i)return i;var c=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(c);if(t.showHidden&&(c=Object.getOwnPropertyNames(r)),S(r)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return p(r);if(0===c.length){if(P(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(O(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(j(r))return t.stylize(Date.prototype.toString.call(r),"date");if(S(r))return p(r)}var s,l="",w=!1,_=["{","}"];(y(r)&&(w=!0,_=["[","]"]),P(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return O(r)&&(l=" "+RegExp.prototype.toString.call(r)),j(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+p(r)),0!==c.length||w&&0!=r.length?n<0?O(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),s=w?function(t,e,r,n,o){for(var i=[],c=0,a=e.length;c<a;++c)T(e,String(c))?i.push(h(t,e,r,n,String(c),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,r,n,o,!0))})),i}(t,r,n,a,c):c.map((function(e){return h(t,r,n,a,e,w)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(s,l,_)):_[0]+l+_[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,n,o,i){var c,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),T(n,o)||(c="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=d(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),g(c)){if(i&&o.match(/^\d+$/))return a;(c=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+a}function y(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function O(t){return w(t)&&"[object RegExp]"===_(t)}function w(t){return"object"===n(t)&&null!==t}function j(t){return w(t)&&"[object Date]"===_(t)}function S(t){return w(t)&&("[object Error]"===_(t)||t instanceof Error)}function P(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(g(c)&&(c=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(c)){var n=t.pid;a[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else a[r]=function(){};return a[r]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=y,e.isBoolean=b,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"===n(t)},e.isUndefined=g,e.isRegExp=O,e.isObject=w,e.isDate=j,e.isError=S,e.isFunction=P,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===n(t)||void 0===t},e.isBuffer=r(714);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=r(715),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=R,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,c=function(){return o.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(c,null,e)}),(function(e){t.nextTick(C,e,c)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,o(e)),r}}).call(this,r(656))},714:function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&"object"===r(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},715:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},716:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(0)),i=c(r(651));function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,n({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M4 0H0v4h1V1h3V0zm11 0h-3v1h3v3h1V0h-1zM1 15v-3H0v4h4v-1H1zm14-3v3h-3v1h4v-4h-1zm-2-3l-.008-.003L11.5 10.5 9 8l2.5-2.5L12.971 7H13V3H9v.03l1.5 1.47L8 7 5.5 4.5 7 3.03V3H3v4l1.5-1.5L7 8l-2.5 2.5L3 9v4h4l-1.5-1.5L8 9l2.5 2.5L9 13h4V9z"}))}},717:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(0)),i=c(r(651));function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,n({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.013 1.012V15h13.999V1.012H.013zm10.999 7.995H8.013v2.999h-2V9.007h-3V7.008h3V4.01h2v2.998h2.999v1.999z"}))}},718:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(0)),i=c(r(651));function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,n({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.004 1v14h14V1h-14zM11 9H3V7h8v2z"}))}},723:function(t,e,r){"use strict";var n=r(591),o=r(0),i=r.n(o),c=r(56),a=r.n(c),u=i.a.createContext(null);var s=function(t){t()},l={notify:function(){}};function f(){var t=s,e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],r=e;r;)t.push(r),r=r.next;return t},subscribe:function(t){var n=!0,o=r={callback:t,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){n&&null!==e&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var p=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=f())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},t}();var h=function(t){var e=t.store,r=t.context,n=t.children,c=Object(o.useMemo)((function(){var t=new p(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),a=Object(o.useMemo)((function(){return e.getState()}),[e]);Object(o.useEffect)((function(){var t=c.subscription;return t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[c,a]);var s=r||u;return i.a.createElement(s.Provider,{value:c},n)};function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function b(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}var d=r(116),v=r.n(d),m=r(115),g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,O=[],w=[null,null];function j(t,e){var r=t[1];return[e.payload,r+1]}function S(t,e,r){g((function(){return t.apply(void 0,e)}),r)}function P(t,e,r,n,o,i,c){t.current=n,e.current=o,r.current=!1,i.current&&(i.current=null,c())}function _(t,e,r,n,o,i,c,a,u,s){if(t){var l=!1,f=null,p=function(){if(!l){var t,r,p=e.getState();try{t=n(p,o.current)}catch(t){r=t,f=t}r||(f=null),t===i.current?c.current||u():(i.current=t,a.current=t,c.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function x(t,e){void 0===e&&(e={});var r=e,n=r.getDisplayName,c=void 0===n?function(t){return"ConnectAdvanced("+t+")"}:n,a=r.methodName,s=void 0===a?"connectAdvanced":a,l=r.renderCountProp,f=void 0===l?void 0:l,h=r.shouldHandleStateChanges,d=void 0===h||h,g=r.storeKey,x=void 0===g?"store":g,k=(r.withRef,r.forwardRef),T=void 0!==k&&k,R=r.context,C=void 0===R?u:R,D=b(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),A=C;return function(e){var r=e.displayName||e.name||"Component",n=c(r),a=y({},D,{getDisplayName:c,methodName:s,renderCountProp:f,shouldHandleStateChanges:d,storeKey:x,displayName:n,wrappedComponentName:r,WrappedComponent:e}),u=D.pure;var l=u?o.useMemo:function(t){return t()};function h(r){var n=Object(o.useMemo)((function(){var t=r.forwardedRef,e=b(r,["forwardedRef"]);return[r.context,t,e]}),[r]),c=n[0],u=n[1],s=n[2],f=Object(o.useMemo)((function(){return c&&c.Consumer&&Object(m.isContextConsumer)(i.a.createElement(c.Consumer,null))?c:A}),[c,A]),h=Object(o.useContext)(f),v=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var g=v?r.store:h.store,x=Object(o.useMemo)((function(){return function(e){return t(e.dispatch,a)}(g)}),[g]),k=Object(o.useMemo)((function(){if(!d)return w;var t=new p(g,v?null:h.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[g,v,h]),T=k[0],R=k[1],C=Object(o.useMemo)((function(){return v?h:y({},h,{subscription:T})}),[v,h,T]),D=Object(o.useReducer)(j,O,E),q=D[0][0],M=D[1];if(q&&q.error)throw q.error;var B=Object(o.useRef)(),F=Object(o.useRef)(s),H=Object(o.useRef)(),L=Object(o.useRef)(!1),W=l((function(){return H.current&&s===F.current?H.current:x(g.getState(),s)}),[g,q,s]);S(P,[F,B,L,s,W,H,R]),S(_,[d,g,T,x,F,B,L,H,R,M],[g,T,x]);var N=Object(o.useMemo)((function(){return i.a.createElement(e,y({},W,{ref:u}))}),[u,e,W]);return Object(o.useMemo)((function(){return d?i.a.createElement(f.Provider,{value:C},N):N}),[f,N,C])}var g=u?i.a.memo(h):h;if(g.WrappedComponent=e,g.displayName=n,T){var k=i.a.forwardRef((function(t,e){return i.a.createElement(g,y({},t,{forwardedRef:e}))}));return k.displayName=n,k.WrappedComponent=e,v()(k,e)}return v()(g,e)}}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function R(t,e){if(T(t,e))return!0;if("object"!==k(t)||null===t||"object"!==k(e)||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(e,r[o])||!T(t[r[o]],e[r[o]]))return!1;return!0}var C=r(710);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A=function(){return Math.random().toString(36).substring(7).split("").join(".")},q={INIT:"@@redux/INIT"+A(),REPLACE:"@@redux/REPLACE"+A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A()}};function M(t){if("object"!==D(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function B(t,e,r){var n;if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(B)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,c=[],a=c,u=!1;function s(){a===c&&(a=c.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return s(),a.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,s();var r=a.indexOf(t);a.splice(r,1),c=null}}}function p(t){if(!M(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,t)}finally{u=!1}for(var e=c=a,r=0;r<e.length;r++){(0,e[r])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:q.REPLACE})}function y(){var t,e=f;return(t={subscribe:function(t){if("object"!==D(t)||null===t)throw new TypeError("Expected the observer to be an object.");function r(){t.next&&t.next(l())}return r(),{unsubscribe:e(r)}}})[C.a]=function(){return this},t}return p({type:q.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:h})[C.a]=y,n}function F(t,e){return function(){return e(t.apply(this,arguments))}}function H(t){return function(e,r){var n=t(e,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function L(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function W(t,e){return function(e,r){r.displayName;var n=function(t,e){return n.dependsOnOwnProps?n.mapToProps(t,e):n.mapToProps(t)};return n.dependsOnOwnProps=!0,n.mapToProps=function(e,r){n.mapToProps=t,n.dependsOnOwnProps=L(t);var o=n(e,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=L(o),o=n(e,r)),o},n}}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I=[function(t){return"function"==typeof t?W(t):void 0},function(t){return t?void 0:H((function(t){return{dispatch:t}}))},function(t){return t&&"object"===N(t)?H((function(e){return function(t,e){if("function"==typeof t)return F(t,e);if("object"!==D(t)||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":D(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in t){var o=t[n];"function"==typeof o&&(r[n]=F(o,e))}return r}(t,e)})):void 0}];var z=[function(t){return"function"==typeof t?W(t):void 0},function(t){return t?void 0:H((function(){return{}}))}];function V(t,e,r){return y({},r,{},t,{},e)}var Y=[function(t){return"function"==typeof t?function(t){return function(e,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,c=!1;return function(e,r,a){var u=t(e,r,a);return c?o&&i(u,n)||(n=u):(c=!0,n=u),n}}}(t):void 0},function(t){return t?void 0:function(){return V}}];function X(t,e,r,n){return function(o,i){return r(t(o,i),e(n,i),i)}}function G(t,e,r,n,o){var i,c,a,u,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function y(o,h){var y,b,d=!f(h,c),v=!l(o,i);return i=o,c=h,d&&v?(a=t(i,c),e.dependsOnOwnProps&&(u=e(n,c)),s=r(a,u,c)):d?(t.dependsOnOwnProps&&(a=t(i,c)),e.dependsOnOwnProps&&(u=e(n,c)),s=r(a,u,c)):v?(y=t(i,c),b=!p(y,a),a=y,b&&(s=r(a,u,c)),s):s}return function(o,l){return h?y(o,l):(a=t(i=o,c=l),u=e(n,c),s=r(a,u,c),h=!0,s)}}function U(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,o=e.initMergeProps,i=b(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=r(t,i),a=n(t,i),u=o(t,i);return(i.pure?G:X)(c,a,u,t,i)}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e,r){for(var n=e.length-1;n>=0;n--){var o=e[n](t);if(o)return o}return function(e,n){throw new Error("Invalid value of type "+K(t)+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Q(t,e){return t===e}function $(t){var e=void 0===t?{}:t,r=e.connectHOC,n=void 0===r?x:r,o=e.mapStateToPropsFactories,i=void 0===o?z:o,c=e.mapDispatchToPropsFactories,a=void 0===c?I:c,u=e.mergePropsFactories,s=void 0===u?Y:u,l=e.selectorFactory,f=void 0===l?U:l;return function(t,e,r,o){void 0===o&&(o={});var c=o,u=c.pure,l=void 0===u||u,p=c.areStatesEqual,h=void 0===p?Q:p,d=c.areOwnPropsEqual,v=void 0===d?R:d,m=c.areStatePropsEqual,g=void 0===m?R:m,O=c.areMergedPropsEqual,w=void 0===O?R:O,j=b(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=Z(t,i,"mapStateToProps"),P=Z(e,a,"mapDispatchToProps"),_=Z(r,s,"mergeProps");return n(f,y({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:P,initMergeProps:_,pure:l,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:g,areMergedPropsEqual:w},j))}}var J=$();var tt,et=r(113),rt=r.n(et);function nt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i;return 0===r.length?i=n[0]:(i={},r.forEach((function(t,e){i[r[e]]=n[e]}))),{type:t,payload:i}};return o.toString=function(){return t.toString()},o.key=o.toString(),o}tt=et.unstable_batchedUpdates,s=tt;var ot=nt("PROPS_UPDATE"),it=nt("PROP_UPDATE","key","value"),ct=nt("SEQUENCES_UPDATE"),at={updateProp:it,updateProps:ot,updateSequences:ct};var ut=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t},st=r(593);var lt=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=Object(st.a)(r))==r?r:0),void 0!==e&&(e=(e=Object(st.a)(e))==e?e:0),ut(Object(st.a)(t),e,r)},ft=r(572),pt=r(635),ht=r(569),yt=r(616),bt=r(565),dt=r(562);var vt=function(t,e,r,n){if(!Object(bt.a)(t))return t;for(var o=-1,i=(e=Object(ht.a)(e,t)).length,c=i-1,a=t;null!=a&&++o<i;){var u=Object(dt.a)(e[o]),s=r;if(o!=c){var l=a[u];void 0===(s=n?n(l,u,a):void 0)&&(s=Object(bt.a)(l)?l:Object(yt.a)(e[o+1])?[]:{})}Object(pt.a)(a,u,s),a=a[u]}return t};var mt=function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var c=e[n],a=Object(ft.a)(t,c);r(a,c)&&vt(i,Object(ht.a)(c,t),a)}return i},gt=r(605);var Ot=function(t,e){return mt(t,e,(function(e,r){return Object(gt.a)(t,r)}))},wt=r(632);var jt=function(t){return(null==t?0:t.length)?Object(wt.a)(t,1):[]},St=r(701),Pt=r(664);var _t=function(t){return Object(Pt.a)(Object(St.a)(t,void 0,jt),t+"")},Et=_t((function(t,e){return null==t?{}:Ot(t,e)})),xt=r(589),kt=r(603),Tt=r(606),Rt=xt.a.isFinite,Ct=Math.min;var Dt=function(t){var e=Math[t];return function(t,r){if(t=Object(st.a)(t),(r=null==r?0:Ct(Object(kt.a)(r),292))&&Rt(t)){var n=(Object(Tt.a)(t)+"e").split("e"),o=e(n[0]+"e"+(+n[1]+r));return+((n=(Object(Tt.a)(o)+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("floor"),At=r(712);function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ft=nt("MAINSTORE_UPDATE"),Ht=nt("POSITION_MOVE"),Lt=nt("POSITION_UPDATE"),Wt=nt("POSITION_BY_RESIDUE_UPDATE"),Nt=nt("HIGHLIGHT_REGION"),It=nt("REMOVE_HIGHLIGHT_REGION"),zt={updateMainStore:Ft,updatePosition:Lt,movePosition:Ht,updatePositionByResidue:Wt,highlightRegion:Nt,removeHighlightRegion:It};function Vt(t,e){var r=t.sequences.maxLength*t.props.tileWidth-t.props.width;e.xPos=lt(e.xPos,0,r);var n=t.sequences.raw.length*t.props.tileHeight-t.props.height;return e.yPos=lt(e.yPos,0,n),Mt({},t,{position:e})}var Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0}},e=arguments.length>1?arguments[1]:void 0,r=t.position;switch(e.type){case Ht.key:At(void 0!==e.payload.xMovement||void 0!==e.payload.yMovement,"must contain at least xMovement or yMovement");var n=Mt({},r);return n.xPos+=e.payload.xMovement||0,n.yPos+=e.payload.yMovement||0,Vt(t,n);case Lt.key:At(void 0!==e.payload.xPos||void 0!==e.payload.yPos,"must contain at least xPos or yPos");var o={xPos:e.payload.xPos||r.xPos,yPos:e.payload.yPos||r.yPos};return Vt(t,o);case Wt.key:At(void 0!==e.payload.aaPos,"must contain at least aaPos");var i={xPos:t.props.tileWidth*(e.payload.aaPos-1),yPos:r.yPos};return Vt(t,i);default:return t}};function Xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0},highlight:null},e=arguments.length>1?arguments[1]:void 0,r=t,n=t.position,o=t.highlight;switch(e.type){case Ft.key:r=Mt({},Et(r,["props","sequenceStats","sequences"]),{},e.payload);break;case Lt.key:case Ht.key:case Wt.key:n=Yt(r,e).position;break;case Nt.key:o=e.payload;break;case It.key:o=null;break;default:return r}var i={xPosOffset:-n.xPos%r.props.tileWidth,yPosOffset:-n.yPos%r.props.tileWidth,currentViewSequence:lt(Dt(n.yPos/r.props.tileHeight),0,r.sequences.length-1),currentViewSequencePosition:lt(Dt(n.xPos/r.props.tileWidth),0,r.sequences.maxLength),position:n};return Mt({},r,{},i,{highlight:o})}var Gt=r(612),Ut=r(566),Kt=r(663);var Zt=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Qt=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i};var $t=function(t,e){return e.length<2?t:Object(ft.a)(t,Qt(e,0,-1))};var Jt=function(t,e){return e=Object(ht.a)(e,t),null==(t=$t(t,e))||delete t[Object(dt.a)(Zt(e))]},te=r(597),ee=r(588),re=r(634),ne=r(564),oe=Function.prototype,ie=Object.prototype,ce=oe.toString,ae=ie.hasOwnProperty,ue=ce.call(Object);var se=function(t){if(!Object(ne.a)(t)||"[object Object]"!=Object(ee.a)(t))return!1;var e=Object(re.a)(t);if(null===e)return!0;var r=ae.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ce.call(r)==ue};var le=function(t){return se(t)?void 0:t},fe=r(649),pe=_t((function(t,e){var r={};if(null==t)return r;var n=!1;e=Object(Ut.a)(e,(function(e){return e=Object(ht.a)(e,t),n||(n=e.length>1),e})),Object(te.a)(t,Object(fe.a)(t),r),n&&(r=Object(Kt.a)(r,7,le));for(var o=e.length;o--;)Jt(r,e[o]);return r})),he=r(594),ye=r(611);var be=function(t){return"function"==typeof t?t:ye.a};var de=function(t,e){return t&&Object(he.a)(t,be(e))},ve=function(t){this.defaultColor="#ffffff",this.type="static",this.map=t,this.getColor=function(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}},me=function(t,e){this.type="dyn",this.opt=e,void 0!==t.init?(t.init.call(this),this.getColor=t.run,this.reset=t.init):this.getColor=t},ge={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},Oe={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},we={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"},je={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},Se={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"},Pe={init:function(){this.cons=this.opt.conservation()},run:function(t,e){var r=this.cons[e.pos];return r>.8?"#6464ff":r>.6?"#9da5ff":r>.4?"#cccccc":"#ffffff"}};function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ee={buried:ge,buried_index:ge,cinema:{A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"},clustal2:{A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"},clustal:{A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"},helix:Oe,helix_propensity:Oe,hydro:{A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"},lesk:{A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"},mae:{A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"},nucleotide:{A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"},purine:we,purine_pyrimidine:we,strand:je,strand_propensity:je,taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"},turn:Se,turn_propensity:Se,zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},xe={pid:Pe},ke=function(t){this.maps=Te(Ee),this.dyn=Te(xe),this.opt=t};function Te(t){if(null==t||"object"!==_e(t))return t;var e=t.constructor();for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}ke.getScheme=function(t){return Ee[t]},ke.prototype.getScheme=function(t){var e=this.maps[t];return void 0===e&&(e={},void 0!==this.dyn[t])?new me(this.dyn[t],this.opt):new ve(e)},ke.prototype.addStaticScheme=function(t,e){this.maps[t]=e},ke.prototype.addDynScheme=function(t,e){this.dyn[t]=e};var Ce=new ke,De=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheme=Ce.getScheme(e)}var e,r,n;return e=t,(r=[{key:"getColor",value:function(t){return this.scheme.getColor(t)}}])&&Re(e.prototype,r),n&&Re(e,n),t}();function Ae(t){return t&&"function"==typeof t.getColor}var qe=a.a.shape({name:a.a.string,sequence:a.a.string}),Me=a.a.oneOfType([a.a.oneOf(["buried_index","clustal","clustal2","cinema","helix_propensity","hydro","lesk","mae","nucleotide","purine_pyrimidine","strand_propensity","taylor","turn_propensity","zappo"]),a.a.instanceOf(De),function(t,e,r){if(!Ae(t[e]))return new Error("Invalid prop `"+e+"` supplied to `"+r+"`. Validation failed.")}]),Be=a.a.shape({xPos:a.a.number,yPos:a.a.number}),Fe={width:a.a.number,height:a.a.number,tileWidth:a.a.number,tileHeight:a.a.number,colorScheme:Me},He={width:800,height:600,tileWidth:20,tileHeight:20,colorScheme:"clustal"};var Le=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r},We=r(582),Ne=r(573);var Ie=function(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r},ze=r(561);var Ve=function(t,e,r){var n=Object(ze.a)(t)?Le:Ie,o=arguments.length<3;return n(t,Object(Ne.a)(e,4),r,o,We.a)},Ye=r(574);var Xe=function(t,e){return Object(Ye.a)(t,e)},Ge=r(586),Ue=r(608),Ke=r(610);var Ze=function(t,e,r){(void 0!==r&&!Object(Ke.a)(t[e],r)||void 0===r&&!(e in t))&&Object(Ue.a)(t,e,r)},Qe=r(607),$e=r(643),Je=r(648),tr=r(625),er=r(644),rr=r(621),nr=r(599),or=r(618),ir=r(669),cr=r(624);var ar=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},ur=r(620);var sr=function(t){return Object(te.a)(t,Object(ur.a)(t))};var lr=function(t,e,r,n,o,i,c){var a=ar(t,r),u=ar(e,r),s=c.get(u);if(s)Ze(t,r,s);else{var l=i?i(a,u,r+"",t,e,c):void 0,f=void 0===l;if(f){var p=Object(ze.a)(u),h=!p&&Object(or.a)(u),y=!p&&!h&&Object(cr.a)(u);l=u,p||h||y?Object(ze.a)(a)?l=a:Object(nr.a)(a)?l=Object(tr.a)(a):h?(f=!1,l=Object($e.a)(u,!0)):y?(f=!1,l=Object(Je.a)(u,!0)):l=[]:se(u)||Object(rr.a)(u)?(l=a,Object(rr.a)(a)?l=sr(a):Object(bt.a)(a)&&!Object(ir.a)(a)||(l=Object(er.a)(u))):f=!1}f&&(c.set(u,l),o(l,u,n,i,c),c.delete(u)),Ze(t,r,l)}};var fr=function t(e,r,n,o,i){e!==r&&Object(Qe.a)(r,(function(c,a){if(i||(i=new Ge.a),Object(bt.a)(c))lr(e,r,a,n,t,o,i);else{var u=o?o(ar(e,a),c,a+"",e,r,i):void 0;void 0===u&&(u=c),Ze(e,a,u)}}),ur.a)},pr=r(590),hr=r(578);function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var br=function(t,e,r){if(!Object(bt.a)(r))return!1;var n=yr(e);return!!("number"==n?Object(hr.a)(r)&&Object(yt.a)(e,r.length):"string"==n&&e in r)&&Object(Ke.a)(r[e],t)};var dr=function(t){return Object(pr.a)((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,c=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,c&&br(r[0],r[1],c)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var a=r[n];a&&t(e,a,n,i)}return e}))},vr=dr((function(t,e,r){fr(t,e,r)}));var mr=function(t,e){var r={raw:e,length:e.length};return r.maxLength=Ve(e,(function(t,e){return Math.max(t,e.sequence.length)}),0),r};function gr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(r),!0).forEach((function(e){wr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jr(t){Ae(t.colorScheme)||(t.colorScheme=new De(t.colorScheme))}var Sr,Pr,_r=function(t,e){var r=Object.keys(e);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,i=t(n,o);if(n!==i)for(var c=0;c<r.length;c++){var a=r[c],u=e[a](i[a],o,i);if(void 0===u)throw new Error("A reducer can't return 'undefined'");i[a]=u}return i}}(function(t){var e=Object.keys(t);return function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o={},i=!1,c=0;c<e.length;c++){var a=e[c],u=t[a](r[a],n);if(void 0===u)throw new Error("A reducer can't return 'undefined'");o[a]=u,i=i||u!==r[a]}return i?o:r}}({props:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;switch(r){case at.updateProps.key:return t=Or({},t,{},n),"colorScheme"in n&&jr(t),t;case at.updateProp.key:var o=n.key,i=n.value;return t=Or({},t,wr({},o,i)),"colorScheme"===o&&jr(t),t;default:return void 0!==t.colorScheme&&jr(t),t}},sequences:(Sr=wr({},at.updateSequences,mr),Pr=[],function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;return Sr.hasOwnProperty(r)?Sr[r](t,n):t})}),{sequenceStats:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentViewSequence:0,currentViewSequencePosition:0},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(e.type){case at.updateProp.key:case at.updateProps.key:case at.updateSequences.key:if(r.props&&r.props.tileHeight&&r.props.tileWidth&&r.sequences){var n={};return n.nrXTiles=Math.ceil(r.props.width/r.props.tileWidth)+1,n.nrYTiles=Math.ceil(r.props.height/r.props.tileHeight)+1,n.fullWidth=r.props.tileWidth*r.sequences.maxLength,n.fullHeight=r.props.tileHeight*r.sequences.length,n}}return t}});function Er(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var xr=function(t){a.a.checkPropTypes(Fe,t,"prop","MSAViewer");var e=vr({},He,t),r=e.sequences,n=(e.position,Er(e,["sequences","position"])),o=B(_r,!1);return o.dispatch(ot(n)),o.dispatch(ct(r)),o};var kr=function(t,e){void 0===t.nextFrame&&(t.nextFrame=window.requestAnimationFrame(function(){e(),this.nextFrame=void 0}.bind(t)))};function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(){return(Rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Cr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ar(t,e){return(Ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Br(t);if(e){var o=Br(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mr(this,r)}}function Mr(t,e){return!e||"object"!==Tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fr={sequences:"updateSequences"};Object.keys(Fe).forEach((function(t){!(t in Fr)&&Fe[t]&&(Fr[t]="updateProp")}));var Hr=Object.keys(Fr),Lr=function(t){return Ve(t,(function(t,e,r){return t[e.key]=e,t}),{})},Wr=Lr(at),Nr=Lr(zt),Ir=function(t){var e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ar(t,e)}(a,e);var r,n,o,c=qr(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=c.call(this,t);var r=Et(t,Hr)||{};return e.el=i.a.createRef(),e.msaStore=t.msaStore,void 0!==r.sequences?e.msaStore=xr(r):console.warn("Check your MSA properties",r),e}return r=a,(n=[{key:"componentDidMount",value:function(){void 0!==this.props.position&&this.updatePosition(this.props.position)}},{key:"componentDidUpdate",value:function(t){var e=this.props;for(var r in Et(e,Hr))if(!Xe(t[r],e[r]))if("position"===r)this.updatePosition(e[r]);else if(r in Fr){var n=void 0;switch(Fr[r]){case"updateProp":n=at[Fr[r]](r,e[r]);break;default:n=at[Fr[r]](e[r])}this.msaStore.dispatch(n)}else console.error(r," is unknown.")}},{key:"dispatch",value:function(t){if(t.type in Wr)this.msaStore.dispatch(t);else{if(!(t.type in Nr))throw new Error("Invalid action",t);this.el.current.positionStore.dispatch(t)}}},{key:"render",value:function(){var e=pe(this.props,Hr),r=e.msaStore,n=Cr(e,["msaStore"]);return void 0===this.msaStore?i.a.createElement("div",null," Error initializing the MSAViewer. "):i.a.createElement(t,Rr({ref:this.el,msaStore:r||this.msaStore},n))}}])&&Dr(r.prototype,n),o&&Dr(r,o),a}(o.Component);return de(at,(function(t,r){e.prototype[r]=function(e){this.msaStore.dispatch(t(e))}})),de(zt,(function(t,r){e.prototype[r]=function(e){var r=this;kr(this,(function(){r.el.current.positionStore.dispatch(t(e))}))}})),e},zr="FORWARD_SAME_PROP_NAME";function Vr(t,e){var r={},n=t;return de(e,(function(t,e){var o=function(t,e){var r={},n={};return de(t,(function(t,o){if(o in e){var i=e[o];r[i===zr?o:i]=t}else n[o]=t})),{forward:r,other:n}}(n,t);r[e]=o.forward,n=o.other})),{forward:r,other:n}}var Yr=r(693),Xr=Yr.a&&new Yr.a,Gr=Xr?function(t,e){return Xr.set(t,e),t}:ye.a,Ur=r(626);var Kr=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Object(Ur.a)(t.prototype),n=t.apply(r,e);return Object(bt.a)(n)?n:r}};var Zr=function(t,e,r){var n=1&e,o=Kr(t);return function e(){var i=this&&this!==xt.a&&this instanceof e?o:t;return i.apply(n?r:this,arguments)}},Qr=r(661),$r=Math.max;var Jr=function(t,e,r,n){for(var o=-1,i=t.length,c=r.length,a=-1,u=e.length,s=$r(i-c,0),l=Array(u+s),f=!n;++a<u;)l[a]=e[a];for(;++o<c;)(f||o<i)&&(l[r[o]]=t[o]);for(;s--;)l[a++]=t[o++];return l},tn=Math.max;var en=function(t,e,r,n){for(var o=-1,i=t.length,c=-1,a=r.length,u=-1,s=e.length,l=tn(i-a,0),f=Array(l+s),p=!n;++o<l;)f[o]=t[o];for(var h=o;++u<s;)f[h+u]=e[u];for(;++c<a;)(p||o<i)&&(f[h+r[c]]=t[o++]);return f};var rn=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n};var nn=function(){};function on(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}on.prototype=Object(Ur.a)(nn.prototype),on.prototype.constructor=on;var cn=on,an=r(629),un=Xr?function(t){return Xr.get(t)}:an.a,sn={},ln=Object.prototype.hasOwnProperty;var fn=function(t){for(var e=t.name+"",r=sn[e],n=ln.call(sn,e)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==t)return o.name}return e};function pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}pn.prototype=Object(Ur.a)(nn.prototype),pn.prototype.constructor=pn;var hn=pn;var yn=function(t){if(t instanceof cn)return t.clone();var e=new hn(t.__wrapped__,t.__chain__);return e.__actions__=Object(tr.a)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e},bn=Object.prototype.hasOwnProperty;function dn(t){if(Object(ne.a)(t)&&!Object(ze.a)(t)&&!(t instanceof cn)){if(t instanceof hn)return t;if(bn.call(t,"__wrapped__"))return yn(t)}return new hn(t)}dn.prototype=nn.prototype,dn.prototype.constructor=dn;var vn=dn;var mn=function(t){var e=fn(t),r=vn[e];if("function"!=typeof r||!(e in cn.prototype))return!1;if(t===r)return!0;var n=un(r);return!!n&&t===n[0]},gn=r(700),On=Object(gn.a)(Gr),wn=/\{\n\/\* \[wrapped with (.+)\] \*/,jn=/,? & /;var Sn=function(t){var e=t.match(wn);return e?e[1].split(jn):[]},Pn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var _n=function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Pn,"{\n/* [wrapped with "+e+"] */\n")},En=r(637),xn=r(598),kn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Tn=function(t,e){return Object(En.a)(kn,(function(r){var n="_."+r[0];e&r[1]&&!Object(xn.a)(t,n)&&t.push(n)})),t.sort()};var Rn=function(t,e,r){var n=e+"";return Object(Pt.a)(t,_n(n,Tn(Sn(n),r)))};var Cn=function(t,e,r,n,o,i,c,a,u,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,o,l?i:void 0,l?c:void 0,l?void 0:i,l?void 0:c,a,u,s],p=r.apply(void 0,f);return mn(t)&&On(p,f),p.placeholder=n,Rn(p,t,e)};var Dn=function(t){return t.placeholder},An=Math.min;var qn=function(t,e){for(var r=t.length,n=An(e.length,r),o=Object(tr.a)(t);n--;){var i=e[n];t[n]=Object(yt.a)(i,r)?o[i]:void 0}return t};var Mn=function(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var c=t[r];c!==e&&"__lodash_placeholder__"!==c||(t[r]="__lodash_placeholder__",i[o++]=r)}return i};var Bn=function t(e,r,n,o,i,c,a,u,s,l){var f=128&r,p=1&r,h=2&r,y=24&r,b=512&r,d=h?void 0:Kr(e);return function v(){for(var m=arguments.length,g=Array(m),O=m;O--;)g[O]=arguments[O];if(y)var w=Dn(v),j=rn(g,w);if(o&&(g=Jr(g,o,i,y)),c&&(g=en(g,c,a,y)),m-=j,y&&m<l){var S=Mn(g,w);return Cn(e,r,t,v.placeholder,n,g,S,u,s,l-m)}var P=p?n:this,_=h?P[e]:e;return m=g.length,u?g=qn(g,u):b&&m>1&&g.reverse(),f&&s<m&&(g.length=s),this&&this!==xt.a&&this instanceof v&&(_=d||Kr(_)),_.apply(P,g)}};var Fn=function(t,e,r){var n=Kr(t);return function o(){for(var i=arguments.length,c=Array(i),a=i,u=Dn(o);a--;)c[a]=arguments[a];var s=i<3&&c[0]!==u&&c[i-1]!==u?[]:Mn(c,u);if((i-=s.length)<r)return Cn(t,e,Bn,o.placeholder,void 0,c,s,void 0,void 0,r-i);var l=this&&this!==xt.a&&this instanceof o?n:t;return Object(Qr.a)(l,this,c)}};var Hn=function(t,e,r,n){var o=1&e,i=Kr(t);return function e(){for(var c=-1,a=arguments.length,u=-1,s=n.length,l=Array(s+a),f=this&&this!==xt.a&&this instanceof e?i:t;++u<s;)l[u]=n[u];for(;a--;)l[u++]=arguments[++c];return Object(Qr.a)(f,o?r:this,l)}},Ln=Math.min;var Wn=function(t,e){var r=t[1],n=e[1],o=r|n,i=o<131,c=128==n&&8==r||128==n&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!i&&!c)return t;1&n&&(t[2]=e[2],o|=1&r?0:4);var a=e[3];if(a){var u=t[3];t[3]=u?Jr(u,a,e[4]):a,t[4]=u?Mn(t[3],"__lodash_placeholder__"):e[4]}return(a=e[5])&&(u=t[5],t[5]=u?en(u,a,e[6]):a,t[6]=u?Mn(t[5],"__lodash_placeholder__"):e[6]),(a=e[7])&&(t[7]=a),128&n&&(t[8]=null==t[8]?e[8]:Ln(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t},Nn=Math.max;var In=function(t,e,r,n,o,i,c,a){var u=2&e;if(!u&&"function"!=typeof t)throw new TypeError("Expected a function");var s=n?n.length:0;if(s||(e&=-97,n=o=void 0),c=void 0===c?c:Nn(Object(kt.a)(c),0),a=void 0===a?a:Object(kt.a)(a),s-=o?o.length:0,64&e){var l=n,f=o;n=o=void 0}var p=u?void 0:un(t),h=[t,e,r,n,o,l,f,i,c,a];if(p&&Wn(h,p),t=h[0],e=h[1],r=h[2],n=h[3],o=h[4],!(a=h[9]=void 0===h[9]?u?0:t.length:Nn(h[9]-s,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?Fn(t,e,a):32!=e&&33!=e||o.length?Bn.apply(void 0,h):Hn(t,e,r,n);else var y=Zr(t,e,r);return Rn((p?Gr:On)(y,h),t,e)},zn=Object(pr.a)((function(t,e){var r=Mn(e,Dn(zn));return In(t,64,void 0,e,r)}));zn.placeholder={};var Vn=zn;var Yn=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return J(t,e,r,n)};function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){return t===e}function Un(t,e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var n=e.length,o=0;o<n;o++)if(!t(e[o],r[o]))return!1;return!0}function Kn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,r=null,n=null;return function(){return Un(e,r,arguments)||(n=t.apply(null,arguments)),r=arguments,n}}function Zn(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var r=e.map((function(t){return Xn(t)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}function Qn(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=0,c=n.pop(),a=Zn(n),u=t.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(r)),s=t((function(){for(var t=[],e=a.length,r=0;r<e;r++)t.push(a[r].apply(null,arguments));return u.apply(null,t)}));return s.resultFunc=c,s.dependencies=a,s.recomputations=function(){return i},s.resetRecomputations=function(){return i=0},s}}var $n=Qn(Kn);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e,r,n){var o=r?r.call(n,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!==Jn(t)||!t||"object"!==Jn(e)||!e)return!1;var i=Object.keys(t),c=Object.keys(e);if(i.length!==c.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),u=0;u<i.length;u++){var s=i[u];if(!a(s))return!1;var l=t[s],f=e[s];if(!1===(o=r?r.call(n,l,f,s):void 0)||void 0===o&&l!==f)return!1}return!0}var eo=Qn(Kn,to);function ro(t){At(arguments.length>1,"Must provide methods for binding");for(var e=1;e<arguments.length;e++){var r=arguments[e];t[r]=t[r].bind(t)}}function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oo(Object(r),!0).forEach((function(e){bo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function co(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ao(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uo(t,e,r){return e&&ao(t.prototype,e),r&&ao(t,r),t}function so(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yo(t);if(e){var o=yo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return po(this,r)}}function po(t,e){return!e||"object"!==no(e)&&"function"!=typeof e?ho(t):e}function ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.withX,n=void 0!==r&&r,c=e.withY,u=void 0!==c&&c,s=function(e){so(o,e);var r=fo(o);function o(t){var e;return co(this,o),bo(ho(e=r.call(this,t)),"updateFromPositionStore",(function(){At(e.context&&e.context.positionMSAStore,"MSA PositionStore needs to be injected");var t=e.context.positionMSAStore.getState();e.position=e.position||{};var r=Et(t,["currentViewSequence","currentViewSequencePosition","xPosOffset","yPosOffset"]);t.position&&(r.xPos=t.position.xPos,r.yPos=t.position.yPos),e.setState({highlight:t.highlight}),e.el.current&&e.shouldRerender(r)?(e.position=r,e.setState({position:e.position})):(de(r,(function(t,r){e.position[r]=t})),e.el.current&&e.updateScrollPosition())})),bo(ho(e),"shouldRerender",(function(t){var r=e.el.current;if(void 0!==r.shouldRerender)return r.shouldRerender(t);var o=r.props.cacheElements;return!!(u&&Math.abs(t.currentViewSequence-e.position.lastCurrentViewSequence)>=o)||!!(n&&Math.abs(t.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)>=o)})),bo(ho(e),"updateScrollPosition",(function(){var t=e.el.current;if(t&&void 0!==t.updateScrollPosition)t.updateScrollPosition();else if(t&&t.el&&t.el.current){if(n){var r=t.props.tileWidth,o=-e.position.xPosOffset;o+=(e.position.lastCurrentViewSequencePosition-e.position.lastStartXTile)*r,e.position.currentViewSequencePosition!==e.position.lastCurrentViewSequencePosition&&(o+=(e.position.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)*r),t.el.current.scrollLeft=o}if(u){var i=t.props.tileHeight,c=-e.position.yPosOffset;c+=(e.position.lastCurrentViewSequence-e.position.lastStartYTile)*i,e.position.currentViewSequence!==e.position.lastCurrentViewSequence&&(c+=(e.position.currentViewSequence-e.position.lastCurrentViewSequence)*i),t.el.current.scrollTop=c}}})),bo(ho(e),"dispatch",(function(t){e.context.positionMSAStore.dispatch(t)})),e.el=i.a.createRef(),e.state={highlight:null},e}return uo(o,[{key:"componentDidMount",value:function(){this.unsubscribe=this.context.positionMSAStore.subscribe(this.updateFromPositionStore),this.updateScrollPosition(!0)}},{key:"componentDidUpdate",value:function(){this.updateScrollPosition()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.hasBeenInitialized||(this.updateFromPositionStore(),this.hasBeenInitialized=!0),i.a.createElement(t,io({ref:this.el,position:this.position,positionDispatch:this.dispatch,highlight:this.state.highlight},this.props))}}]),o}(o.PureComponent);return s.displayName="withPosition(".concat(t.displayName||t.name,")"),s.contextTypes={positionMSAStore:a.a.object},s};function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Po(t);if(e){var o=Po(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return So(this,r)}}function So(t,e){return!e||"object"!==mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(c,t);var e,r,n,o=jo(c);function c(){return go(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"renderTile",value:function(t){var e=this.props.tileComponent;if(t in this.props.componentCache)return this.props.componentCache[t];var r=i.a.createElement(e,{key:t,index:t});return this.props.componentCache[t]=r,r}},{key:"render",value:function(){for(var t=[],e=this.props.startTile;e<this.props.endTile;e++)t.push(this.renderTile(e));return 0===t.length&&console.warn("The TileComponent rendered returned 0 elements from ".concat(this.props.startTile," to ").concat(this.props.endTile)),i.a.createElement("div",null,t)}}])&&Oo(e.prototype,r),n&&Oo(e,n),c}(o.PureComponent);_o.propTypes={startTile:a.a.number.isRequired,endTile:a.a.number.isRequired,componentCache:a.a.func.isRequired};var Eo=_o;function xo(t){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function To(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ro(t,e){return(Ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ao(t);if(e){var o=Ao(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Do(this,r)}}function Do(t,e){return!e||"object"!==xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ro(t,e)}(c,t);var e,r,n,o=Co(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).el=i.a.createRef(),e}return e=c,(r=[{key:"render",value:function(){var t=this.props,e=(t.yPosOffset,t.tileHeight,t.currentViewSequence,t.sequences,t.height),r=(t.cacheElements,t.tileComponent,t.nrYTiles,t.position,t.positionDispatch,t.componentCache,ko(t,["yPosOffset","tileHeight","currentViewSequence","sequences","height","cacheElements","tileComponent","nrYTiles","position","positionDispatch","componentCache"])),n={height:e,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},o=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),c=Math.min(this.props.sequences.length,o+Math.ceil(e/this.props.tileHeight)+2*this.props.cacheElements);return this.props.position.lastCurrentViewSequence=this.props.position.currentViewSequence,this.props.position.lastStartYTile=o,i.a.createElement("div",r,i.a.createElement("div",{style:n,ref:this.el},i.a.createElement(Eo,{componentCache:this.props.componentCache,startTile:o,endTile:c,tileComponent:this.props.tileComponent})))}}])&&To(e.prototype,r),n&&To(e,n),c}(o.PureComponent);qo.propTypes={tileComponent:a.a.oneOfType([a.a.func,a.a.object]).isRequired,cacheElements:a.a.number.isRequired,tileHeight:a.a.number.isRequired,nrYTiles:a.a.number.isRequired,componentCache:a.a.func.isRequired};var Mo=vo(qo,{withY:!0});function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fo(){return(Fo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ho(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ho(Object(r),!0).forEach((function(e){Wo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function No(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vo(t,e,r){return e&&zo(t.prototype,e),r&&zo(t,r),t}function Yo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zo(t);if(e){var o=Zo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Uo(this,r)}}function Uo(t,e){return!e||"object"!==Bo(e)&&"function"!=typeof e?Ko(t):e}function Ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zo(t){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qo=function(t){Yo(r,t);var e=Go(r);function r(t){var n;return Io(this,r),ro(Ko(n=e.call(this,t)),"createLabel"),n.label=eo(Vn(Et,n.constructor.labelProps),n.createLabel),n}return Vo(r,[{key:"createLabel",value:function(t){return this.cache=function(){},r=(e=t).sequences,n=e.tileHeight,c=e.labelComponent,a=e.labelStyle,u=e.labelAttributes,function(t){Yo(o,t);var e=Go(o);function o(){return Io(this,o),e.apply(this,arguments)}return Vo(o,[{key:"render",value:function(){var t=this.props,e=t.index,o=No(t,["index"]);if(c){var s=c;return i.a.createElement(s,{sequence:r[e],index:e})}o.style=Lo({},this.props.style,{height:n},a);var l=Lo({},o,{},u);return i.a.createElement("div",l,r[e].name)}}]),o}(o.PureComponent);var e,r,n,c,a,u}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,r=(t.dispatch,t.labelComponent,t.labelStyle,t.labelAttributes,No(t,["cacheElements","dispatch","labelComponent","labelStyle","labelAttributes"]));return i.a.createElement(Mo,Fo({tileComponent:this.label(this.props),cacheElements:e,componentCache:this.cache},r))}}]),r}(o.PureComponent);Wo(Qo,"labelProps",["sequences","tileHeight","labelComponent","labelStyle","labelAttributes"]),Qo.defaultProps={cacheElements:10,labelStyle:{}},Qo.propTypes={font:a.a.string,labelComponent:a.a.oneOfType([a.a.object,a.a.func]),style:a.a.object,labelStyle:a.a.object,labelAttributes:a.a.object};var $o=Yn((function(t){return{height:t.props.height,tileHeight:t.props.tileHeight,sequences:t.sequences.raw,nrYTiles:t.sequenceStats.nrYTiles}}))(Qo);function Jo(t){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(){return(ti=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ei(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ri(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ni(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ii(t,e){return(ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ui(t);if(e){var o=ui(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ai(this,r)}}function ai(t,e){return!e||"object"!==Jo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ii(t,e)}(c,t);var e,r,n,o=ci(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).el=i.a.createRef(),e}return e=c,(r=[{key:"render",value:function(){var t=this.props,e=t.tileWidth,r=t.sequences,n=t.width,o=(t.cacheElements,t.tileComponent),c=(t.nrXTiles,t.maxLength,t.position,t.positionDispatch,t.componentCache,ni(t,["tileWidth","sequences","width","cacheElements","tileComponent","nrXTiles","maxLength","position","positionDispatch","componentCache"])),a={width:n,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},u=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(r),!0).forEach((function(e){ri(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.props.style,{height:this.props.height}),s={tileWidth:e,sequences:r,tileComponent:o},l=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),f=Math.min(this.props.maxLength,l+this.props.nrXTiles+2*this.props.cacheElements),p=this.props.width+2*this.props.cacheElements*this.props.tileWidth;return this.props.position.lastStartXTile=l,this.props.position.lastCurrentViewSequencePosition=this.props.position.currentViewSequencePosition,i.a.createElement("div",ti({style:u},c),i.a.createElement("div",{style:a,ref:this.el},i.a.createElement(Eo,ti({},s,{componentCache:this.props.componentCache,startTile:l,endTile:f,maxWidth:p}))))}}])&&oi(e.prototype,r),n&&oi(e,n),c}(o.PureComponent);si.propTypes={tileComponent:a.a.oneOfType([a.a.func,a.a.object]).isRequired,cacheElements:a.a.number.isRequired,tileWidth:a.a.number.isRequired,nrXTiles:a.a.number.isRequired,maxLength:a.a.number.isRequired,componentCache:a.a.func.isRequired};var li=vo(si,{withX:!0}),fi=dr((function(t,e){Object(te.a)(e,Object(ur.a)(e),t)}));var pi=function(t,e){return(Object(ze.a)(t)?En.a:We.a)(t,be(e))};var hi=function(t,e){var r={};return e=Object(Ne.a)(e,3),Object(he.a)(t,(function(t,n,o){Object(Ue.a)(r,n,e(t,n,o))})),r};var yi=function(t,e){var r=-1,n=Object(hr.a)(t)?Array(t.length):[];return Object(We.a)(t,(function(t,o,i){n[++r]=e(t,o,i)})),n};var bi=function(t,e){return(Object(ze.a)(t)?Ut.a:yi)(t,Object(Ne.a)(e,3))},di=r(694);var vi=function(t,e){var r=[];return Object(We.a)(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r};var mi=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};var gi=function(t,e){return(Object(ze.a)(t)?di.a:vi)(t,mi(Object(Ne.a)(e,3)))},Oi=r(563);var wi=function(t,e,r){for(var n=-1,o=t.length;++n<o;){var i=t[n],c=e(i);if(null!=c&&(void 0===a?c==c&&!Object(Oi.a)(c):r(c,a)))var a=c,u=i}return u};var ji=function(t,e){return t>e};var Si=function(t){return t&&t.length?wi(t,ye.a,ji):void 0},Pi=function t(e,r){if(!this||this.constructor!==t)return new t(e);if(void 0===e||"string"==typeof e)throw new TypeError("you need to give the seq stat an array");this.resetSeqs(e),this.alphabetSize=4,this._useBackground=!1,this.useGaps=!1,this.ignoredChars=["-","*"],fi(this,r)};Pi.prototype.addSeq=function(t){this.seqs.push(t),this._reset()},Pi.prototype.removeSeq=function(t){"number"==typeof t?this.seqs.splice(t,1):pi(this.seqs,function(e,r){t===e&&this.seqs.splice(r,1)}.bind(this)),this._reset()},Pi.prototype.addSeqs=function(t){t.forEach(function(t){this.addSeq(t)}.bind(this))},Pi.prototype.resetSeqs=function(t){if(this.seqs=[],!t instanceof Array||"at"in t){this.mseqs=t;var e=function(){var t=this.mseqs.pluck("seq");this.resetSeqs(t)};t.on("add change reset ",e,this),e.call(this)}else this.addSeqs(t),this._reset()};var _i=["consensus","frequency","maxLength","ic","gaps"];Pi.prototype._reset=function(){for(var t=0;t<_i.length;t++)this["_"+_i[t]]=void 0;this._identity=void 0,this._background=void 0},Pi.prototype.setBackground=function(t){this._useBackground=t,this._reset()},Pi.prototype.useBackground=function(){this.setBackground(!0)},Pi.prototype.setDNA=function(){this.alphabetSize=4},Pi.prototype.setProtein=function(){this.alphabetSize=20},_i.forEach((function(t){Pi.prototype[t]=function(){return void 0===this["_"+t]&&(this["_"+t]=this[t+"Calc"]()),this["_"+t]}})),Pi.prototype.identity=function(t){var e;return(void 0===this._identity||t)&&(e=this.identityCalc(t),this._identity=void 0),this._identity||e},Pi.prototype.background=function(){return void 0!==this.bg?this.bg:(void 0===this._background&&this.backgroundCalc(),this._background)},Pi.prototype.frequencyCalc=function(t){var e,r;e=new Array(this.maxLength()),r=new Array(this.seqs.length);var n=this.ignoredChars;return void 0!==t&&t.all&&(n=[]),pi(this.seqs,(function(t){pi(t,(function(t,o){n.indexOf(t)>=0||(void 0===e[o]&&(e[o]={}),void 0===e[o][t]&&(e[o][t]=0),e[o][t]++,void 0===r[o]&&(r[o]=0),r[o]++)}))})),pi(e,(function(t,n){return pi(t,(function(t,o){return e[n][o]=t/r[n]}))})),this._frequency=e,e},Pi.prototype.backgroundCalc=function(){var t={},e=0;return pi(this.seqs,(function(r){pi(r,(function(r){return void 0===t[r]&&(t[r]=0),t[r]++,e++}))})),t=hi(t,(function(t){return t/e})),this._background=t,t},Pi.prototype.icCalc=function(){var t=this.frequency();if(this._useBackground)var e=this.background();var r=this.ignoredChars,n=this._useBackground,o=bi(t,(function(t){return Ve(t,(function(t,o,i){return r.indexOf(i)>=0?t:(n&&(o/=e[i]),t-o*(Math.log(o)/Math.log(2)))}),0)}));return this._ic=o,o},Pi.prototype.conservation=function(t){var e=this.ic(),r=this.gaps(),n=this;t=t||this.alphabetSize;var o=Math.log(t)/Math.log(2),i=0;return bi(e,(function(t){var e=o-t;return n.useGaps&&(e*=1-r[i++]),e}))},Pi.prototype.conservResidue=function(t){var e,r=t?t.alphabetSize:void 0,n=this.ignoredChars;e=void 0!==t&&t.scaled?this.scale(this.conservation(r)):this.conservation(r);var o,i=this.frequency();return bi(i,(function(t,r){o=gi(o(t),(function(t){return n.indexOf(t)>=0}));var i={};return pi(o,(function(n){i[n]=t[n]*e[r]})),i}))},Pi.prototype.conservResidue2=function(t){var e=this.frequency(),r=this.conservation(t),n=this.background();return bi(e,(function(t,o){return bi(t,(function(t){var i=Ve(e[o],(function(t,e){return t+e/n[o]}),0);return t/n[o]/i*r[o]}),0)}))},Pi.prototype.scale=function(t,e){e=e||this.alphabetSize;var r=Math.log(e)/Math.log(2);return bi(t,(function(t){return t/r}))},Pi.prototype.maxLengthCalc=function(){return 0===this.seqs.length?0:Si(this.seqs,(function(t){return t.length})).length},Pi.prototype.consensusCalc=function(){var t=new Array(this.maxLength());return pi(this.seqs,(function(e){pi(e,(function(e,r){void 0===t[r]&&(t[r]={}),void 0===t[r][e]&&(t[r][e]=0),t[r][e]++}))})),this._consensus=Ve(t,(function(t,e){var r;return r=Object.keys(e),t+Si(r,(function(t){return e[t]}))}),""),this._consensus},Pi.prototype.identityCalc=function(t){var e=t||this.consensus();return this._identity=this.seqs.map((function(t){for(var r=0,n=0,o=0;o<t.length;o++)"-"!==t[o]&&"-"!==e[o]&&(n++,t[o]===e[o]&&r++);return r/n})),this._identity},Pi.prototype.gapsCalc=function(){var t=this.maxLength();if(t<=1||void 0===t)return[];var e=new Array(this.maxLength());return pi(this.seqs,(function(t){pi(t,(function(t,r){void 0===e[r]&&(e[r]={g:0,t:0}),t="-"===t?"g":"t",e[r][t]++}))})),this._gaps=bi(e,(function(t){return t.g/(t.g+t.t)})),this._gaps};var Ei=Pi;function xi(t){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ki(){return(ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ri(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ci(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ai(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qi(t,e,r){return e&&Ai(t.prototype,e),r&&Ai(t,r),t}function Mi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wi(t);if(e){var o=Wi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hi(this,r)}}function Hi(t,e){return!e||"object"!==xi(e)&&"function"!=typeof e?Li(t):e}function Li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ni=function(t){Mi(r,t);var e=Fi(r);function r(t){var n;return Di(this,r),(n=e.call(this,t)).cache=function(){},n.initializeColumnHeights(),ro(Li(n),"createBar"),n.bar=eo((function(t){return Et(t,n.constructor.barAttributes)}),n.columnHeights,n.createBar),n}return qi(r,[{key:"createBar",value:function(t,e){return this.cache=function(){},function(t){var e=t.columnHeights,r=t.tileWidth,n=t.height,c=t.fillColor;return t.barStyle,t.barAttributes,function(t){Mi(a,t);var o=Fi(a);function a(){return Di(this,a),o.apply(this,arguments)}return qi(a,[{key:"render",value:function(){var t=this.props,o=t.index,a=Ci(t,["index"]);return a.style={height:Math.round(e[o]*n),width:r,display:"inline-block",textAlign:"center",backgroundColor:c},i.a.createElement("div",a)}}]),a}(o.PureComponent)}(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(r),!0).forEach((function(e){Ri(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t,{columnHeights:e}))}},{key:"initializeColumnHeights",value:function(){this.columnHeights=$n((function(t){return t.sequences}),(function(t){return t.method}),(function(t,e){var r,n=Ei(t.map((function(t){return t.sequence})));switch(e){case"conservation":r=n.scale(n.conservation());break;case"information-content":r=n.scale(n.ic());break;default:console.error(e+"is an invalid aggregation method for <OverviewBar />")}return r})).bind(this)}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,r=(t.height,t.method,t.fillColor,t.dispatch,t.barStyle,t.barAttributes,Ci(t,["cacheElements","height","method","fillColor","dispatch","barStyle","barAttributes"]));return i.a.createElement(li,ki({tileComponent:this.bar(this.props),cacheElements:e,componentCache:this.cache},r))}}]),r}(o.PureComponent);Ri(Ni,"barAttributes",["tileWidth","height","fillColor","barStyle","barAttributes"]),Ni.defaultProps={height:50,fillColor:"#999999",method:"conservation",cacheElements:10},Ni.propTypes={method:a.a.oneOf(["information-content","conservation"]),height:a.a.number,fillColor:a.a.string,style:a.a.object,barStyle:a.a.object,barAttributes:a.a.object};var Ii=Yn((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(Ni);function zi(t){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vi(){return(Vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Yi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yi(Object(r),!0).forEach((function(e){Gi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ui(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qi(t,e,r){return e&&Zi(t.prototype,e),r&&Zi(t,r),t}function $i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=nc(t);if(e){var o=nc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ec(this,r)}}function ec(t,e){return!e||"object"!==zi(e)&&"function"!=typeof e?rc(t):e}function rc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nc(t){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oc=function(t){$i(r,t);var e=tc(r);function r(t){var n;return Ki(this,r),(n=e.call(this,t)).cache=function(){},ro(rc(n),"createMarker"),n.marker=eo(Vn(Et,n.constructor.markerAttributes),n.createMarker),n}return Qi(r,[{key:"createMarker",value:function(t){return this.cache=function(){},r=(e=t).markerSteps,n=e.startIndex,c=e.tileWidth,e.font,a=e.markerComponent,u=e.markerStyle,s=e.markerAttributes,function(t){$i(o,t);var e=tc(o);function o(){return Ki(this,o),e.apply(this,arguments)}return Qi(o,[{key:"render",value:function(){var t,e=this.props,o=e.index,l=Ui(e,["index"]);if(a){var f=a;return i.a.createElement(f,{index:o})}l.style=Xi({width:c,display:"inline-block",textAlign:"center"},u),t=o%r==0?o+0+n:".";var p=Xi({},l,{},s);return i.a.createElement("div",p,t)}}]),o}(o.PureComponent);var e,r,n,c,a,u,s}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,r=(t.markerSteps,t.startIndex,t.dispatch,t.markerComponent,t.markerStyle,Ui(t,["cacheElements","markerSteps","startIndex","dispatch","markerComponent","markerStyle"]));return i.a.createElement(li,Vi({tileComponent:this.marker(this.props),cacheElements:e,componentCache:this.cache},r))}}]),r}(o.PureComponent);Gi(oc,"markerAttributes",["markerSteps","startIndex","tileWidth","markerComponent","markerStyle","markerAttributes"]),oc.defaultProps={style:{font:"12px Arial"},height:15,markerSteps:2,startIndex:1,cacheElements:10,markerStyle:{}},oc.propTypes={font:a.a.string,height:a.a.number,markerSteps:a.a.number,startIndex:a.a.number,markerComponent:a.a.oneOfType([a.a.object,a.a.func]),style:a.a.object,markerStyle:a.a.object,markerAttributes:a.a.object};var ic=Yn((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(oc);function cc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ac=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};cc(ac,"rel",(function(t){if(void 0!==t.changedTouches)return ac.rel(t.changedTouches[0]);var e=t.offsetX,r=t.offsetY;if(void 0===e){var n=t.target||t.srcElement,o=n.getBoundingClientRect();if(e=t.clientX-o.left,r=t.clientY-o.top,void 0===e&&(e=t.pageX-n.offsetLeft,r=t.pageY-n.offsetTop,void 0===e))return void console.log(t,"No mouse event defined.")}return[e,r]})),cc(ac,"abs",(function(t){if(void 0!==t.changedTouches)return ac.abs(t.changedTouches[0]);var e=t.pageX,r=t.pageY;return void 0===e&&(e=t.layerX,r=t.layerY),void 0===e&&(e=t.clientX,r=t.clientY),void 0===e&&(e=t.x,r=t.y),[e,r]})),cc(ac,"wheelDelta",(function(t){var e=[t.deltaX,t.deltaY];return void 0===e[0]&&t.mozMovementX&&(e=[0,t.mozMovementX]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e}));var uc=ac,sc=r(716),lc=r.n(sc),fc=r(717),pc=r.n(fc),hc=r(718),yc=r.n(hc);function bc(t){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oc(t,e){return(Oc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sc(t);if(e){var o=Sc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jc(this,r)}}function jc(t,e){return!e||"object"!==bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sc(t){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pc(){return i.a.createElement("svg",{height:"1em",width:"1.542em",viewBox:"0 0 1542 1000"},i.a.createElement("path",{d:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)",fill:"rgb(68, 122, 219)"}))}var _c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oc(t,e)}(c,t);var e,r,n,o=wc(c);function c(){return mc(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dc(Object(r),!0).forEach((function(e){vc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({opacity:.9,backgroundColor:"white"},this.props.style),e={position:"relative",fontSize:"16px",padding:"3px 4px",cursor:"pointer",lineHeight:"normal",textDecoration:"none",color:"black"};return i.a.createElement("div",{style:t},i.a.createElement("div",{style:e},i.a.createElement(pc.a,{width:20,height:20})),i.a.createElement("div",{style:e},i.a.createElement(yc.a,{width:20,height:20})),i.a.createElement("div",{style:e},i.a.createElement(lc.a,{width:20,height:20})),i.a.createElement("a",{href:"https://plot.ly/",target:"_blank",rel:"noreferrer noopener","data-title":"Produced with Plotly",style:e},i.a.createElement(Pc,{width:20,height:20})))}}])&&gc(e.prototype,r),n&&gc(e,n),c}(o.PureComponent);function Ec(t){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kc(t,e){return(kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dc(t);if(e){var o=Dc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rc(this,r)}}function Rc(t,e){return!e||"object"!==Ec(e)&&"function"!=typeof e?Cc(t):e}function Cc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ac(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kc(t,e)}(c,t);var e,r,n,o=Tc(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Ac(Cc(e=o.call(this,t)),"onScroll",(function(t){kr(Cc(e),(function(){var t=e.shouldShow(),r=t.showX,n=t.showY,o={xMovement:e.el.current.scrollLeft-(r?e.props.position.xPos:0),yMovement:e.el.current.scrollTop-(n?e.props.position.yPos:0)};e.props.positionDispatch(Ht(o))}))})),Ac(Cc(e),"updateScrollPosition",(function(){e.el&&e.el.current&&(e.el.current.scrollTop=e.props.position.yPos,e.el.current.scrollLeft=e.props.position.xPos)})),e.el=i.a.createRef(),e}return e=c,(r=[{key:"checkOverflow",value:function(t,e){var r=e.withX,n=void 0!==r&&r,o=e.withY,i=void 0!==o&&o,c=!1;switch(t){case"auto":n&&(c|=this.props.fullWidth>this.props.width),i&&(c|=this.props.fullHeight>this.props.height);break;case"hidden":c=!1;break;case"scroll":c=!0}return c}},{key:"shouldShow",value:function(){var t={withX:!0},e={withY:!0},r="initial"===this.props.overflowX?this.props.overflow:this.props.overflowX,n="initial"===this.props.overflowY?this.props.overflow:this.props.overflowY;return{showX:this.checkOverflow(r,t)&&this.checkOverflow(this.props.overflow,t),showY:this.checkOverflow(n,e)&&this.checkOverflow(this.props.overflow,e)}}},{key:"render",value:function(){var t=this.props,e=t.width,r=t.height,n=t.fullWidth,o=t.fullHeight,c={position:"absolute",overflowX:"auto",overflowY:"auto",width:e,height:r,transform:""},a=this.shouldShow(),u=a.showX,s=a.showY,l={height:1,width:1};return s||u?(u&&(l.width=n,c.overflowX="scroll","top"===this.props.positionX&&(c.transform+="rotateX(180deg)")),s&&(l.height=o,c.overflowY="scroll","left"===this.props.positionY&&(c.transform+="rotateY(180deg)")),i.a.createElement("div",{style:c,onScroll:this.onScroll,ref:this.el},i.a.createElement("div",{style:l}))):i.a.createElement("div",null)}}])&&xc(e.prototype,r),n&&xc(e,n),c}(o.PureComponent);qc.defaultProps={overflow:"auto",overflowX:"initial",overflowY:"initial",positionX:"bottom",positionY:"right",scrollBarWidth:5},qc.propTypes={overflow:a.a.oneOf(["hidden","auto","scroll"]),overflowX:a.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:a.a.oneOf(["hidden","auto","scroll","initial"]),width:a.a.number.isRequired,height:a.a.number.isRequired,fullHeight:a.a.number.isRequired,fullWidth:a.a.number.isRequired,positionX:a.a.oneOf(["top","bottom"]),positionY:a.a.oneOf(["left","right"])};var Mc=vo(qc,{withX:!0,withY:!0});function Bc(t){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fc(){return(Fc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Hc(t){return function(t){if(Array.isArray(t))return Lc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Lc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wc(Object(r),!0).forEach((function(e){Uc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zc(t,e){return(zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gc(t);if(e){var o=Gc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yc(this,r)}}function Yc(t,e){return!e||"object"!==Bc(e)&&"function"!=typeof e?Xc(t):e}function Xc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zc(t,e)}(c,t);var e,r,n,o=Vc(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Uc(Xc(e=o.call(this,t)),"state",{mouse:{isMouseWithin:!1,cursorState:"grab"}}),Uc(Xc(e),"currentContext",1),e.canvasBuffers=[i.a.createRef(),i.a.createRef()],e.container=i.a.createRef(),ro(Xc(e),"onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onClick","onDoubleClick","draw"),e.onViewpointChange(),e.mouseMovePosition=void 0,e.touchMovePosition=void 0,e.isInDragPhase=void 0,e.mouseHasMoved=void 0,e}return e=c,(r=[{key:"drawScene",value:function(){console.warn("drawScene is unimplemented.")}},{key:"onPositionUpdate",value:function(){console.warn("onPositionUpdate is unimplemented.")}},{key:"onViewpointChange",value:function(){}},{key:"componentDidMount",value:function(){this.ctxBuffers=[this.canvasBuffers[0].current.getContext("2d",{alpha:"false"}),this.canvasBuffers[1].current.getContext("2d",{alpha:"false"})],this.swapContexts(),this.container.current.addEventListener("mouseenter",this.onMouseEnter),this.container.current.addEventListener("mouseleave",this.onMouseLeave),this.container.current.addEventListener("touchstart",this.onTouchStart),this.container.current.addEventListener("touchmove",this.onTouchMove),this.container.current.addEventListener("touchend",this.onTouchEnd),this.container.current.addEventListener("touchcancel",this.onTouchCancel),this.container.current.addEventListener("click",this.onClick),this.container.current.addEventListener("dblclick",this.onDoubleClick),this.props.sequenceDisableDragging||(this.container.current.addEventListener("mousedown",this.onMouseDown),this.container.current.addEventListener("mouseup",this.onMouseUp),this.container.current.addEventListener("mousemove",this.onMouseMove))}},{key:"swapContexts",value:function(){var t=this.currentContext;this.canvasBuffers[t].current.style.visibility="visible";var e=(this.currentContext+1)%2;this.canvasBuffers[e].current.style.visibility="hidden",this.currentContext=e,this.ctx=this.ctxBuffers[e]}},{key:"draw",value:function(){this.ctx&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.onViewpointChange(),this.drawScene(),this.swapContexts())}},{key:"onClick",value:function(t){}},{key:"onDoubleClick",value:function(t){}},{key:"onMouseDown",value:function(t){this.startDragPhase(t)}},{key:"onMouseMove",value:function(t){var e=this;if(void 0!==this.isInDragPhase){this.mouseHasMoved=!0;var r=uc.abs(t),n=this.mouseMovePosition;kr(this,(function(){e.mouseMovePosition=r,e.onPositionUpdate(n,e.mouseMovePosition)}))}}},{key:"onMouseUp",value:function(){this.stopDragPhase()}},{key:"onMouseEnter",value:function(){this.setState((function(t){return{mouse:Nc({},t.mouse,{isMouseWithin:!0})}}))}},{key:"onMouseLeave",value:function(){this.stopHoverPhase(),this.stopDragPhase()}},{key:"onTouchStart",value:function(t){console.log("touchstart",t),this.startDragPhase(t)}},{key:"onTouchMove",value:function(t){void 0!==this.isInDragPhase&&(console.log("touchmove",t),this.onMouseMove(t))}},{key:"onTouchEnd",value:function(){this.stopDragPhase()}},{key:"onTouchCancel",value:function(){this.stopDragPhase()}},{key:"startDragPhase",value:function(t){this.mouseMovePosition=uc.abs(t),this.mouseHasMoved=void 0,this.isInDragPhase=!0,this.setState((function(t){return{mouse:Nc({},t.mouse,{cursorState:"grabbing"})}}))}},{key:"stopHoverPhase",value:function(){this.setState((function(t){return{mouse:Nc({},t.mouse,{isMouseWithin:!1})}}))}},{key:"stopDragPhase",value:function(){this.isInDragPhase=void 0,this.setState((function(t){return{mouse:Nc({},t.mouse,{cursorState:"grab"})}}))}},{key:"isEventWithinComponent",value:function(t){var e=uc.rel(t);return 0<=e[0]&&e[0]<=this.props.width&&0<=e[1]&&e[1]<=this.props.height}},{key:"componentWillUnmount",value:function(){this.container.current.removeEventListener("mouseenter",this.onMouseEnter),this.container.current.removeEventListener("mouseleave",this.onMouseLeave),this.container.current.removeEventListener("click",this.onClick),this.container.current.removeEventListener("dblclick",this.onDoubleClick),this.container.current.removeEventListener("touchstart",this.onTouchStart),this.container.current.removeEventListener("touchend",this.onTouchEnd),this.container.current.removeEventListener("touchcancel",this.onTouchCancel),this.container.current.removeEventListener("touchmove",this.onTouchMove),this.props.sequenceDisableDragging||(this.container.current.removeEventListener("mouseup",this.onMouseUp),this.container.current.removeEventListener("mousedown",this.onMouseDown),this.container.current.removeEventListener("mousemove",this.onMouseMove)),this.stopDragPhase()}},{key:"render",value:function(){var t=Nc({width:this.props.width,height:this.props.height},this.props.style,{cursor:this.state.mouse.cursorState,position:"relative"}),e=this.props.showModBar&&this.state.mouse.isMouseWithin,r={position:"absolute",left:0,top:0},n=pe(this.props,[].concat(Hc(this.constructor.propKeys),["tileWidth","tileHeight","colorScheme","nrXTiles","nrYTiles","dispatch","sequences","fullWidth","fullHeight","position","positionDispatch"]));return i.a.createElement("div",Fc({style:t,ref:this.container},n),e&&i.a.createElement(_c,{style:{position:"absolute",right:0,opacity:.8}}," Plotly Modbar"),i.a.createElement("canvas",{style:r,ref:this.canvasBuffers[0],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),i.a.createElement("canvas",{style:r,ref:this.canvasBuffers[1],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),i.a.createElement(Mc,{overflow:this.props.overflow,overflowX:this.props.overflowX,overflowY:this.props.overflowY,positionX:this.props.scrollBarPositionX,positionY:this.props.scrollBarPositionY,width:this.props.width,height:this.props.height,fullWidth:this.props.fullWidth,fullHeight:this.props.fullHeight}))}}])&&Ic(e.prototype,r),n&&Ic(e,n),c}(o.PureComponent);Uc(Kc,"defaultProps",{engine:"canvas",showModBar:!0});var Zc=Kc;function Qc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.state={}}var e,r,n;return e=t,(r=[{key:"updateEl",value:function(t){this.el=t}},{key:"font",value:function(t){this.state.font=t}},{key:"globalAlpha",value:function(t){this.state.globalAlpha=t}},{key:"startDrawingFrame",value:function(){this.clear()}},{key:"endDrawingFrame",value:function(){}},{key:"save",value:function(){}},{key:"restore",value:function(){}}])&&Qc(e.prototype,r),n&&Qc(e,n),t}();function Jc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ta=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={},this.cacheHeight=0,this.cacheWidth=0}var e,r,n;return e=t,(r=[{key:"getFontTile",value:function(t,e,r,n){return e===this.cacheWidth&&r===this.cacheHeight&&n===this.font||(this.updateDimensions(e,r),this.font=n),void 0===this.cache[t]&&this.createTile(t,e,r),this.cache[t]}},{key:"createTile",value:function(t,e,r,n){var o=this.cache[t]=document.createElement("canvas");return o.width=e,o.height=r,this.ctx=o.getContext("2d"),this.ctx.font=this.font+"px mono",this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,e/2,r/2,e,n)}},{key:"updateDimensions",value:function(t,e){this.invalidate(),this.cacheWidth=t,this.cacheHeight=e}},{key:"invalidate",value:function(){this.cache={}}}])&&Jc(e.prototype,r),n&&Jc(e,n),t}();function ea(t){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function na(t,e){return(na=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ca(t);if(e){var o=ca(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ia(this,r)}}function ia(t,e){return!e||"object"!==ea(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ca(t){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&na(t,e)}(i,t);var e,r,n,o=oa(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).ctx=t.getContext("2d"),e.cache=new ta,e}return e=i,(r=[{key:"clear",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"fillRect",value:function(t,e,r,n){this.ctx.fillRect(t,e,r,n)}},{key:"fillText",value:function(t,e,r,n,o){return this.ctx.drawImage(this.cache.getFontTile(t,n,o,this.ctx.font),e,r,n,o)}},{key:"font",value:function(t){this.ctx.font=t}},{key:"fillStyle",value:function(t){this.ctx.fillStyle=t}},{key:"globalAlpha",value:function(t){this.ctx.globalAlpha=t}},{key:"save",value:function(){this.ctx.save()}},{key:"restore",value:function(){this.ctx.restore()}}])&&ra(e.prototype,r),n&&ra(e,n),i}($c);function ua(t){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function la(t,e){return(la=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ha(t);if(e){var o=ha(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pa(this,r)}}function pa(t,e){return!e||"object"!==ua(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ha(t){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ya,ba,da,va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&la(t,e)}(c,t);var e,r,n,o=fa(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).canvas=i.a.createRef(),e}return e=c,(r=[{key:"componentDidMount",value:function(){this.ctx=new aa(this.canvas.current),this.draw()}},{key:"componentDidUpdate",value:function(){this._draw()}},{key:"_draw",value:function(){this.ctx&&(this.ctx.startDrawingFrame(),this.ctx.save(),this.draw(),this.ctx.restore(),this.ctx.endDrawingFrame())}},{key:"draw",value:function(){console.error("Implement me.")}},{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style},i.a.createElement("canvas",{ref:this.canvas,width:this.props.width,height:this.props.height}))}}])&&sa(e.prototype,r),n&&sa(e,n),c}(o.PureComponent);function ma(t){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wa(t,e){return(wa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pa(t);if(e){var o=Pa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sa(this,r)}}function Sa(t,e){return!e||"object"!==ma(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pa(t){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}da={engine:"canvas"},(ba="defaultProps")in(ya=va)?Object.defineProperty(ya,ba,{value:da,enumerable:!0,configurable:!0,writable:!0}):ya[ba]=da,va.propTypes={width:a.a.number.isRequired,height:a.a.number.isRequired,style:a.a.object,engine:a.a.oneOf(["canvas","webgl"])};var _a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wa(t,e)}(i,t);var e,r,n,o=ja(i);function i(){return ga(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"drawTile",value:function(t){var e=this,r=t.row,n=t.column,o=this.props.tileWidth,i=this.props.tileHeight,c=i*(r-this.props.startYTile),a=o*(n-this.props.startXTile);if(!(r>=this.props.sequences.raw.length)){var u=this.props.sequences.raw[r].sequence;if(!(n>=u.length)){var s=u[n];if(void 0!==s){var l=this.props.colorScheme.getColor(s),f="".concat(s,"-").concat(l),p=this.props.residueTileCache.createTile({key:f,tileWidth:o,tileHeight:i,create:function(t){var o=t.canvas;return e.drawResidue({text:s,canvas:o,row:r,column:n,colorScheme:l})}});this.props.ctx.drawImage(p,0,0,o,i,a,c,o,i)}}}}},{key:"drawResidue",value:function(t){t.row,t.column;var e=t.canvas,r=t.colorScheme,n=t.text;e.globalAlpha=.7,e.fillStyle=r,e.fillRect(0,0,this.props.tileWidth,this.props.tileHeight),this.props.tileWidth<4||(this.props.border&&(e.globalAlpha=1,e.lineWidth=this.props.borderWidth,e.strokeStyle=this.props.borderStyle,e.strokeRect(0,0,this.props.tileWidth,this.props.tileHeight)),e.globalAlpha=Math.min(1,1/6*this.props.tileWidth+-1/6*4),e.fillStyle=this.props.textColor,e.font=this.props.textFont+"px mono",e.textBaseline="middle",e.textAlign="center",e.fillText(n,this.props.tileWidth/2,this.props.tileHeight/2+1,this.props.tileWidth))}},{key:"draw",value:function(t){this.props=t;for(var e=this.props.startYTile;e<this.props.endYTile;e++)for(var r=this.props.startXTile;r<this.props.endXTile;r++)this.drawTile({row:e,column:r})}}])&&Oa(e.prototype,r),n&&Oa(e,n),i}(va);var Ea=function(t,e){return t<e};var xa=function(t,e){return t&&t.length?wi(t,Object(Ne.a)(e,2),Ea):void 0};function ka(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ta(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ra=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.maxElements;ka(this,t),this.maxElements=r||200,this.invalidate()}var e,r,n;return e=t,(r=[{key:"createTile",value:function(t){var e=this,r=t.key,n=t.tileWidth,o=t.tileHeight,i=t.create;if(r in this.cache)return this.cache[r].value;if(this.cachedElements>=this.maxElements){var c=xa(Object.keys(this.cache),(function(t){return e.cache[t].insertionTime}));delete this.cache[c]}var a=document.createElement("canvas");this.cache[r]={value:a,insertionTime:Date.now()},a.width=n,a.height=o;var u=a.getContext("2d");return this.cachedElements++,i({canvas:u}),a}},{key:"updateTileSpecs",value:function(t){return!to(t,this.spec)&&(this.invalidate(),this.spec=t,!0)}},{key:"invalidate",value:function(){this.cache={},this.spec={},this.cachedElements=0}}])&&Ta(e.prototype,r),n&&Ta(e,n),t}();function Ca(t,e){return t-t%e}function Da(t){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return qa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qa(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ma(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ba(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fa(t,e){return(Fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ia(t);if(e){var o=Ia(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return La(this,r)}}function La(t,e){return!e||"object"!==Da(e)&&"function"!=typeof e?Wa(t):e}function Wa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Na(t,e,r){return(Na="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ia(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Ia(t){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function za(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fa(t,e)}(i,t);var e,r,n,o=Ha(i);function i(t){var e,r,n,c,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),za(Wa(a=o.call(this,t)),"renderTile",(function(t){var e=t.row,r=t.column,n=e+"-"+r;return a.tileCache.createTile({key:n,tileWidth:a.props.tileWidth*a.props.xGridSize,tileHeight:a.props.tileHeight*a.props.yGridSize,create:function(t){var n=t.canvas;a.tilingGridManager.draw(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ma(Object(r),!0).forEach((function(e){za(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ctx:n,startYTile:e,startXTile:r,residueTileCache:a.residueTileCache,endYTile:e+a.props.yGridSize,endXTile:r+a.props.xGridSize},Et(a.props,["sequences","colorScheme","textFont","textColor","tileHeight","tileWidth","border","borderWidth","borderColor"])))}})})),za(Wa(a),"onPositionUpdate",(function(t,e){var r={xMovement:t[0]-e[0],yMovement:t[1]-e[1]};a.sendEvent("onPositionUpdate",e),a.props.positionDispatch(Ht(r))})),za(Wa(a),"updateScrollPosition",(function(){a.draw()})),za(Wa(a),"onMouseMove",(function(t){if(void 0===a.isInDragPhase&&(void 0!==a.props.onResidueMouseEnter||void 0!==a.props.onResidueMouseLeave)){var r=a.currentPointerPosition(t),n=a.currentMouseSequencePosition;Xe(n,r)||(void 0!==n&&a.sendEvent("onResidueMouseLeave",n),a.currentMouseSequencePosition=r,a.sendEvent("onResidueMouseEnter",r))}Na((e=Wa(a),Ia(i.prototype)),"onMouseMove",e).call(e,t)})),za(Wa(a),"onMouseLeave",(function(t){a.sendEvent("onResidueMouseLeave",a.currentMouseSequencePosition),a.currentMouseSequencePosition=void 0,Na((r=Wa(a),Ia(i.prototype)),"onMouseLeave",r).call(r,t)})),za(Wa(a),"onClick",(function(t){if(!a.mouseHasMoved){var e=a.currentPointerPosition(t);a.sendEvent("onResidueClick",e)}Na((n=Wa(a),Ia(i.prototype)),"onClick",n).call(n,t)})),za(Wa(a),"onDoubleClick",(function(t){var e=a.currentPointerPosition(t);a.sendEvent("onResidueDoubleClick",e),Na((c=Wa(a),Ia(i.prototype)),"onDoubleClick",c).call(c,t)})),a.tileCache=new Ra,a.residueTileCache=new Ra,a.tilingGridManager=new _a,a}return e=i,(r=[{key:"drawScene",value:function(){var t=this.getTilePositions();this.updateTileSpecs(),this.drawTiles(t),this.drawHighligtedRegion()}},{key:"getTilePositions",value:function(){var t=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),e=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),r=Math.min(this.props.sequences.length,e+this.props.nrYTiles+2*this.props.cacheElements);return{startXTile:t,startYTile:e,endXTile:Math.min(this.props.sequences.maxLength,t+this.props.nrXTiles+2*this.props.cacheElements),endYTile:r}}},{key:"drawTiles",value:function(t){for(var e=t.startXTile,r=t.startYTile,n=t.endXTile,o=t.endYTile,i=this.props.xGridSize,c=this.props.yGridSize,a=Ca(r,c),u=Ca(e,i),s=a;s<o;s+=c)for(var l=u;l<n;l+=i){var f=this.renderTile({row:s,column:l,canvas:this.ctx}),p=i*this.props.tileWidth,h=c*this.props.tileHeight,y=(s-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,b=(l-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset;this.ctx.drawImage(f,0,0,p,h,b,y,p,h)}}},{key:"drawHighligtedRegion",value:function(){var t=this.props.highlight;if(this.ctx&&t){var e=this.props.tileWidth*(1+t.residues.to-t.residues.from),r=this.props.tileHeight*(1+t.sequences.to-t.sequences.from),n=(t.sequences.from-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,o=(t.residues.from-1-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset,i=document.createElement("canvas");i.width=e,i.height=r;var c=i.getContext("2d");c.globalAlpha=.3,c.fillStyle="yellow",c.fillRect(0,0,e,r),c.globalAlpha=1,c.strokeStyle="red",c.lineWidth="2",c.rect(0,0,e,r),c.stroke(),this.ctx.drawImage(i,0,0,e,r,o,n,e,r)}}},{key:"positionToSequence",value:function(t){var e=this.props.sequences.raw,r=lt(Dt((this.props.position.yPos+t.yPos)/this.props.tileHeight),0,e.length-1),n=e[r],o=lt(Dt((this.props.position.xPos+t.xPos)/this.props.tileWidth),0,n.sequence.length-1);return{i:r,sequence:n,position:o,residue:n.sequence[o]}}},{key:"currentPointerPosition",value:function(t){var e=Aa(uc.rel(t),2),r=e[0],n=e[1];return this.positionToSequence({xPos:r,yPos:n})}},{key:"sendEvent",value:function(t,e){void 0!==this.props[t]&&this.props[t](e)}},{key:"componentWillUnmount",value:function(){this.tileCache.invalidate(),this.residueTileCache.invalidate()}},{key:"updateTileSpecs",value:function(){var t=["tileWidth","tileHeight","colorScheme","textFont","borderColor"];this.tileCache.updateTileSpecs(Et(this.props,[].concat(t,["xGridSize","yGridSize","sequences"]))),this.residueTileCache.updateTileSpecs(Et(this.props,t))}},{key:"render",value:function(){return Na(Ia(i.prototype),"render",this).call(this)}}])&&Ba(e.prototype,r),n&&Ba(e,n),i}(Zc);Va.defaultProps={showModBar:!1,xGridSize:10,yGridSize:10,border:!1,borderColor:"black",borderWidth:1,cacheElements:20,textColor:"black",textFont:"18px Arial",overflow:"hidden",overflowX:"auto",overflowY:"auto",scrollBarPositionX:"bottom",scrollBarPositionY:"right"},Va.propTypes={showModBar:a.a.bool,onResidueMouseEnter:a.a.func,onResidueMouseLeave:a.a.func,onResidueClick:a.a.func,onResidueDoubleClick:a.a.func,xGridSize:a.a.number.isRequired,yGridSize:a.a.number.isRequired,cacheElements:a.a.number.isRequired,border:a.a.bool,borderColor:a.a.string,borderWidth:a.a.number,textColor:a.a.string,textFont:a.a.string,overflow:a.a.oneOf(["hidden","auto","scroll"]),overflowX:a.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:a.a.oneOf(["hidden","auto","scroll","initial"]),scrollBarPositionX:a.a.oneOf(["top","bottom"]),scrollBarPositionY:a.a.oneOf(["left","right"])},Va.propKeys=Object.keys(Va.propTypes);var Ya=vo(Va,{withX:!0,withY:!0}),Xa=Yn((function(t){var e=Math.min(t.props.width,t.sequences.maxLength*t.props.tileWidth),r=Math.min(t.props.height,t.sequences.length*t.props.tileHeight);return{sequences:t.sequences,width:e,height:r,tileWidth:t.props.tileWidth,tileHeight:t.props.tileHeight,colorScheme:t.props.colorScheme,nrXTiles:t.sequenceStats.nrXTiles,nrYTiles:t.sequenceStats.nrYTiles,fullWidth:t.sequenceStats.fullWidth,fullHeight:t.sequenceStats.fullHeight}}))(Ya),Ga=r(604);var Ua=function(t,e){var r;return Object(We.a)(t,(function(t,n,o){return!(r=e(t,n,o))})),!!r};var Ka=function(t,e,r){var n=Object(ze.a)(t)?Ga.a:Ua;return r&&br(t,e,r)&&(e=void 0),n(t,Object(Ne.a)(e,3))};function Za(t){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ja(t,e){return(Ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ru(t);if(e){var o=ru(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return eu(this,r)}}function eu(t,e){return!e||"object"!==Za(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ru(t){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ja(t,e)}(i,t);var e,r,n,o=tu(i);function i(){return Qa(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"shouldComponentUpdate",value:function(t){var e=this;return!(to(this.props,t)&&Ka(this.props.forwardedPropsKeys.map((function(r){return to(e.props[r],t[r])}))))}}])&&$a(e.prototype,r),n&&$a(e,n),i}(o.Component);nu.propTypes={forwardPropKeys:a.a.array};var ou=nu;function iu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function au(t){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uu(){return(uu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fu(t,e){return(fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yu(t);if(e){var o=yu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hu(this,r)}}function hu(t,e){return!e||"object"!==au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yu(t){return(yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}(c,t);var e,r,n,o=pu(c);function c(){return su(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,uu({style:t},this.props.labelsProps)),i.a.createElement("div",null,i.a.createElement(Ii,uu({height:50},this.props.overviewBarProps)),i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Xa,this.props.sequenceViewerProps),i.a.createElement("div",{style:{height:10}})))}}])&&lu(e.prototype,r),n&&lu(e,n),c}(ou);bu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iu(Object(r),!0).forEach((function(e){cu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ou.propTypes);var du=Yn((function(t){return{tileHeight:t.props.tileHeight}}))(bu);function vu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gu(t){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ou(){return(Ou=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Su(t,e){return(Su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Eu(t);if(e){var o=Eu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _u(this,r)}}function _u(t,e){return!e||"object"!==gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Su(t,e)}(c,t);var e,r,n,o=Pu(c);function c(){return wu(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",null,i.a.createElement(Ii,Ou({height:50},this.props.overviewBarProps)),i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Xa,this.props.sequenceViewerProps)),i.a.createElement($o,Ou({style:t},this.props.labelsProps)))}}])&&ju(e.prototype,r),n&&ju(e,n),c}(ou);xu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vu(Object(r),!0).forEach((function(e){mu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ou.propTypes);var ku=Yn((function(t){return{tileHeight:t.props.tileHeight}}))(xu);function Tu(t){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(){return(Ru=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Du(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Au(t,e){return(Au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bu(t);if(e){var o=Bu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mu(this,r)}}function Mu(t,e){return!e||"object"!==Tu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Au(t,e)}(c,t);var e,r,n,o=qu(c);function c(){return Cu(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,this.props.labelsProps),i.a.createElement("div",null,i.a.createElement(Xa,null),i.a.createElement(ic,this.props.positionBarProps),i.a.createElement("br",null),i.a.createElement(Ii,this.props.overviewBarProps),i.a.createElement("br",null),i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Ii,null),i.a.createElement(Ii,Ru({},this.props.overviewBarProps,{method:"information-content"}))))}}])&&Du(e.prototype,r),n&&Du(e,n),c}(ou);function Hu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wu(t){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zu(t,e){return(zu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xu(t);if(e){var o=Xu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yu(this,r)}}function Yu(t,e){return!e||"object"!==Wu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zu(t,e)}(c,t);var e,r,n,o=Vu(c);function c(){return Nu(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Xa,this.props.sequenceViewerProps))}}])&&Iu(e.prototype,r),n&&Iu(e,n),c}(ou);Gu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hu(Object(r),!0).forEach((function(e){Lu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ou.propTypes);var Uu=Gu;function Ku(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qu(t){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(){return($u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function es(t,e){return(es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=os(t);if(e){var o=os(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ns(this,r)}}function ns(t,e){return!e||"object"!==Qu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}(c,t);var e,r,n,o=rs(c);function c(){return Ju(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,{style:t}),i.a.createElement("div",null,i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Xa,this.props.sequenceViewerProps),i.a.createElement(ic,this.props.positionBarProps),i.a.createElement(Ii,this.props.overviewBarProps),i.a.createElement("br",null),i.a.createElement(ic,this.props.positionBarProps)),i.a.createElement($o,$u({style:t},this.props.labelsProps)))}}])&&ts(e.prototype,r),n&&ts(e,n),c}(ou);is.propTypes=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ku(Object(r),!0).forEach((function(e){Zu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ou.propTypes);var cs=Yn((function(t){return{tileHeight:t.props.tileHeight}}))(is);function as(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function us(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ss(t){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ps(t,e){return(ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=bs(t);if(e){var o=bs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ys(this,r)}}function ys(t,e){return!e||"object"!==ss(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)}(c,t);var e,r,n,o=hs(c);function c(){return ls(this,c),o.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return i.a.createElement("div",{style:{display:"flex"}},this.props.labelsProps&&this.props.labelsProps.labelStyle&&i.a.createElement($o,this.props.labelsProps),i.a.createElement(Xa,this.props.sequenceViewerProps))}}])&&fs(e.prototype,r),n&&fs(e,n),c}(ou);function vs(t){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ms(){return(ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function gs(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Os(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ws(t,e){return(ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ps(t);if(e){var o=Ps(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ss(this,r)}}function Ss(t,e){return!e||"object"!==vs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ds.propTypes=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?as(Object(r),!0).forEach((function(e){us(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ou.propTypes);var _s={basic:du,inverse:ku,full:Fu,compact:Uu,funky:cs,nightingale:ds,default:du},Es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ws(t,e)}(c,t);var e,r,n,o=js(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).el=i.a.createRef(),e.forwardedPropsKeys=Object.keys(e.constructor.propsToForward),e}return e=c,(r=[{key:"dispatchEvent",value:function(t){this.el.current.dispatchEvent(t)}},{key:"render",value:function(){var t=this.props,e=t.layout,r=gs(t,["layout"]);if(e in _s){var n=_s[e],o=Vr(r,this.constructor.propsToForward),c=o.forward,a=o.other;return i.a.createElement("div",ms({el:this.ref},a),i.a.createElement(n,ms({},c,{forwardedPropsKeys:this.forwardedPropsKeys})))}console.error("$this.props.layout} is invalid. Please use one of ".concat(Object.keys(_s)))}}])&&Os(e.prototype,r),n&&Os(e,n),c}(o.PureComponent);!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Es,"propsToForward",{sequenceViewerProps:{showModBar:zr,onResidueMouseEnter:zr,onResidueMouseLeave:zr,onResidueClick:zr,onResidueDoubleClick:zr,sequenceBorder:"border",sequenceBorderColor:"borderColor",sequenceBorderWidth:"borderWidth",sequenceTextColor:"textColor",sequenceTextFont:"textFont",sequenceOverflow:"overflow",sequenceOverflowX:"overflowX",sequenceOverflowy:"overflowY",sequenceScrollBarPositionX:"scrollBarPositionX",sequenceScrollBarPositionY:"scrollBarPositionY",sequenceDisableDragging:zr},labelsProps:{labelComponent:zr,labelStyle:zr,labelAttributes:zr},positionBarProps:{markerSteps:zr,markerStartIndex:"startIndex",markerComponent:zr,markerStyle:zr,markerAttributes:zr},overviewBarProps:{barMethod:"method",barFillColor:"fillColor",barComponent:zr,barStyle:zr,barAttributes:zr}}),Es.defaultProps={layout:"default"},Es.propTyes={layout:a.a.oneOf(Object.keys(_s))};var xs=Es;function ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ts(t){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rs(){return(Rs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Cs(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ds(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ds(Object(r),!0).forEach((function(e){qs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ds(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ms(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bs(t,e){return(Bs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ws(t);if(e){var o=Ws(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hs(this,r)}}function Hs(t,e){return!e||"object"!==Ts(e)&&"function"!=typeof e?Ls(t):e}function Ls(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ws(t){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ns={onResidueClick:"residueClick"},Is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bs(t,e)}(c,t);var e,r,n,o=Fs(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).el=i.a.createRef(),e._setupStores(),e.createDomHandler=Object(Gt.a)(e.createDomHandler.bind(Ls(e))),e.forwardProps=eo((function(t){return pe(t,["msaStore"])}),e.forwardProps.bind(Ls(e))),e}return e=c,(r=[{key:"_setupStores",value:function(){var t=this;this.positionStore=B(Xt),this.positionStore.dispatch(zt.updateMainStore(this.props.msaStore.getState())),this.msaStoreUnsubscribe=this.props.msaStore.subscribe((function(){t.positionStore.dispatch(zt.updateMainStore(t.props.msaStore.getState()))}))}},{key:"componentWillUnmount",value:function(){this.msaStoreUnsubscribe()}},{key:"getChildContext",value:function(){return{positionMSAStore:this.positionStore}}},{key:"createDomHandler",value:function(t){var e=this;return function(r){var n=new CustomEvent(t,{detail:r,bubbles:!0});e.el.current.dispatchEvent(n)}}},{key:"forwardProps",value:function(t){var e=this,r=As({},t);return de(Ns,(function(t,n){n in Ns&&!(n in r)&&(r[n]=e.createDomHandler(t))})),r}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.msaStore,n=Cs(t,["children","msaStore"]);return e?i.a.createElement(h,{store:r},i.a.createElement("div",Rs({},n,{ref:this.el}),e)):i.a.createElement(h,{store:r},i.a.createElement("div",{ref:this.el},i.a.createElement(xs,this.forwardProps(n))))}}])&&Ms(e.prototype,r),n&&Ms(e,n),c}(o.Component);Is.childContextTypes={positionMSAStore:a.a.object},Is.propTypes={sequences:a.a.arrayOf(qe).isRequired,width:a.a.number,height:a.a.number,tileWidth:a.a.number,tileHeight:a.a.number,position:Be,colorScheme:Me,onResidueMouseEnter:a.a.func,onResidueMouseLeave:a.a.func,onResidueClick:a.a.func,onResidueDoubleClick:a.a.func,layout:a.a.oneOf(["basic","default","inverse","full","compact","funky","nightingale"]),sequenceBorder:a.a.bool,sequenceBorderColor:a.a.string,sequenceBorderWidth:a.a.number,sequenceTextColor:a.a.string,sequenceTextFont:a.a.string,sequenceOverflow:a.a.oneOf(["hidden","auto","scroll"]),sequenceOverflowX:a.a.oneOf(["hidden","auto","scroll","initial"]),sequenceOverflowY:a.a.oneOf(["hidden","auto","scroll","initial"]),sequenceScrollBarPositionX:a.a.oneOf(["top","bottom"]),sequenceScrollBarPositionY:a.a.oneOf(["left","right"]),labelComponent:a.a.oneOfType([a.a.object,a.a.func]),labelStyle:a.a.object,labelAttributes:a.a.object,markerSteps:a.a.number,markerStartIndex:a.a.number,markerComponent:a.a.oneOfType([a.a.object,a.a.func]),markerStyle:a.a.object,markerAttributes:a.a.object,barMethod:a.a.oneOf(["information-content","conservation"]),barFillColor:a.a.string,barStyle:a.a.object,barAttributes:a.a.object,msaStore:a.a.object};var zs,Vs=Ir(Is);Vs.defaultProps=He,Vs.propTypes=As({},Is.propTypes),Is.propTypes=pe(Is.propTypes,[].concat(function(t){if(Array.isArray(t))return ks(t)}(zs=Object.keys(Fe))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(zs)||function(t,e){if(t){if("string"==typeof t)return ks(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ks(t,e):void 0}}(zs)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["sequences","position"]));var Ys=Vs;function Xs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xs(Object(r),!0).forEach((function(e){Gs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}({},at,{},zt);var Us=Ys,Ks=r(567);function Zs(t){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qs(){return(Qs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function $s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Js(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tl(t,e){return(tl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=nl(t);if(e){var o=nl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rl(this,r)}}function rl(t,e){return!e||"object"!==Zs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tl(t,e)}(a,t);var e,r,o,c=el(a);function a(){return $s(this,a),c.apply(this,arguments)}return e=a,o=[{key:"observedAttributes",get:function(){return n.a.observedAttributes.concat(["labelwidth"])}}],(r=[{key:"refresh",value:function(){var t=this,e={sequences:this._data,height:this._height,width:this.width-(this._labelwidth||0),tileHeight:20,tileWidth:Math.max(1,this.getSingleBaseWidth()),colorScheme:"clustal",layout:"nightingale",sequenceOverflow:"scroll",sequenceOverflowX:"overflow",sequenceDisableDragging:!0};this._labelwidth&&(e.labelStyle={width:this._labelwidth-5,"text-align":"end","padding-right":5,overflow:"hidden"}),rt.a.render(i.a.createElement(Us,Qs({},e,{ref:function(e){return t.el=e}})),this),window.requestAnimationFrame((function(){t.el&&(t.el.updatePositionByResidue({aaPos:t._displaystart}),1>t.getSingleBaseWidth()&&t.dispatchEvent(new CustomEvent("change",{detail:{displaystart:t._displaystart,displayend:t._displaystart+t.xScale.range()[1]},bubbles:!0,cancelable:!0})))}))}},{key:"data",set:function(t){var e=this;this._data=t,this.refresh(),window.requestAnimationFrame((function(){e.svg=Object(Ks.l)(e).select("div")}))}},{key:"margin",get:function(){return{top:10,right:0,bottom:10,left:this._labelwidth||10}}}])&&Js(e.prototype,r),o&&Js(e,o),a}(n.a);e.a=ol},805:function(t,e){t.exports='<h1 id="protvista-msa">protvista-msa</h1>\n<p>A custom element that visualises multiple sequences alignments. It is basically a wrapper of <a href="https://github.com/ebi-webcomponents/react-msa-viewer">react-msa-viewer</a> that plays along with other nightingale components.</p>\n<p>It currently uses the <code>clustal</code> color scheme, and only displays the alignment, none of the other components includede in <code>react-msa-viewer</code>. it uses the scroll only to move vertically.</p>\n<h2 id="usage">Usage</h2>\n<pre><code class="language-html">&lt;protvista-msa\n  id=&quot;msa-track&quot;\n  length=&quot;300&quot;\n  height=&quot;200&quot;\n  displaystart=&quot;10&quot;\n  displayend=&quot;30&quot;\n  use-ctrl-to-zoom\n  labelWidth=&quot;100&quot;\n/&gt;</code></pre>\n<p>This readme is been use as a road map. A 🚧 emoji indicates that this feature is under construction.</p>\n<h2 id="features">Features</h2>\n<ul>\n<li>✅ Inherits from <code>protvista-zoomable</code> and supports updates from the <code>protvista-manager</code></li>\n<li>✅ Refreshes when the property <code>data</code> is updated</li>\n<li>✅ Renders the sequence names if there is space assigned in the attribute <code>labelwidth</code></li>\n<li>✅ Forces the zoom to stay at a level thet there is at least a pixel per base.</li>\n<li>🔲 Find an alternative to be able to zoom farther.</li>\n<li>🔲 Changes in color schema</li>\n<li>🔲 Highlights a region</li>\n<li>🔲 Adding other components to the layout. eg. scale, conservancy plot, etc.</li>\n</ul>\n<h2 id="api-reference">API reference</h2>\n<h3 id="parameters">Parameters</h3>\n<h5 id="width"><code>width</code></h5>\n<p>The width assigned for the component, including anything reseved for the sequence names</p>\n<p>type: <code>number</code>\ndefaultValue: calculated based onavailable space.</p>\n<h5 id="height"><code>height</code></h5>\n<p>Height of the component</p>\n<p>type: <code>number</code></p>\n<h5 id="labelwidth"><code>labelwidth</code></h5>\n<p>The space assigned for the sequence labels. This will be taken from the total <code>width</code>. Which means that if the <code>width</code> is <code>1000</code> and <code>labelwidth</code> is <code>200</code>, the alignment will be using <code>800</code>.</p>\n<p>If a value of <code>0</code> is assigned, the rendering of labels will be avoided completely.</p>\n<p>type: <code>number</code>\ndefaultValue: 0</p>\n<h5 id="other-inherit-from-protvista-zoomable">Other inherit from <code>protvista-zoomable</code></h5>\n<p>displaystart, displayend, length, highlight</p>\n<p>See more <a href="https://github.com/ebi-webcomponents/nightingale/tree/master/packages/protvista-zoomable">here</a></p>\n<h3 id="properties">Properties</h3>\n<h4 id="data"><code>data</code></h4>\n<p>The sequences to be displayed. The should be in the following shape:</p>\n<pre><code class="language-javascript">[\n  {\n    name: &quot;seq1&quot;,\n    sequence: &quot;MAMYDDEFDTKASDLTFSPWVEVE&quot;\n  }\n  // ...\n];</code></pre>\n<p>type: <code>array</code></p>\n'}}]);