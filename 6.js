(window.webpackJsonp=window.webpackJsonp||[]).push([[6,23],{156:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r);e.default=function(t){var e=t.children;return o.a.createElement("div",{class:"console"},o.a.createElement("pre",null,e),o.a.createElement("div",{class:"anchor"}))}},168:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(590),a=n(59),c=n.n(a),u=o.a.createContext(null);var s=function(t){t()},l={notify:function(){}};function f(){var t=s,e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,o=n={callback:t,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var p=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=f())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},t}();var h=function(t){var e=t.store,n=t.context,i=t.children,a=Object(r.useMemo)((function(){var t=new p(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),c=Object(r.useMemo)((function(){return e.getState()}),[e]);Object(r.useEffect)((function(){var t=a.subscription;return t.trySubscribe(),c!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[a,c]);var s=n||u;return o.a.createElement(s.Provider,{value:a},i)},y=n(12),b=n(50),d=n(151),v=n.n(d),m=n(117),g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,O=[],w=[null,null];function j(t,e){var n=t[1];return[e.payload,n+1]}function S(t,e,n){g((function(){return t.apply(void 0,e)}),n)}function P(t,e,n,r,o,i,a){t.current=r,e.current=o,n.current=!1,i.current&&(i.current=null,a())}function _(t,e,n,r,o,i,a,c,u,s){if(t){var l=!1,f=null,p=function(){if(!l){var t,n,p=e.getState();try{t=r(p,o.current)}catch(t){n=t,f=t}n||(f=null),t===i.current?a.current||u():(i.current=t,c.current=t,a.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function x(t,e){void 0===e&&(e={});var n=e,i=n.getDisplayName,a=void 0===i?function(t){return"ConnectAdvanced("+t+")"}:i,c=n.methodName,s=void 0===c?"connectAdvanced":c,l=n.renderCountProp,f=void 0===l?void 0:l,h=n.shouldHandleStateChanges,d=void 0===h||h,g=n.storeKey,x=void 0===g?"store":g,k=(n.withRef,n.forwardRef),T=void 0!==k&&k,R=n.context,C=void 0===R?u:R,q=Object(b.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),D=C;return function(e){var n=e.displayName||e.name||"Component",i=a(n),c=Object(y.a)({},q,{getDisplayName:a,methodName:s,renderCountProp:f,shouldHandleStateChanges:d,storeKey:x,displayName:i,wrappedComponentName:n,WrappedComponent:e}),u=q.pure;var l=u?r.useMemo:function(t){return t()};function h(n){var i=Object(r.useMemo)((function(){var t=n.forwardedRef,e=Object(b.a)(n,["forwardedRef"]);return[n.context,t,e]}),[n]),a=i[0],u=i[1],s=i[2],f=Object(r.useMemo)((function(){return a&&a.Consumer&&Object(m.isContextConsumer)(o.a.createElement(a.Consumer,null))?a:D}),[a,D]),h=Object(r.useContext)(f),v=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var g=v?n.store:h.store,x=Object(r.useMemo)((function(){return function(e){return t(e.dispatch,c)}(g)}),[g]),k=Object(r.useMemo)((function(){if(!d)return w;var t=new p(g,v?null:h.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[g,v,h]),T=k[0],R=k[1],C=Object(r.useMemo)((function(){return v?h:Object(y.a)({},h,{subscription:T})}),[v,h,T]),q=Object(r.useReducer)(j,O,E),A=q[0][0],M=q[1];if(A&&A.error)throw A.error;var B=Object(r.useRef)(),F=Object(r.useRef)(s),H=Object(r.useRef)(),L=Object(r.useRef)(!1),W=l((function(){return H.current&&s===F.current?H.current:x(g.getState(),s)}),[g,A,s]);S(P,[F,B,L,s,W,H,R]),S(_,[d,g,T,x,F,B,L,H,R,M],[g,T,x]);var N=Object(r.useMemo)((function(){return o.a.createElement(e,Object(y.a)({},W,{ref:u}))}),[u,e,W]);return Object(r.useMemo)((function(){return d?o.a.createElement(f.Provider,{value:C},N):N}),[f,N,C])}var g=u?o.a.memo(h):h;if(g.WrappedComponent=e,g.displayName=i,T){var k=o.a.forwardRef((function(t,e){return o.a.createElement(g,Object(y.a)({},t,{forwardedRef:e}))}));return k.displayName=i,k.WrappedComponent=e,v()(k,e)}return v()(g,e)}}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function R(t,e){if(T(t,e))return!0;if("object"!==k(t)||null===t||"object"!==k(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!T(t[n[o]],e[n[o]]))return!1;return!0}var C=n(798);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var D=function(){return Math.random().toString(36).substring(7).split("").join(".")},A={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function M(t){if("object"!==q(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function B(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(B)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,a=[],c=a,u=!1;function s(){c===a&&(c=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return s(),c.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,s();var n=c.indexOf(t);c.splice(n,1),a=null}}}function p(t){if(!M(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,t)}finally{u=!1}for(var e=a=c,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:A.REPLACE})}function y(){var t,e=f;return(t={subscribe:function(t){if("object"!==q(t)||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[C.a]=function(){return this},t}return p({type:A.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:h})[C.a]=y,r}function F(t,e){return function(){return e(t.apply(this,arguments))}}function H(t){return function(e,n){var r=t(e,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function L(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function W(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=L(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=L(o),o=r(e,n)),o},r}}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I=[function(t){return"function"==typeof t?W(t):void 0},function(t){return t?void 0:H((function(t){return{dispatch:t}}))},function(t){return t&&"object"===N(t)?H((function(e){return function(t,e){if("function"==typeof t)return F(t,e);if("object"!==q(t)||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":q(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var o=t[r];"function"==typeof o&&(n[r]=F(o,e))}return n}(t,e)})):void 0}];var z=[function(t){return"function"==typeof t?W(t):void 0},function(t){return t?void 0:H((function(){return{}}))}];function V(t,e,n){return Object(y.a)({},n,{},t,{},e)}var Y=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(e,n,c){var u=t(e,n,c);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return V}}];function X(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function U(t,e,n,r,o){var i,a,c,u,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function y(o,h){var y,b,d=!f(h,a),v=!l(o,i);return i=o,a=h,d&&v?(c=t(i,a),e.dependsOnOwnProps&&(u=e(r,a)),s=n(c,u,a)):d?(t.dependsOnOwnProps&&(c=t(i,a)),e.dependsOnOwnProps&&(u=e(r,a)),s=n(c,u,a)):v?(y=t(i,a),b=!p(y,c),c=y,b&&(s=n(c,u,a)),s):s}return function(o,l){return h?y(o,l):(c=t(i=o,a=l),u=e(r,a),s=n(c,u,a),h=!0,s)}}function G(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=Object(b.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,i),c=r(t,i),u=o(t,i);return(i.pure?U:X)(a,c,u,t,i)}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+K(t)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Q(t,e){return t===e}function $(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?x:n,o=e.mapStateToPropsFactories,i=void 0===o?z:o,a=e.mapDispatchToPropsFactories,c=void 0===a?I:a,u=e.mergePropsFactories,s=void 0===u?Y:u,l=e.selectorFactory,f=void 0===l?G:l;return function(t,e,n,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,h=void 0===p?Q:p,d=a.areOwnPropsEqual,v=void 0===d?R:d,m=a.areStatePropsEqual,g=void 0===m?R:m,O=a.areMergedPropsEqual,w=void 0===O?R:O,j=Object(b.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=Z(t,i,"mapStateToProps"),P=Z(e,c,"mapDispatchToProps"),_=Z(n,s,"mergeProps");return r(f,Object(y.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:P,initMergeProps:_,pure:l,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:g,areMergedPropsEqual:w},j))}}var J=$();var tt,et=n(115),nt=n.n(et);function rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i;return 0===n.length?i=r[0]:(i={},n.forEach((function(t,e){i[n[e]]=r[e]}))),{type:t,payload:i}};return o.toString=function(){return t.toString()},o.key=o.toString(),o}tt=et.unstable_batchedUpdates,s=tt;var ot=rt("PROPS_UPDATE"),it=rt("PROP_UPDATE","key","value"),at=rt("SEQUENCES_UPDATE"),ct=rt("CONSERVSTION_UPDATE"),ut={updateProp:it,updateProps:ot,updateSequences:at,updateConservation:ct};var st=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},lt=n(601);var ft=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Object(lt.a)(n))==n?n:0),void 0!==e&&(e=(e=Object(lt.a)(e))==e?e:0),st(Object(lt.a)(t),e,n)},pt=n(577),ht=n(646),yt=n(576),bt=n(619),dt=n(574),vt=n(568);var mt=function(t,e,n,r){if(!Object(dt.a)(t))return t;for(var o=-1,i=(e=Object(yt.a)(e,t)).length,a=i-1,c=t;null!=c&&++o<i;){var u=Object(vt.a)(e[o]),s=n;if(o!=a){var l=c[u];void 0===(s=r?r(l,u,c):void 0)&&(s=Object(dt.a)(l)?l:Object(bt.a)(e[o+1])?[]:{})}Object(ht.a)(c,u,s),c=c[u]}return t};var gt=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],c=Object(pt.a)(t,a);n(c,a)&&mt(i,Object(yt.a)(a,t),c)}return i},Ot=n(604);var wt=function(t,e){return gt(t,e,(function(e,n){return Object(Ot.a)(t,n)}))},jt=n(630);var St=function(t){return(null==t?0:t.length)?Object(jt.a)(t,1):[]},Pt=n(736),_t=n(713);var Et=function(t){return Object(_t.a)(Object(Pt.a)(t,void 0,St),t+"")},xt=Et((function(t,e){return null==t?{}:wt(t,e)})),kt=n(609),Tt=n(607),Rt=n(605),Ct=kt.a.isFinite,qt=Math.min;var Dt=function(t){var e=Math[t];return function(t,n){if(t=Object(lt.a)(t),(n=null==n?0:qt(Object(Tt.a)(n),292))&&Ct(t)){var r=(Object(Rt.a)(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return+((r=(Object(Rt.a)(o)+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("floor"),At=n(800);function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ht=rt("MAINSTORE_UPDATE"),Lt=rt("POSITION_MOVE"),Wt=rt("POSITION_UPDATE"),Nt=rt("POSITION_BY_RESIDUE_UPDATE"),It=rt("HIGHLIGHT_REGION"),zt=rt("REMOVE_HIGHLIGHT_REGION"),Vt={updateMainStore:Ht,updatePosition:Wt,movePosition:Lt,updatePositionByResidue:Nt,highlightRegion:It,removeHighlightRegion:zt};function Yt(t,e){var n=t.sequences.maxLength*t.props.tileWidth-t.props.width;e.xPos=ft(e.xPos,0,n);var r=t.sequences.raw.length*t.props.tileHeight-t.props.height;return e.yPos=ft(e.yPos,0,r),Bt(Bt({},t),{},{position:e})}var Xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0}},e=arguments.length>1?arguments[1]:void 0,n=t.position;switch(e.type){case Lt.key:At(void 0!==e.payload.xMovement||void 0!==e.payload.yMovement,"must contain at least xMovement or yMovement");var r=Bt({},n);return r.xPos+=e.payload.xMovement||0,r.yPos+=e.payload.yMovement||0,Yt(t,r);case Wt.key:At(void 0!==e.payload.xPos||void 0!==e.payload.yPos,"must contain at least xPos or yPos");var o={xPos:e.payload.xPos||n.xPos,yPos:e.payload.yPos||n.yPos};return Yt(t,o);case Nt.key:At(void 0!==e.payload.aaPos,"must contain at least aaPos");var i={xPos:t.props.tileWidth*(e.payload.aaPos-1),yPos:n.yPos};return Yt(t,i);default:return t}};function Ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0},highlight:null},e=arguments.length>1?arguments[1]:void 0,n=t,r=t.position,o=t.highlight;switch(e.type){case Ht.key:n=Bt(Bt({},xt(n,["props","sequenceStats","sequences"])),e.payload);break;case Wt.key:case Lt.key:case Nt.key:r=Xt(n,e).position;break;case It.key:o=e.payload;break;case zt.key:o=null;break;default:return n}var i={xPosOffset:-r.xPos%n.props.tileWidth,yPosOffset:-r.yPos%n.props.tileWidth,currentViewSequence:ft(Dt(r.yPos/n.props.tileHeight),0,n.sequences.length-1),currentViewSequencePosition:ft(Dt(r.xPos/n.props.tileWidth),0,n.sequences.maxLength),position:r};return Bt(Bt(Bt({},n),i),{},{highlight:o})}var Gt=n(608),Kt=n(570),Zt=n(711);var Qt=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var $t=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var Jt=function(t,e){return e.length<2?t:Object(pt.a)(t,$t(e,0,-1))};var te=function(t,e){return e=Object(yt.a)(e,t),null==(t=Jt(t,e))||delete t[Object(vt.a)(Qt(e))]},ee=n(620),ne=n(589),re=n(645),oe=n(572),ie=Function.prototype,ae=Object.prototype,ce=ie.toString,ue=ae.hasOwnProperty,se=ce.call(Object);var le=function(t){if(!Object(oe.a)(t)||"[object Object]"!=Object(ne.a)(t))return!1;var e=Object(re.a)(t);if(null===e)return!0;var n=ue.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==se};var fe=function(t){return le(t)?void 0:t},pe=n(666),he=Et((function(t,e){var n={};if(null==t)return n;var r=!1;e=Object(Kt.a)(e,(function(e){return e=Object(yt.a)(e,t),r||(r=e.length>1),e})),Object(ee.a)(t,Object(pe.a)(t),n),r&&(n=Object(Zt.a)(n,7,fe));for(var o=e.length;o--;)te(n,e[o]);return n})),ye=n(602),be=n(616);var de=function(t){return"function"==typeof t?t:be.a};var ve=function(t,e){return t&&Object(ye.a)(t,de(e))},me=function(t){this.defaultColor="#ffffff",this.type="static",this.map=t,this.getColor=function(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}},ge=function(t,e){this.type="dyn",this.opt=e,void 0!==t.init?(t.init.call(this),this.getColor=t.run,this.reset=t.init,this.map=t.map):this.getColor=t},Oe={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},we={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},je={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"},Se={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},Pe={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"},_e={init:function(){},run:function(t,e,n){if(!n||1!==n.progress||e>n.map.length)return"#ffffff";var r=n.map[e][t]||0;return r>.8?"#6464ff":r>.6?"#9da5ff":r>.4?"#cccccc":"#ffffff"},map:{"> 0.8":"#6464ff","> 0.6":"#9da5ff","> 0.4":"#cccccc","> 0":"#ffffff"}};function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var xe={buried:Oe,buried_index:Oe,cinema:{A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"},clustal2:{A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"},clustal:{A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"},helix:we,helix_propensity:we,hydro:{A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"},lesk:{A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"},mae:{A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"},nucleotide:{A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"},purine:je,purine_pyrimidine:je,strand:Se,strand_propensity:Se,taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"},turn:Pe,turn_propensity:Pe,zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},ke={conservation:_e},Te=function(t){this.maps=Re(xe),this.dyn=Re(ke),this.opt=t};function Re(t){if(null==t||"object"!==Ee(t))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Te.getScheme=function(t){return xe[t]},Te.prototype.getScheme=function(t){var e=this.maps[t];return void 0===e&&(e={},void 0!==this.dyn[t])?new ge(this.dyn[t],this.opt):new me(e)},Te.prototype.addStaticScheme=function(t,e){this.maps[t]=e},Te.prototype.addDynScheme=function(t,e){this.dyn[t]=e};var qe=new Te,De=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheme=qe.getScheme(e)}var e,n,r;return e=t,(n=[{key:"updateConservation",value:function(t){qe.conservation=t}},{key:"getColor",value:function(t,e){return this.scheme.getColor(t,e,qe.conservation)}}])&&Ce(e.prototype,n),r&&Ce(e,r),t}();function Ae(t){return t&&"function"==typeof t.getColor}var Me=c.a.shape({name:c.a.string,sequence:c.a.string}),Be=c.a.oneOfType([c.a.oneOf(["buried_index","clustal","clustal2","cinema","helix_propensity","hydro","lesk","mae","nucleotide","purine_pyrimidine","strand_propensity","taylor","turn_propensity","zappo","conservation"]),c.a.instanceOf(De),function(t,e,n){if(!Ae(t[e]))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Validation failed.")}]),Fe=c.a.shape({xPos:c.a.number,yPos:c.a.number}),He={width:c.a.number,height:c.a.number,tileWidth:c.a.number,tileHeight:c.a.number,colorScheme:Be,calculateConservation:c.a.bool},Le={width:800,height:600,tileWidth:20,tileHeight:20,colorScheme:"clustal",calculateConservation:!1};var We=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n},Ne=n(594),Ie=n(588);var ze=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n},Ve=n(567);var Ye=function(t,e,n){var r=Object(Ve.a)(t)?We:ze,o=arguments.length<3;return r(t,Object(Ie.a)(e,4),n,o,Ne.a)},Xe=n(580);var Ue=function(t,e){return Object(Xe.a)(t,e)},Ge=n(592),Ke=n(613),Ze=n(614);var Qe=function(t,e,n){(void 0!==n&&!Object(Ze.a)(t[e],n)||void 0===n&&!(e in t))&&Object(Ke.a)(t,e,n)},$e=n(606),Je=n(662),tn=n(665),en=n(643),nn=n(663),rn=n(621),on=n(600),an=n(618),cn=n(686),un=n(627);var sn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},ln=n(636);var fn=function(t){return Object(ee.a)(t,Object(ln.a)(t))};var pn=function(t,e,n,r,o,i,a){var c=sn(t,n),u=sn(e,n),s=a.get(u);if(s)Qe(t,n,s);else{var l=i?i(c,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=Object(Ve.a)(u),h=!p&&Object(an.a)(u),y=!p&&!h&&Object(un.a)(u);l=u,p||h||y?Object(Ve.a)(c)?l=c:Object(on.a)(c)?l=Object(en.a)(c):h?(f=!1,l=Object(Je.a)(u,!0)):y?(f=!1,l=Object(tn.a)(u,!0)):l=[]:le(u)||Object(rn.a)(u)?(l=c,Object(rn.a)(c)?l=fn(c):Object(dt.a)(c)&&!Object(cn.a)(c)||(l=Object(nn.a)(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),Qe(t,n,l)}};var hn=function t(e,n,r,o,i){e!==n&&Object($e.a)(n,(function(a,c){if(i||(i=new Ge.a),Object(dt.a)(a))pn(e,n,c,r,t,o,i);else{var u=o?o(sn(e,c),a,c+"",e,n,i):void 0;void 0===u&&(u=a),Qe(e,c,u)}}),ln.a)},yn=n(595),bn=n(586);function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var vn=function(t,e,n){if(!Object(dt.a)(n))return!1;var r=dn(e);return!!("number"==r?Object(bn.a)(n)&&Object(bt.a)(e,n.length):"string"==r&&e in n)&&Object(Ze.a)(n[e],t)};var mn=function(t){return Object(yn.a)((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&vn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,i)}return e}))},gn=mn((function(t,e,n){hn(t,e,n)}));var On=function(t,e){var n={raw:e,length:e.length};return n.maxLength=Ye(e,(function(t,e){return Math.max(t,e.sequence.length)}),0),n};function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){Sn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pn(t){Ae(t.colorScheme)||(t.colorScheme=new De(t.colorScheme)),t.colorScheme.updateConservation(t.conservation)}var _n,En,xn=function(t,e){var n=Object.keys(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,i=t(r,o);if(r!==i)for(var a=0;a<n.length;a++){var c=n[a],u=e[c](i[c],o,i);if(void 0===u)throw new Error("A reducer can't return 'undefined'");i[c]=u}return i}}(function(t){var e=Object.keys(t);return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o={},i=!1,a=0;a<e.length;a++){var c=e[a],u=t[c](n[c],r);if(void 0===u)throw new Error("A reducer can't return 'undefined'");o[c]=u,i=i||u!==n[c]}return i?o:n}}({props:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case ut.updateProps.key:return t=jn(jn({},t),r),"colorScheme"in r&&Pn(t),t;case ut.updateProp.key:var o=r.key,i=r.value;return t=jn(jn({},t),{},Sn({},o,i)),"colorScheme"===o&&Pn(t),t;case ut.updateConservation.key:var a=r.progress,c=r.conservation;return t.conservation={progress:a,map:c},t.colorScheme.updateConservation(t.conservation),t;default:return void 0!==t.colorScheme&&Pn(t),t}},sequences:(_n=Sn({},ut.updateSequences,On),En=[],function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;return _n.hasOwnProperty(n)?_n[n](t,r):t})}),{sequenceStats:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentViewSequence:0,currentViewSequencePosition:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(e.type){case ut.updateProp.key:case ut.updateProps.key:case ut.updateSequences.key:if(n.props&&n.props.tileHeight&&n.props.tileWidth&&n.sequences){var r={};return r.nrXTiles=Math.ceil(n.props.width/n.props.tileWidth)+1,r.nrYTiles=Math.ceil(n.props.height/n.props.tileHeight)+1,r.fullWidth=n.props.tileWidth*n.sequences.maxLength,r.fullHeight=n.props.tileHeight*n.sequences.length,r}}return t}});function kn(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Tn=function(t){c.a.checkPropTypes(He,t,"prop","MSAViewer");var e=gn({},Le,t),n=e.sequences,r=(e.position,kn(e,["sequences","position"])),o=B(xn,!1);return o.dispatch(ot(r)),o.dispatch(at(n)),o};var Rn=function(t,e){void 0===t.nextFrame&&(t.nextFrame=window.requestAnimationFrame(function(){e(),this.nextFrame=void 0}.bind(t)))},Cn=n(706),qn=n.n(Cn);function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(){return(An=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Mn(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wn(t);if(e){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(t,e){return!e||"object"!==Dn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nn=null,In=function(t,e,n){(Nn=new qn.a).postMessage(e),Nn.onmessage=function(r){t.dispatch(ut.updateConservation(r.data)),n&&n.current&&n.current.el&&n.current.el.current&&n.current.el.current.dispatchEvent(new CustomEvent("conservationProgress",{bubbles:!0,detail:r.data})),1===r.data.progress&&(console.log("completed conservation analisys"),t.dispatch(ut.updateSequences(e)))}},zn={sequences:"updateSequences"};Object.keys(He).forEach((function(t){!(t in zn)&&He[t]&&(zn[t]="updateProp")}));var Vn=Object.keys(zn),Yn=function(t){return Ye(t,(function(t,e,n){return t[e.key]=e,t}),{})},Xn=Yn(ut),Un=Yn(Vt),Gn=function(t){var e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(c,e);var n,r,i,a=Hn(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=a.call(this,t);var n=xt(t,Vn)||{};return e.el=o.a.createRef(),e.msaStore=t.msaStore,void 0!==n.sequences?(e.msaStore=Tn(n),n.calculateConservation&&e.msaStore&&In(e.msaStore,n.sequences,e.el)):console.warn("Check your MSA properties",n),e}return n=c,(r=[{key:"componentDidMount",value:function(){void 0!==this.props.position&&this.updatePosition(this.props.position)}},{key:"componentDidUpdate",value:function(t){var e=this.props;for(var n in xt(e,Vn))if(!Ue(t[n],e[n]))if("position"===n)this.updatePosition(e[n]);else if(n in zn){var r=void 0;switch("calculateConservation"===n&&(e[n]?In(this.msaStore,this.props.sequences,this.el):Nn.terminate()),zn[n]){case"updateProp":r=ut[zn[n]](n,e[n]);break;default:r=ut[zn[n]](e[n])}this.msaStore.dispatch(r)}else console.error(n," is unknown.")}},{key:"dispatch",value:function(t){if(t.type in Xn)this.msaStore.dispatch(t);else{if(!(t.type in Un))throw new Error("Invalid action",t);this.el.current.positionStore.dispatch(t)}}},{key:"getColorMap",value:function(){var t=this.props.colorScheme,e={};try{e=this.msaStore.getState().props.colorScheme.scheme.map}catch(t){}return{name:t,map:e}}},{key:"render",value:function(){var e=he(this.props,Vn),n=e.msaStore,r=Mn(e,["msaStore"]);return void 0===this.msaStore?o.a.createElement("div",null," Error initializing the MSAViewer. "):o.a.createElement(t,An({ref:this.el,msaStore:n||this.msaStore},r))}}])&&Bn(n.prototype,r),i&&Bn(n,i),c}(r.Component);return ve(ut,(function(t,n){e.prototype[n]=function(e){this.msaStore.dispatch(t(e))}})),ve(Vt,(function(t,n){e.prototype[n]=function(e){var n=this;Rn(this,(function(){n.el.current.positionStore.dispatch(t(e))}))}})),e},Kn="FORWARD_SAME_PROP_NAME";function Zn(t,e){var n={},r=t;return ve(e,(function(t,e){var o=function(t,e){var n={},r={};return ve(t,(function(t,o){if(o in e){var i=e[o];n[i===Kn?o:i]=t}else r[o]=t})),{forward:n,other:r}}(r,t);n[e]=o.forward,r=o.other})),{forward:n,other:r}}var Qn=n(724),$n=Qn.a&&new Qn.a,Jn=$n?function(t,e){return $n.set(t,e),t}:be.a,tr=n(644);var er=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Object(tr.a)(t.prototype),r=t.apply(n,e);return Object(dt.a)(r)?r:n}};var nr=function(t,e,n){var r=1&e,o=er(t);return function e(){var i=this&&this!==kt.a&&this instanceof e?o:t;return i.apply(r?n:this,arguments)}},rr=n(696),or=Math.max;var ir=function(t,e,n,r){for(var o=-1,i=t.length,a=n.length,c=-1,u=e.length,s=or(i-a,0),l=Array(u+s),f=!r;++c<u;)l[c]=e[c];for(;++o<a;)(f||o<i)&&(l[n[o]]=t[o]);for(;s--;)l[c++]=t[o++];return l},ar=Math.max;var cr=function(t,e,n,r){for(var o=-1,i=t.length,a=-1,c=n.length,u=-1,s=e.length,l=ar(i-c,0),f=Array(l+s),p=!r;++o<l;)f[o]=t[o];for(var h=o;++u<s;)f[h+u]=e[u];for(;++a<c;)(p||o<i)&&(f[h+n[a]]=t[o++]);return f};var ur=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r};var sr=function(){};function lr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}lr.prototype=Object(tr.a)(sr.prototype),lr.prototype.constructor=lr;var fr=lr,pr=n(629),hr=$n?function(t){return $n.get(t)}:pr.a,yr={},br=Object.prototype.hasOwnProperty;var dr=function(t){for(var e=t.name+"",n=yr[e],r=br.call(yr,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e};function vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}vr.prototype=Object(tr.a)(sr.prototype),vr.prototype.constructor=vr;var mr=vr;var gr=function(t){if(t instanceof fr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=Object(en.a)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e},Or=Object.prototype.hasOwnProperty;function wr(t){if(Object(oe.a)(t)&&!Object(Ve.a)(t)&&!(t instanceof fr)){if(t instanceof mr)return t;if(Or.call(t,"__wrapped__"))return gr(t)}return new mr(t)}wr.prototype=sr.prototype,wr.prototype.constructor=wr;var jr=wr;var Sr=function(t){var e=dr(t),n=jr[e];if("function"!=typeof n||!(e in fr.prototype))return!1;if(t===n)return!0;var r=hr(n);return!!r&&t===r[0]},Pr=n(735),_r=Object(Pr.a)(Jn),Er=/\{\n\/\* \[wrapped with (.+)\] \*/,xr=/,? & /;var kr=function(t){var e=t.match(Er);return e?e[1].split(xr):[]},Tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Rr=function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Tr,"{\n/* [wrapped with "+e+"] */\n")},Cr=n(654),qr=n(599),Dr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Ar=function(t,e){return Object(Cr.a)(Dr,(function(n){var r="_."+n[0];e&n[1]&&!Object(qr.a)(t,r)&&t.push(r)})),t.sort()};var Mr=function(t,e,n){var r=e+"";return Object(_t.a)(t,Rr(r,Ar(kr(r),n)))};var Br=function(t,e,n,r,o,i,a,c,u,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,c,u,s],p=n.apply(void 0,f);return Sr(t)&&_r(p,f),p.placeholder=r,Mr(p,t,e)};var Fr=function(t){return t.placeholder},Hr=Math.min;var Lr=function(t,e){for(var n=t.length,r=Hr(e.length,n),o=Object(en.a)(t);r--;){var i=e[r];t[r]=Object(bt.a)(i,n)?o[i]:void 0}return t};var Wr=function(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",i[o++]=n)}return i};var Nr=function t(e,n,r,o,i,a,c,u,s,l){var f=128&n,p=1&n,h=2&n,y=24&n,b=512&n,d=h?void 0:er(e);return function v(){for(var m=arguments.length,g=Array(m),O=m;O--;)g[O]=arguments[O];if(y)var w=Fr(v),j=ur(g,w);if(o&&(g=ir(g,o,i,y)),a&&(g=cr(g,a,c,y)),m-=j,y&&m<l){var S=Wr(g,w);return Br(e,n,t,v.placeholder,r,g,S,u,s,l-m)}var P=p?r:this,_=h?P[e]:e;return m=g.length,u?g=Lr(g,u):b&&m>1&&g.reverse(),f&&s<m&&(g.length=s),this&&this!==kt.a&&this instanceof v&&(_=d||er(_)),_.apply(P,g)}};var Ir=function(t,e,n){var r=er(t);return function o(){for(var i=arguments.length,a=Array(i),c=i,u=Fr(o);c--;)a[c]=arguments[c];var s=i<3&&a[0]!==u&&a[i-1]!==u?[]:Wr(a,u);if((i-=s.length)<n)return Br(t,e,Nr,o.placeholder,void 0,a,s,void 0,void 0,n-i);var l=this&&this!==kt.a&&this instanceof o?r:t;return Object(rr.a)(l,this,a)}};var zr=function(t,e,n,r){var o=1&e,i=er(t);return function e(){for(var a=-1,c=arguments.length,u=-1,s=r.length,l=Array(s+c),f=this&&this!==kt.a&&this instanceof e?i:t;++u<s;)l[u]=r[u];for(;c--;)l[u++]=arguments[++a];return Object(rr.a)(f,o?n:this,l)}},Vr=Math.min;var Yr=function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?ir(u,c,e[4]):c,t[4]=u?Wr(t[3],"__lodash_placeholder__"):e[4]}return(c=e[5])&&(u=t[5],t[5]=u?cr(u,c,e[6]):c,t[6]=u?Wr(t[5],"__lodash_placeholder__"):e[6]),(c=e[7])&&(t[7]=c),128&r&&(t[8]=null==t[8]?e[8]:Vr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t},Xr=Math.max;var Ur=function(t,e,n,r,o,i,a,c){var u=2&e;if(!u&&"function"!=typeof t)throw new TypeError("Expected a function");var s=r?r.length:0;if(s||(e&=-97,r=o=void 0),a=void 0===a?a:Xr(Object(Tt.a)(a),0),c=void 0===c?c:Object(Tt.a)(c),s-=o?o.length:0,64&e){var l=r,f=o;r=o=void 0}var p=u?void 0:hr(t),h=[t,e,n,r,o,l,f,i,a,c];if(p&&Yr(h,p),t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],!(c=h[9]=void 0===h[9]?u?0:t.length:Xr(h[9]-s,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?Ir(t,e,c):32!=e&&33!=e||o.length?Nr.apply(void 0,h):zr(t,e,n,r);else var y=nr(t,e,n);return Mr((p?Jn:_r)(y,h),t,e)},Gr=Object(yn.a)((function(t,e){var n=Wr(e,Fr(Gr));return Ur(t,64,void 0,e,n)}));Gr.placeholder={};var Kr=Gr;var Zr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return J(t,e,n,r)};function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){return t===e}function Jr(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}function to(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r,n=null,r=null;return function(){return Jr(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}function eo(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return Qr(t)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function no(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=0,a=r.pop(),c=eo(r),u=t.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),s=t((function(){for(var t=[],e=c.length,n=0;n<e;n++)t.push(c[n].apply(null,arguments));return u.apply(null,t)}));return s.resultFunc=a,s.dependencies=c,s.recomputations=function(){return i},s.resetRecomputations=function(){return i=0},s}}var ro=no(to);function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!==oo(t)||!t||"object"!==oo(e)||!e)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(e),u=0;u<i.length;u++){var s=i[u];if(!c(s))return!1;var l=t[s],f=e[s];if(!1===(o=n?n.call(r,l,f,s):void 0)||void 0===o&&l!==f)return!1}return!0}var ao=no(to,io);function co(t){At(arguments.length>1,"Must provide methods for binding");for(var e=1;e<arguments.length;e++){var n=arguments[e];t[n]=t[n].bind(t)}}function uo(t){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?so(Object(n),!0).forEach((function(e){wo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ho(t,e,n){return e&&po(t.prototype,e),n&&po(t,n),t}function yo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bo(t,e)}function bo(t,e){return(bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oo(t);if(e){var o=Oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mo(this,n)}}function mo(t,e){return!e||"object"!==uo(e)&&"function"!=typeof e?go(t):e}function go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.withX,i=void 0!==n&&n,a=e.withY,u=void 0!==a&&a,s=function(e){yo(r,e);var n=vo(r);function r(t){var e;return fo(this,r),wo(go(e=n.call(this,t)),"updateFromPositionStore",(function(){At(e.context&&e.context.positionMSAStore,"MSA PositionStore needs to be injected");var t=e.context.positionMSAStore.getState();e.position=e.position||{};var n=xt(t,["currentViewSequence","currentViewSequencePosition","xPosOffset","yPosOffset"]);t.position&&(n.xPos=t.position.xPos,n.yPos=t.position.yPos),e.setState({highlight:t.highlight}),e.el.current&&e.shouldRerender(n)?(e.position=n,e.setState({position:e.position})):(ve(n,(function(t,n){e.position[n]=t})),e.el.current&&e.updateScrollPosition())})),wo(go(e),"shouldRerender",(function(t){var n=e.el.current;if(void 0!==n.shouldRerender)return n.shouldRerender(t);var r=n.props.cacheElements;return!!(u&&Math.abs(t.currentViewSequence-e.position.lastCurrentViewSequence)>=r)||!!(i&&Math.abs(t.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)>=r)})),wo(go(e),"updateScrollPosition",(function(){var t=e.el.current;if(t&&void 0!==t.updateScrollPosition)t.updateScrollPosition();else if(t&&t.el&&t.el.current){if(i){var n=t.props.tileWidth,r=-e.position.xPosOffset;r+=(e.position.lastCurrentViewSequencePosition-e.position.lastStartXTile)*n,e.position.currentViewSequencePosition!==e.position.lastCurrentViewSequencePosition&&(r+=(e.position.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)*n),t.el.current.scrollLeft=r}if(u){var o=t.props.tileHeight,a=-e.position.yPosOffset;a+=(e.position.lastCurrentViewSequence-e.position.lastStartYTile)*o,e.position.currentViewSequence!==e.position.lastCurrentViewSequence&&(a+=(e.position.currentViewSequence-e.position.lastCurrentViewSequence)*o),t.el.current.scrollTop=a}}})),wo(go(e),"dispatch",(function(t){e.context.positionMSAStore.dispatch(t)})),e.el=o.a.createRef(),e.state={highlight:null},e}return ho(r,[{key:"componentDidMount",value:function(){this.unsubscribe=this.context.positionMSAStore.subscribe(this.updateFromPositionStore),this.updateScrollPosition(!0)}},{key:"componentDidUpdate",value:function(){this.updateScrollPosition()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.hasBeenInitialized||(this.updateFromPositionStore(),this.hasBeenInitialized=!0),o.a.createElement(t,lo({ref:this.el,position:this.position,positionDispatch:this.dispatch,highlight:this.state.highlight},this.props))}}]),r}(r.PureComponent);return s.displayName="withPosition(".concat(t.displayName||t.name,")"),s.contextTypes={positionMSAStore:c.a.object},s};function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eo(t,e){return(Eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=To(t);if(e){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ko(this,n)}}function ko(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eo(t,e)}(a,t);var e,n,r,i=xo(a);function a(){return Po(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"renderTile",value:function(t){var e=this.props.tileComponent;if(t in this.props.componentCache)return this.props.componentCache[t];var n=o.a.createElement(e,{key:t,index:t});return this.props.componentCache[t]=n,n}},{key:"render",value:function(){for(var t=[],e=this.props.startTile;e<this.props.endTile;e++)t.push(this.renderTile(e));return 0===t.length&&console.warn("The TileComponent rendered returned 0 elements from ".concat(this.props.startTile," to ").concat(this.props.endTile)),o.a.createElement("div",null,t)}}])&&_o(e.prototype,n),r&&_o(e,r),a}(r.PureComponent);Ro.propTypes={startTile:c.a.number.isRequired,endTile:c.a.number.isRequired,componentCache:c.a.func.isRequired};var Co=Ro;function qo(t){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e){return(Mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ho(t);if(e){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fo(this,n)}}function Fo(t,e){return!e||"object"!==qo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mo(t,e)}(a,t);var e,n,r,i=Bo(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).el=o.a.createRef(),e}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=(t.yPosOffset,t.tileHeight,t.currentViewSequence,t.sequences,t.height),n=(t.cacheElements,t.tileComponent,t.nrYTiles,t.position,t.positionDispatch,t.componentCache,Do(t,["yPosOffset","tileHeight","currentViewSequence","sequences","height","cacheElements","tileComponent","nrYTiles","position","positionDispatch","componentCache"])),r={height:e,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},i=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),a=Math.min(this.props.sequences.length,i+Math.ceil(e/this.props.tileHeight)+2*this.props.cacheElements);return this.props.position.lastCurrentViewSequence=this.props.position.currentViewSequence,this.props.position.lastStartYTile=i,o.a.createElement("div",n,o.a.createElement("div",{style:r,ref:this.el},o.a.createElement(Co,{componentCache:this.props.componentCache,startTile:i,endTile:a,tileComponent:this.props.tileComponent})))}}])&&Ao(e.prototype,n),r&&Ao(e,r),a}(r.PureComponent);Lo.propTypes={tileComponent:c.a.oneOfType([c.a.func,c.a.object]).isRequired,cacheElements:c.a.number.isRequired,tileHeight:c.a.number.isRequired,nrYTiles:c.a.number.isRequired,componentCache:c.a.func.isRequired};var Wo=jo(Lo,{withY:!0});function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(){return(Io=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zo(Object(n),!0).forEach((function(e){Yo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xo(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ko(t,e,n){return e&&Go(t.prototype,e),n&&Go(t,n),t}function Zo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qo(t,e)}function Qo(t,e){return(Qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ei(t);if(e){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(t,e){return!e||"object"!==No(e)&&"function"!=typeof e?ti(t):e}function ti(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ei(t){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ni=function(t){Zo(n,t);var e=$o(n);function n(t){var r;return Uo(this,n),co(ti(r=e.call(this,t)),"createLabel"),r.label=ao(Kr(xt,r.constructor.labelProps),r.createLabel),r}return Ko(n,[{key:"createLabel",value:function(t){return this.cache=function(){},n=(e=t).sequences,i=e.tileHeight,a=e.labelComponent,c=e.labelStyle,u=e.labelAttributes,function(t){Zo(r,t);var e=$o(r);function r(){return Uo(this,r),e.apply(this,arguments)}return Ko(r,[{key:"render",value:function(){var t=this.props,e=t.index,r=Xo(t,["index"]);if(a){var s=a;return o.a.createElement(s,{sequence:n[e],index:e})}r.style=Vo(Vo({},this.props.style),{},{height:i},c);var l=Vo(Vo({},r),u);return o.a.createElement("div",l,n[e].name)}}]),r}(r.PureComponent);var e,n,i,a,c,u}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.dispatch,t.labelComponent,t.labelStyle,t.labelAttributes,Xo(t,["cacheElements","dispatch","labelComponent","labelStyle","labelAttributes"]));return o.a.createElement(Wo,Io({tileComponent:this.label(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(r.PureComponent);Yo(ni,"labelProps",["sequences","tileHeight","labelComponent","labelStyle","labelAttributes"]),ni.defaultProps={cacheElements:10,labelStyle:{}},ni.propTypes={font:c.a.string,labelComponent:c.a.oneOfType([c.a.object,c.a.func]),style:c.a.object,labelStyle:c.a.object,labelAttributes:c.a.object};var ri=Zr((function(t){return{height:t.props.height,tileHeight:t.props.tileHeight,sequences:t.sequences.raw,nrYTiles:t.sequenceStats.nrYTiles}}))(ni);function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ii(){return(ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ai(Object(n),!0).forEach((function(e){ui(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ui(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function si(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yi(t);if(e){var o=yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hi(this,n)}}function hi(t,e){return!e||"object"!==oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yi(t){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}(a,t);var e,n,r,i=pi(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).el=o.a.createRef(),e}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.tileWidth,n=t.sequences,r=t.width,i=(t.cacheElements,t.tileComponent),a=(t.nrXTiles,t.maxLength,t.position,t.positionDispatch,t.componentCache,si(t,["tileWidth","sequences","width","cacheElements","tileComponent","nrXTiles","maxLength","position","positionDispatch","componentCache"])),c={width:r,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},u=ci(ci({},this.props.style),{},{height:this.props.height}),s={tileWidth:e,sequences:n,tileComponent:i},l=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),f=Math.min(this.props.maxLength,l+this.props.nrXTiles+2*this.props.cacheElements),p=this.props.width+2*this.props.cacheElements*this.props.tileWidth;return this.props.position.lastStartXTile=l,this.props.position.lastCurrentViewSequencePosition=this.props.position.currentViewSequencePosition,o.a.createElement("div",ii({style:u},a),o.a.createElement("div",{style:c,ref:this.el},o.a.createElement(Co,ii({},s,{componentCache:this.props.componentCache,startTile:l,endTile:f,maxWidth:p}))))}}])&&li(e.prototype,n),r&&li(e,r),a}(r.PureComponent);bi.propTypes={tileComponent:c.a.oneOfType([c.a.func,c.a.object]).isRequired,cacheElements:c.a.number.isRequired,tileWidth:c.a.number.isRequired,nrXTiles:c.a.number.isRequired,maxLength:c.a.number.isRequired,componentCache:c.a.func.isRequired};var di=jo(bi,{withX:!0}),vi=mn((function(t,e){Object(ee.a)(e,Object(ln.a)(e),t)}));var mi=function(t,e){return(Object(Ve.a)(t)?Cr.a:Ne.a)(t,de(e))};var gi=function(t,e){var n={};return e=Object(Ie.a)(e,3),Object(ye.a)(t,(function(t,r,o){Object(Ke.a)(n,r,e(t,r,o))})),n};var Oi=function(t,e){var n=-1,r=Object(bn.a)(t)?Array(t.length):[];return Object(Ne.a)(t,(function(t,o,i){r[++n]=e(t,o,i)})),r};var wi=function(t,e){return(Object(Ve.a)(t)?Kt.a:Oi)(t,Object(Ie.a)(e,3))},ji=n(726);var Si=function(t,e){var n=[];return Object(Ne.a)(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n};var Pi=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};var _i=function(t,e){return(Object(Ve.a)(t)?ji.a:Si)(t,Pi(Object(Ie.a)(e,3)))},Ei=n(569);var xi=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(null!=a&&(void 0===c?a==a&&!Object(Ei.a)(a):n(a,c)))var c=a,u=i}return u};var ki=function(t,e){return t>e};var Ti=function(t){return t&&t.length?xi(t,be.a,ki):void 0},Ri=function t(e,n){if(!this||this.constructor!==t)return new t(e);if(void 0===e||"string"==typeof e)throw new TypeError("you need to give the seq stat an array");this.resetSeqs(e),this.alphabetSize=4,this._useBackground=!1,this.useGaps=!1,this.ignoredChars=["-","*"],vi(this,n)};Ri.prototype.addSeq=function(t){this.seqs.push(t),this._reset()},Ri.prototype.removeSeq=function(t){"number"==typeof t?this.seqs.splice(t,1):mi(this.seqs,function(e,n){t===e&&this.seqs.splice(n,1)}.bind(this)),this._reset()},Ri.prototype.addSeqs=function(t){t.forEach(function(t){this.addSeq(t)}.bind(this))},Ri.prototype.resetSeqs=function(t){if(this.seqs=[],!t instanceof Array||"at"in t){this.mseqs=t;var e=function(){var t=this.mseqs.pluck("seq");this.resetSeqs(t)};t.on("add change reset ",e,this),e.call(this)}else this.addSeqs(t),this._reset()};var Ci=["consensus","frequency","maxLength","ic","gaps"];Ri.prototype._reset=function(){for(var t=0;t<Ci.length;t++)this["_"+Ci[t]]=void 0;this._identity=void 0,this._background=void 0},Ri.prototype.setBackground=function(t){this._useBackground=t,this._reset()},Ri.prototype.useBackground=function(){this.setBackground(!0)},Ri.prototype.setDNA=function(){this.alphabetSize=4},Ri.prototype.setProtein=function(){this.alphabetSize=20},Ci.forEach((function(t){Ri.prototype[t]=function(){return void 0===this["_"+t]&&(this["_"+t]=this[t+"Calc"]()),this["_"+t]}})),Ri.prototype.identity=function(t){var e;return(void 0===this._identity||t)&&(e=this.identityCalc(t),this._identity=void 0),this._identity||e},Ri.prototype.background=function(){return void 0!==this.bg?this.bg:(void 0===this._background&&this.backgroundCalc(),this._background)},Ri.prototype.frequencyCalc=function(t){var e,n;e=new Array(this.maxLength()),n=new Array(this.seqs.length);var r=this.ignoredChars;return void 0!==t&&t.all&&(r=[]),mi(this.seqs,(function(t){mi(t,(function(t,o){r.indexOf(t)>=0||(void 0===e[o]&&(e[o]={}),void 0===e[o][t]&&(e[o][t]=0),e[o][t]++,void 0===n[o]&&(n[o]=0),n[o]++)}))})),mi(e,(function(t,r){return mi(t,(function(t,o){return e[r][o]=t/n[r]}))})),this._frequency=e,e},Ri.prototype.backgroundCalc=function(){var t={},e=0;return mi(this.seqs,(function(n){mi(n,(function(n){return void 0===t[n]&&(t[n]=0),t[n]++,e++}))})),t=gi(t,(function(t){return t/e})),this._background=t,t},Ri.prototype.icCalc=function(){var t=this.frequency();if(this._useBackground)var e=this.background();var n=this.ignoredChars,r=this._useBackground,o=wi(t,(function(t){return Ye(t,(function(t,o,i){return n.indexOf(i)>=0?t:(r&&(o/=e[i]),t-o*(Math.log(o)/Math.log(2)))}),0)}));return this._ic=o,o},Ri.prototype.conservation=function(t){var e=this.ic(),n=this.gaps(),r=this;t=t||this.alphabetSize;var o=Math.log(t)/Math.log(2),i=0;return wi(e,(function(t){var e=o-t;return r.useGaps&&(e*=1-n[i++]),e}))},Ri.prototype.conservResidue=function(t){var e,n=t?t.alphabetSize:void 0,r=this.ignoredChars;e=void 0!==t&&t.scaled?this.scale(this.conservation(n)):this.conservation(n);var o,i=this.frequency();return wi(i,(function(t,n){o=_i(o(t),(function(t){return r.indexOf(t)>=0}));var i={};return mi(o,(function(r){i[r]=t[r]*e[n]})),i}))},Ri.prototype.conservResidue2=function(t){var e=this.frequency(),n=this.conservation(t),r=this.background();return wi(e,(function(t,o){return wi(t,(function(t){var i=Ye(e[o],(function(t,e){return t+e/r[o]}),0);return t/r[o]/i*n[o]}),0)}))},Ri.prototype.scale=function(t,e){e=e||this.alphabetSize;var n=Math.log(e)/Math.log(2);return wi(t,(function(t){return t/n}))},Ri.prototype.maxLengthCalc=function(){return 0===this.seqs.length?0:Ti(this.seqs,(function(t){return t.length})).length},Ri.prototype.consensusCalc=function(){var t=new Array(this.maxLength());return mi(this.seqs,(function(e){mi(e,(function(e,n){void 0===t[n]&&(t[n]={}),void 0===t[n][e]&&(t[n][e]=0),t[n][e]++}))})),this._consensus=Ye(t,(function(t,e){var n;return n=Object.keys(e),t+Ti(n,(function(t){return e[t]}))}),""),this._consensus},Ri.prototype.identityCalc=function(t){var e=t||this.consensus();return this._identity=this.seqs.map((function(t){for(var n=0,r=0,o=0;o<t.length;o++)"-"!==t[o]&&"-"!==e[o]&&(r++,t[o]===e[o]&&n++);return n/r})),this._identity},Ri.prototype.gapsCalc=function(){var t=this.maxLength();if(t<=1||void 0===t)return[];var e=new Array(this.maxLength());return mi(this.seqs,(function(t){mi(t,(function(t,n){void 0===e[n]&&(e[n]={g:0,t:0}),t="-"===t?"g":"t",e[n][t]++}))})),this._gaps=wi(e,(function(t){return t.g/(t.g+t.t)})),this._gaps};var qi=Ri;function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(){return(Ai=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){Fi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hi(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ni(t,e,n){return e&&Wi(t.prototype,e),n&&Wi(t,n),t}function Ii(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ui(t);if(e){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yi(this,n)}}function Yi(t,e){return!e||"object"!==Di(e)&&"function"!=typeof e?Xi(t):e}function Xi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ui(t){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gi=function(t){Ii(n,t);var e=Vi(n);function n(t){var r;return Li(this,n),(r=e.call(this,t)).cache=function(){},r.initializeColumnHeights(),co(Xi(r),"createBar"),r.bar=ao((function(t){return xt(t,r.constructor.barAttributes)}),r.columnHeights,r.createBar),r}return Ni(n,[{key:"createBar",value:function(t,e){return this.cache=function(){},function(t){var e=t.columnHeights,n=t.tileWidth,i=t.height,a=t.fillColor;return t.barStyle,t.barAttributes,function(t){Ii(c,t);var r=Vi(c);function c(){return Li(this,c),r.apply(this,arguments)}return Ni(c,[{key:"render",value:function(){var t=this.props,r=t.index,c=Hi(t,["index"]);return c.style={height:Math.round(e[r]*i),width:n,display:"inline-block",textAlign:"center",backgroundColor:a},o.a.createElement("div",c)}}]),c}(r.PureComponent)}(Bi(Bi({},t),{},{columnHeights:e}))}},{key:"initializeColumnHeights",value:function(){this.columnHeights=ro((function(t){return t.sequences}),(function(t){return t.method}),(function(t,e){var n,r=qi(t.map((function(t){return t.sequence})));switch(e){case"conservation":n=r.scale(r.conservation());break;case"information-content":n=r.scale(r.ic());break;default:console.error(e+"is an invalid aggregation method for <OverviewBar />")}return n})).bind(this)}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.height,t.method,t.fillColor,t.dispatch,t.barStyle,t.barAttributes,Hi(t,["cacheElements","height","method","fillColor","dispatch","barStyle","barAttributes"]));return o.a.createElement(di,Ai({tileComponent:this.bar(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(r.PureComponent);Fi(Gi,"barAttributes",["tileWidth","height","fillColor","barStyle","barAttributes"]),Gi.defaultProps={height:50,fillColor:"#999999",method:"conservation",cacheElements:10},Gi.propTypes={method:c.a.oneOf(["information-content","conservation"]),height:c.a.number,fillColor:c.a.string,style:c.a.object,barStyle:c.a.object,barAttributes:c.a.object};var Ki=Zr((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(Gi);function Zi(t){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qi(){return(Qi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){ta(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ea(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oa(t,e,n){return e&&ra(t.prototype,e),n&&ra(t,n),t}function ia(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aa(t,e)}function aa(t,e){return(aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=la(t);if(e){var o=la(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ua(this,n)}}function ua(t,e){return!e||"object"!==Zi(e)&&"function"!=typeof e?sa(t):e}function sa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function la(t){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fa=function(t){ia(n,t);var e=ca(n);function n(t){var r;return na(this,n),(r=e.call(this,t)).cache=function(){},co(sa(r),"createMarker"),r.marker=ao(Kr(xt,r.constructor.markerAttributes),r.createMarker),r}return oa(n,[{key:"createMarker",value:function(t){return this.cache=function(){},n=(e=t).markerSteps,i=e.startIndex,a=e.tileWidth,e.font,c=e.markerComponent,u=e.markerStyle,s=e.markerAttributes,function(t){ia(r,t);var e=ca(r);function r(){return na(this,r),e.apply(this,arguments)}return oa(r,[{key:"render",value:function(){var t,e=this.props,r=e.index,l=ea(e,["index"]);if(c){var f=c;return o.a.createElement(f,{index:r})}l.style=Ji({width:a,display:"inline-block",textAlign:"center"},u),t=r%n==0?r+0+i:".";var p=Ji(Ji({},l),s);return o.a.createElement("div",p,t)}}]),r}(r.PureComponent);var e,n,i,a,c,u,s}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.markerSteps,t.startIndex,t.dispatch,t.markerComponent,t.markerStyle,ea(t,["cacheElements","markerSteps","startIndex","dispatch","markerComponent","markerStyle"]));return o.a.createElement(di,Qi({tileComponent:this.marker(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(r.PureComponent);ta(fa,"markerAttributes",["markerSteps","startIndex","tileWidth","markerComponent","markerStyle","markerAttributes"]),fa.defaultProps={style:{font:"12px Arial"},height:15,markerSteps:2,startIndex:1,cacheElements:10,markerStyle:{}},fa.propTypes={font:c.a.string,height:c.a.number,markerSteps:c.a.number,startIndex:c.a.number,markerComponent:c.a.oneOfType([c.a.object,c.a.func]),style:c.a.object,markerStyle:c.a.object,markerAttributes:c.a.object};var pa=Zr((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(fa);function ha(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ya=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};ha(ya,"rel",(function(t){if(void 0!==t.changedTouches)return ya.rel(t.changedTouches[0]);var e=t.offsetX,n=t.offsetY;if(void 0===e){var r=t.target||t.srcElement,o=r.getBoundingClientRect();if(e=t.clientX-o.left,n=t.clientY-o.top,void 0===e&&(e=t.pageX-r.offsetLeft,n=t.pageY-r.offsetTop,void 0===e))return void console.log(t,"No mouse event defined.")}return[e,n]})),ha(ya,"abs",(function(t){if(void 0!==t.changedTouches)return ya.abs(t.changedTouches[0]);var e=t.pageX,n=t.pageY;return void 0===e&&(e=t.layerX,n=t.layerY),void 0===e&&(e=t.clientX,n=t.clientY),void 0===e&&(e=t.x,n=t.y),[e,n]})),ha(ya,"wheelDelta",(function(t){var e=[t.deltaX,t.deltaY];return void 0===e[0]&&t.mozMovementX&&(e=[0,t.mozMovementX]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e}));var ba=ya,da=n(804),va=n.n(da),ma=n(805),ga=n.n(ma),Oa=n(806),wa=n.n(Oa);function ja(t){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xa(t,e){return(xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ra(t);if(e){var o=Ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}function Ta(t,e){return!e||"object"!==ja(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ra(t){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ca(){return o.a.createElement("svg",{height:"1em",width:"1.542em",viewBox:"0 0 1542 1000"},o.a.createElement("path",{d:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)",fill:"rgb(68, 122, 219)"}))}var qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xa(t,e)}(a,t);var e,n,r,i=ka(a);function a(){return _a(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sa(Object(n),!0).forEach((function(e){Pa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({opacity:.9,backgroundColor:"white"},this.props.style),e={position:"relative",fontSize:"16px",padding:"3px 4px",cursor:"pointer",lineHeight:"normal",textDecoration:"none",color:"black"};return o.a.createElement("div",{style:t},o.a.createElement("div",{style:e},o.a.createElement(ga.a,{width:20,height:20})),o.a.createElement("div",{style:e},o.a.createElement(wa.a,{width:20,height:20})),o.a.createElement("div",{style:e},o.a.createElement(va.a,{width:20,height:20})),o.a.createElement("a",{href:"https://plot.ly/",target:"_blank",rel:"noreferrer noopener","data-title":"Produced with Plotly",style:e},o.a.createElement(Ca,{width:20,height:20})))}}])&&Ea(e.prototype,n),r&&Ea(e,r),a}(r.PureComponent);function Da(t){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ma(t,e){return(Ma=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=La(t);if(e){var o=La(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fa(this,n)}}function Fa(t,e){return!e||"object"!==Da(e)&&"function"!=typeof e?Ha(t):e}function Ha(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function La(t){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Na=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ma(t,e)}(a,t);var e,n,r,i=Ba(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Wa(Ha(e=i.call(this,t)),"onScroll",(function(t){Rn(Ha(e),(function(){var t=e.shouldShow(),n=t.showX,r=t.showY,o={xMovement:e.el.current.scrollLeft-(n?e.props.position.xPos:0),yMovement:e.el.current.scrollTop-(r?e.props.position.yPos:0)};e.props.positionDispatch(Lt(o))}))})),Wa(Ha(e),"updateScrollPosition",(function(){e.el&&e.el.current&&(e.el.current.scrollTop=e.props.position.yPos,e.el.current.scrollLeft=e.props.position.xPos)})),e.el=o.a.createRef(),e}return e=a,(n=[{key:"checkOverflow",value:function(t,e){var n=e.withX,r=void 0!==n&&n,o=e.withY,i=void 0!==o&&o,a=!1;switch(t){case"auto":r&&(a|=this.props.fullWidth>this.props.width),i&&(a|=this.props.fullHeight>this.props.height);break;case"hidden":a=!1;break;case"scroll":a=!0}return a}},{key:"shouldShow",value:function(){var t={withX:!0},e={withY:!0},n="initial"===this.props.overflowX?this.props.overflow:this.props.overflowX,r="initial"===this.props.overflowY?this.props.overflow:this.props.overflowY;return{showX:this.checkOverflow(n,t)&&this.checkOverflow(this.props.overflow,t),showY:this.checkOverflow(r,e)&&this.checkOverflow(this.props.overflow,e)}}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.fullWidth,i=t.fullHeight,a={position:"absolute",overflowX:"auto",overflowY:"auto",width:e,height:n,transform:""},c=this.shouldShow(),u=c.showX,s=c.showY,l={height:1,width:1};return s||u?(u&&(l.width=r,a.overflowX="scroll","top"===this.props.positionX&&(a.transform+="rotateX(180deg)")),s&&(l.height=i,a.overflowY="scroll","left"===this.props.positionY&&(a.transform+="rotateY(180deg)")),o.a.createElement("div",{style:a,onScroll:this.onScroll,ref:this.el},o.a.createElement("div",{style:l}))):o.a.createElement("div",null)}}])&&Aa(e.prototype,n),r&&Aa(e,r),a}(r.PureComponent);Na.defaultProps={overflow:"auto",overflowX:"initial",overflowY:"initial",positionX:"bottom",positionY:"right",scrollBarWidth:5},Na.propTypes={overflow:c.a.oneOf(["hidden","auto","scroll"]),overflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),width:c.a.number.isRequired,height:c.a.number.isRequired,fullHeight:c.a.number.isRequired,fullWidth:c.a.number.isRequired,positionX:c.a.oneOf(["top","bottom"]),positionY:c.a.oneOf(["left","right"])};var Ia=jo(Na,{withX:!0,withY:!0});function za(t){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Va(){return(Va=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ya(t){return function(t){if(Array.isArray(t))return Xa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ua(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ua(Object(n),!0).forEach((function(e){ec(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Za(t,e){return(Za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tc(t);if(e){var o=tc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $a(this,n)}}function $a(t,e){return!e||"object"!==za(e)&&"function"!=typeof e?Ja(t):e}function Ja(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Za(t,e)}(a,t);var e,n,r,i=Qa(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ec(Ja(e=i.call(this,t)),"state",{mouse:{isMouseWithin:!1,cursorState:"grab"}}),ec(Ja(e),"currentContext",1),e.canvasBuffers=[o.a.createRef(),o.a.createRef()],e.container=o.a.createRef(),co(Ja(e),"onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onClick","onDoubleClick","draw"),e.onViewpointChange(),e.mouseMovePosition=void 0,e.touchMovePosition=void 0,e.isInDragPhase=void 0,e.mouseHasMoved=void 0,e}return e=a,(n=[{key:"drawScene",value:function(){console.warn("drawScene is unimplemented.")}},{key:"onPositionUpdate",value:function(){console.warn("onPositionUpdate is unimplemented.")}},{key:"onViewpointChange",value:function(){}},{key:"componentDidMount",value:function(){this.ctxBuffers=[this.canvasBuffers[0].current.getContext("2d",{alpha:"false"}),this.canvasBuffers[1].current.getContext("2d",{alpha:"false"})],this.swapContexts(),this.container.current.addEventListener("mouseenter",this.onMouseEnter),this.container.current.addEventListener("mouseleave",this.onMouseLeave),this.container.current.addEventListener("touchstart",this.onTouchStart),this.container.current.addEventListener("touchmove",this.onTouchMove),this.container.current.addEventListener("touchend",this.onTouchEnd),this.container.current.addEventListener("touchcancel",this.onTouchCancel),this.container.current.addEventListener("click",this.onClick),this.container.current.addEventListener("dblclick",this.onDoubleClick),this.props.sequenceDisableDragging||(this.container.current.addEventListener("mousedown",this.onMouseDown),this.container.current.addEventListener("mouseup",this.onMouseUp),this.container.current.addEventListener("mousemove",this.onMouseMove))}},{key:"swapContexts",value:function(){var t=this.currentContext;this.canvasBuffers[t].current.style.visibility="visible";var e=(this.currentContext+1)%2;this.canvasBuffers[e].current.style.visibility="hidden",this.currentContext=e,this.ctx=this.ctxBuffers[e]}},{key:"draw",value:function(){this.ctx&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.onViewpointChange(),this.drawScene(),this.swapContexts())}},{key:"onClick",value:function(t){}},{key:"onDoubleClick",value:function(t){}},{key:"onMouseDown",value:function(t){this.startDragPhase(t)}},{key:"onMouseMove",value:function(t){var e=this;if(void 0!==this.isInDragPhase){this.mouseHasMoved=!0;var n=ba.abs(t),r=this.mouseMovePosition;Rn(this,(function(){e.mouseMovePosition=n,e.onPositionUpdate(r,e.mouseMovePosition)}))}}},{key:"onMouseUp",value:function(){this.stopDragPhase()}},{key:"onMouseEnter",value:function(){this.setState((function(t){return{mouse:Ga(Ga({},t.mouse),{},{isMouseWithin:!0})}}))}},{key:"onMouseLeave",value:function(){this.stopHoverPhase(),this.stopDragPhase()}},{key:"onTouchStart",value:function(t){console.log("touchstart",t),this.startDragPhase(t)}},{key:"onTouchMove",value:function(t){void 0!==this.isInDragPhase&&(console.log("touchmove",t),this.onMouseMove(t))}},{key:"onTouchEnd",value:function(){this.stopDragPhase()}},{key:"onTouchCancel",value:function(){this.stopDragPhase()}},{key:"startDragPhase",value:function(t){this.mouseMovePosition=ba.abs(t),this.mouseHasMoved=void 0,this.isInDragPhase=!0,this.setState((function(t){return{mouse:Ga(Ga({},t.mouse),{},{cursorState:"grabbing"})}}))}},{key:"stopHoverPhase",value:function(){this.setState((function(t){return{mouse:Ga(Ga({},t.mouse),{},{isMouseWithin:!1})}}))}},{key:"stopDragPhase",value:function(){this.isInDragPhase=void 0,this.setState((function(t){return{mouse:Ga(Ga({},t.mouse),{},{cursorState:"grab"})}}))}},{key:"isEventWithinComponent",value:function(t){var e=ba.rel(t);return 0<=e[0]&&e[0]<=this.props.width&&0<=e[1]&&e[1]<=this.props.height}},{key:"componentWillUnmount",value:function(){this.container.current.removeEventListener("mouseenter",this.onMouseEnter),this.container.current.removeEventListener("mouseleave",this.onMouseLeave),this.container.current.removeEventListener("click",this.onClick),this.container.current.removeEventListener("dblclick",this.onDoubleClick),this.container.current.removeEventListener("touchstart",this.onTouchStart),this.container.current.removeEventListener("touchend",this.onTouchEnd),this.container.current.removeEventListener("touchcancel",this.onTouchCancel),this.container.current.removeEventListener("touchmove",this.onTouchMove),this.props.sequenceDisableDragging||(this.container.current.removeEventListener("mouseup",this.onMouseUp),this.container.current.removeEventListener("mousedown",this.onMouseDown),this.container.current.removeEventListener("mousemove",this.onMouseMove)),this.stopDragPhase()}},{key:"render",value:function(){var t=Ga(Ga({width:this.props.width,height:this.props.height},this.props.style),{},{cursor:this.state.mouse.cursorState,position:"relative"}),e=this.props.showModBar&&this.state.mouse.isMouseWithin,n={position:"absolute",left:0,top:0},r=he(this.props,[].concat(Ya(this.constructor.propKeys),["tileWidth","tileHeight","colorScheme","nrXTiles","nrYTiles","dispatch","sequences","fullWidth","fullHeight","position","positionDispatch"]));return o.a.createElement("div",Va({style:t,ref:this.container},r),e&&o.a.createElement(qa,{style:{position:"absolute",right:0,opacity:.8}}," Plotly Modbar"),o.a.createElement("canvas",{style:n,ref:this.canvasBuffers[0],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),o.a.createElement("canvas",{style:n,ref:this.canvasBuffers[1],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),o.a.createElement(Ia,{overflow:this.props.overflow,overflowX:this.props.overflowX,overflowY:this.props.overflowY,positionX:this.props.scrollBarPositionX,positionY:this.props.scrollBarPositionY,width:this.props.width,height:this.props.height,fullWidth:this.props.fullWidth,fullHeight:this.props.fullHeight}))}}])&&Ka(e.prototype,n),r&&Ka(e,r),a}(r.PureComponent);ec(nc,"defaultProps",{engine:"canvas",showModBar:!0});var rc=nc;function oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ic=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.state={}}var e,n,r;return e=t,(n=[{key:"updateEl",value:function(t){this.el=t}},{key:"font",value:function(t){this.state.font=t}},{key:"globalAlpha",value:function(t){this.state.globalAlpha=t}},{key:"startDrawingFrame",value:function(){this.clear()}},{key:"endDrawingFrame",value:function(){}},{key:"save",value:function(){}},{key:"restore",value:function(){}}])&&oc(e.prototype,n),r&&oc(e,r),t}();function ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var cc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={},this.cacheHeight=0,this.cacheWidth=0}var e,n,r;return e=t,(n=[{key:"getFontTile",value:function(t,e,n,r){return e===this.cacheWidth&&n===this.cacheHeight&&r===this.font||(this.updateDimensions(e,n),this.font=r),void 0===this.cache[t]&&this.createTile(t,e,n),this.cache[t]}},{key:"createTile",value:function(t,e,n,r){var o=this.cache[t]=document.createElement("canvas");return o.width=e,o.height=n,this.ctx=o.getContext("2d"),this.ctx.font=this.font+"px mono",this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,e/2,n/2,e,r)}},{key:"updateDimensions",value:function(t,e){this.invalidate(),this.cacheWidth=t,this.cacheHeight=e}},{key:"invalidate",value:function(){this.cache={}}}])&&ac(e.prototype,n),r&&ac(e,r),t}();function uc(t){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(t,e){return(lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hc(t);if(e){var o=hc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pc(this,n)}}function pc(t,e){return!e||"object"!==uc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lc(t,e)}(i,t);var e,n,r,o=fc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).ctx=t.getContext("2d"),e.cache=new cc,e}return e=i,(n=[{key:"clear",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"fillRect",value:function(t,e,n,r){this.ctx.fillRect(t,e,n,r)}},{key:"fillText",value:function(t,e,n,r,o){return this.ctx.drawImage(this.cache.getFontTile(t,r,o,this.ctx.font),e,n,r,o)}},{key:"font",value:function(t){this.ctx.font=t}},{key:"fillStyle",value:function(t){this.ctx.fillStyle=t}},{key:"globalAlpha",value:function(t){this.ctx.globalAlpha=t}},{key:"save",value:function(){this.ctx.save()}},{key:"restore",value:function(){this.ctx.restore()}}])&&sc(e.prototype,n),r&&sc(e,r),i}(ic);function bc(t){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vc(t,e){return(vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oc(t);if(e){var o=Oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gc(this,n)}}function gc(t,e){return!e||"object"!==bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wc,jc,Sc,Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vc(t,e)}(a,t);var e,n,r,i=mc(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).canvas=o.a.createRef(),e}return e=a,(n=[{key:"componentDidMount",value:function(){this.ctx=new yc(this.canvas.current),this.draw()}},{key:"componentDidUpdate",value:function(){this._draw()}},{key:"_draw",value:function(){this.ctx&&(this.ctx.startDrawingFrame(),this.ctx.save(),this.draw(),this.ctx.restore(),this.ctx.endDrawingFrame())}},{key:"draw",value:function(){console.error("Implement me.")}},{key:"render",value:function(){return o.a.createElement("div",{style:this.props.style},o.a.createElement("canvas",{ref:this.canvas,width:this.props.width,height:this.props.height}))}}])&&dc(e.prototype,n),r&&dc(e,r),a}(r.PureComponent);function _c(t){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kc(t,e){return(kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cc(t);if(e){var o=Cc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rc(this,n)}}function Rc(t,e){return!e||"object"!==_c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cc(t){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Sc={engine:"canvas"},(jc="defaultProps")in(wc=Pc)?Object.defineProperty(wc,jc,{value:Sc,enumerable:!0,configurable:!0,writable:!0}):wc[jc]=Sc,Pc.propTypes={width:c.a.number.isRequired,height:c.a.number.isRequired,style:c.a.object,engine:c.a.oneOf(["canvas","webgl"])};var qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kc(t,e)}(i,t);var e,n,r,o=Tc(i);function i(){return Ec(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"drawTile",value:function(t){var e=this,n=t.row,r=t.column,o=this.props.tileWidth,i=this.props.tileHeight,a=i*(n-this.props.startYTile),c=o*(r-this.props.startXTile);if(!(n>=this.props.sequences.raw.length)){var u=this.props.sequences.raw[n].sequence;if(!(r>=u.length)){var s=u[r];if(void 0!==s){var l=this.props.colorScheme.getColor(s,r),f="".concat(s,"-").concat(l),p=this.props.residueTileCache.createTile({key:f,tileWidth:o,tileHeight:i,create:function(t){var o=t.canvas;return e.drawResidue({text:s,canvas:o,row:n,column:r,colorScheme:l})}});this.props.ctx.drawImage(p,0,0,o,i,c,a,o,i)}}}}},{key:"drawResidue",value:function(t){t.row,t.column;var e=t.canvas,n=t.colorScheme,r=t.text;e.globalAlpha=.7,e.fillStyle=n,e.fillRect(0,0,this.props.tileWidth,this.props.tileHeight),this.props.tileWidth<4||(this.props.border&&(e.globalAlpha=1,e.lineWidth=this.props.borderWidth,e.strokeStyle=this.props.borderStyle,e.strokeRect(0,0,this.props.tileWidth,this.props.tileHeight)),e.globalAlpha=Math.min(1,1/6*this.props.tileWidth+-1/6*4),e.fillStyle=this.props.textColor,e.font=this.props.textFont+"px mono",e.textBaseline="middle",e.textAlign="center",e.fillText(r,this.props.tileWidth/2,this.props.tileHeight/2+1,this.props.tileWidth))}},{key:"draw",value:function(t){this.props=t;for(var e=this.props.startYTile;e<this.props.endYTile;e++)for(var n=this.props.startXTile;n<this.props.endXTile;n++)this.drawTile({row:e,column:n})}}])&&xc(e.prototype,n),r&&xc(e,r),i}(Pc);var Dc=function(t,e){return t<e};var Ac=function(t,e){return t&&t.length?xi(t,Object(Ie.a)(e,2),Dc):void 0};function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.maxElements;Mc(this,t),this.maxElements=n||200,this.invalidate()}var e,n,r;return e=t,(n=[{key:"createTile",value:function(t){var e=this,n=t.key,r=t.tileWidth,o=t.tileHeight,i=t.create;if(n in this.cache)return this.cache[n].value;if(this.cachedElements>=this.maxElements){var a=Ac(Object.keys(this.cache),(function(t){return e.cache[t].insertionTime}));delete this.cache[a]}var c=document.createElement("canvas");this.cache[n]={value:c,insertionTime:Date.now()},c.width=r,c.height=o;var u=c.getContext("2d");return this.cachedElements++,i({canvas:u}),c}},{key:"updateTileSpecs",value:function(t){return!io(t,this.spec)&&(this.invalidate(),this.spec=t,!0)}},{key:"invalidate",value:function(){this.cache={},this.spec={},this.cachedElements=0}}])&&Bc(e.prototype,n),r&&Bc(e,r),t}();function Hc(t,e){return t-t%e}function Lc(t){return(Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vc(t,e){return(Vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kc(t);if(e){var o=Kc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(t,e){return!e||"object"!==Lc(e)&&"function"!=typeof e?Uc(t):e}function Uc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gc(t,e,n){return(Gc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Kc(t){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vc(t,e)}(i,t);var e,n,r,o=Yc(i);function i(t){var e,n,r,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Zc(Uc(c=o.call(this,t)),"renderTile",(function(t){var e=t.row,n=t.column,r=e+"-"+n;return c.tileCache.createTile({key:r,tileWidth:c.props.tileWidth*c.props.xGridSize,tileHeight:c.props.tileHeight*c.props.yGridSize,create:function(t){var r=t.canvas;c.tilingGridManager.draw(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ic(Object(n),!0).forEach((function(e){Zc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ctx:r,startYTile:e,startXTile:n,residueTileCache:c.residueTileCache,endYTile:e+c.props.yGridSize,endXTile:n+c.props.xGridSize},xt(c.props,["sequences","colorScheme","textFont","textColor","tileHeight","tileWidth","border","borderWidth","borderColor"])))}})})),Zc(Uc(c),"onPositionUpdate",(function(t,e){var n={xMovement:t[0]-e[0],yMovement:t[1]-e[1]};c.sendEvent("onPositionUpdate",e),c.props.positionDispatch(Lt(n))})),Zc(Uc(c),"updateScrollPosition",(function(){c.draw()})),Zc(Uc(c),"onMouseMove",(function(t){if(void 0===c.isInDragPhase&&(void 0!==c.props.onResidueMouseEnter||void 0!==c.props.onResidueMouseLeave)){var n=c.currentPointerPosition(t),r=c.currentMouseSequencePosition;Ue(r,n)||(void 0!==r&&c.sendEvent("onResidueMouseLeave",r),c.currentMouseSequencePosition=n,c.sendEvent("onResidueMouseEnter",n))}Gc((e=Uc(c),Kc(i.prototype)),"onMouseMove",e).call(e,t)})),Zc(Uc(c),"onMouseLeave",(function(t){c.sendEvent("onResidueMouseLeave",c.currentMouseSequencePosition),c.currentMouseSequencePosition=void 0,Gc((n=Uc(c),Kc(i.prototype)),"onMouseLeave",n).call(n,t)})),Zc(Uc(c),"onClick",(function(t){if(!c.mouseHasMoved){var e=c.currentPointerPosition(t);c.sendEvent("onResidueClick",e)}Gc((r=Uc(c),Kc(i.prototype)),"onClick",r).call(r,t)})),Zc(Uc(c),"onDoubleClick",(function(t){var e=c.currentPointerPosition(t);c.sendEvent("onResidueDoubleClick",e),Gc((a=Uc(c),Kc(i.prototype)),"onDoubleClick",a).call(a,t)})),c.tileCache=new Fc,c.residueTileCache=new Fc,c.tilingGridManager=new qc,c}return e=i,(n=[{key:"drawScene",value:function(){var t=this.getTilePositions();this.updateTileSpecs(),this.drawTiles(t),this.drawHighligtedRegion(),this.ctx&&this.ctx.canvas.dispatchEvent(new CustomEvent("drawCompleted",{bubbles:!0}))}},{key:"getTilePositions",value:function(){var t=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),e=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),n=Math.min(this.props.sequences.length,e+this.props.nrYTiles+2*this.props.cacheElements);return{startXTile:t,startYTile:e,endXTile:Math.min(this.props.sequences.maxLength,t+this.props.nrXTiles+2*this.props.cacheElements),endYTile:n}}},{key:"drawTiles",value:function(t){for(var e=t.startXTile,n=t.startYTile,r=t.endXTile,o=t.endYTile,i=this.props.xGridSize,a=this.props.yGridSize,c=Hc(n,a),u=Hc(e,i),s=c;s<o;s+=a)for(var l=u;l<r;l+=i){var f=this.renderTile({row:s,column:l,canvas:this.ctx}),p=i*this.props.tileWidth,h=a*this.props.tileHeight,y=(s-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,b=(l-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset;this.ctx.drawImage(f,0,0,p,h,b,y,p,h)}}},{key:"drawHighligtedRegion",value:function(){var t=this.props.highlight;if(this.ctx&&t){var e=this.props.tileWidth*(1+t.residues.to-t.residues.from),n=this.props.tileHeight*(1+t.sequences.to-t.sequences.from),r=(t.sequences.from-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,o=(t.residues.from-1-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset,i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");a.globalAlpha=.3,a.fillStyle="yellow",a.fillRect(0,0,e,n),a.globalAlpha=1,a.strokeStyle="red",a.lineWidth="2",a.rect(0,0,e,n),a.stroke(),this.ctx.drawImage(i,0,0,e,n,o,r,e,n)}}},{key:"positionToSequence",value:function(t){var e=this.props.sequences.raw,n=ft(Dt((this.props.position.yPos+t.yPos)/this.props.tileHeight),0,e.length-1),r=e[n],o=ft(Dt((this.props.position.xPos+t.xPos)/this.props.tileWidth),0,r.sequence.length-1);return{i:n,sequence:r,position:o,residue:r.sequence[o]}}},{key:"currentPointerPosition",value:function(t){var e=Wc(ba.rel(t),2),n=e[0],r=e[1];return this.positionToSequence({xPos:n,yPos:r})}},{key:"sendEvent",value:function(t,e){void 0!==this.props[t]&&this.props[t](e)}},{key:"componentWillUnmount",value:function(){this.tileCache.invalidate(),this.residueTileCache.invalidate()}},{key:"updateTileSpecs",value:function(){var t=["tileWidth","tileHeight","colorScheme","textFont","borderColor"];this.tileCache.updateTileSpecs(xt(this.props,[].concat(t,["xGridSize","yGridSize","sequences"]))),this.residueTileCache.updateTileSpecs(xt(this.props,t))}},{key:"render",value:function(){return Gc(Kc(i.prototype),"render",this).call(this)}}])&&zc(e.prototype,n),r&&zc(e,r),i}(rc);Qc.defaultProps={showModBar:!1,xGridSize:10,yGridSize:10,border:!1,borderColor:"black",borderWidth:1,cacheElements:20,textColor:"black",textFont:"18px Arial",overflow:"hidden",overflowX:"auto",overflowY:"auto",scrollBarPositionX:"bottom",scrollBarPositionY:"right"},Qc.propTypes={showModBar:c.a.bool,onResidueMouseEnter:c.a.func,onResidueMouseLeave:c.a.func,onResidueClick:c.a.func,onResidueDoubleClick:c.a.func,xGridSize:c.a.number.isRequired,yGridSize:c.a.number.isRequired,cacheElements:c.a.number.isRequired,border:c.a.bool,borderColor:c.a.string,borderWidth:c.a.number,textColor:c.a.string,textFont:c.a.string,overflow:c.a.oneOf(["hidden","auto","scroll"]),overflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),scrollBarPositionX:c.a.oneOf(["top","bottom"]),scrollBarPositionY:c.a.oneOf(["left","right"])},Qc.propKeys=Object.keys(Qc.propTypes);var $c=jo(Qc,{withX:!0,withY:!0}),Jc=Zr((function(t){var e=Math.min(t.props.width,t.sequences.maxLength*t.props.tileWidth),n=Math.min(t.props.height,t.sequences.length*t.props.tileHeight);return{sequences:t.sequences,width:e,height:n,tileWidth:t.props.tileWidth,tileHeight:t.props.tileHeight,colorScheme:t.props.colorScheme,nrXTiles:t.sequenceStats.nrXTiles,nrYTiles:t.sequenceStats.nrYTiles,fullWidth:t.sequenceStats.fullWidth,fullHeight:t.sequenceStats.fullHeight}}))($c),tu=n(603);var eu=function(t,e){var n;return Object(Ne.a)(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n};var nu=function(t,e,n){var r=Object(Ve.a)(t)?tu.a:eu;return n&&vn(t,e,n)&&(e=void 0),r(t,Object(Ie.a)(e,3))};function ru(t){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function au(t,e){return(au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=su(t);if(e){var o=su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uu(this,n)}}function uu(t,e){return!e||"object"!==ru(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function su(t){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&au(t,e)}(i,t);var e,n,r,o=cu(i);function i(){return ou(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"shouldComponentUpdate",value:function(t){var e=this;return!(io(this.props,t)&&nu(this.props.forwardedPropsKeys.map((function(n){return io(e.props[n],t[n])}))))}}])&&iu(e.prototype,n),r&&iu(e,r),i}(r.Component);lu.propTypes={forwardPropKeys:c.a.array};var fu=lu;function pu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yu(t){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bu(){return(bu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mu(t,e){return(mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wu(t);if(e){var o=wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ou(this,n)}}function Ou(t,e){return!e||"object"!==yu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mu(t,e)}(a,t);var e,n,r,i=gu(a);function a(){return du(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(ri,bu({style:t},this.props.labelsProps)),o.a.createElement("div",null,o.a.createElement(Ki,bu({height:50},this.props.overviewBarProps)),o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Jc,this.props.sequenceViewerProps),o.a.createElement("div",{style:{height:10}})))}}])&&vu(e.prototype,n),r&&vu(e,r),a}(fu);ju.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pu(Object(n),!0).forEach((function(e){hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fu.propTypes);var Su=Zr((function(t){return{tileHeight:t.props.tileHeight}}))(ju);function Pu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eu(t){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(){return(xu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ku(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ru(t,e){return(Ru=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Du(t);if(e){var o=Du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qu(this,n)}}function qu(t,e){return!e||"object"!==Eu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Du(t){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ru(t,e)}(a,t);var e,n,r,i=Cu(a);function a(){return ku(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(Ki,xu({height:50},this.props.overviewBarProps)),o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Jc,this.props.sequenceViewerProps)),o.a.createElement(ri,xu({style:t},this.props.labelsProps)))}}])&&Tu(e.prototype,n),r&&Tu(e,r),a}(fu);Au.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pu(Object(n),!0).forEach((function(e){_u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fu.propTypes);var Mu=Zr((function(t){return{tileHeight:t.props.tileHeight}}))(Au);function Bu(t){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fu(){return(Fu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Hu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wu(t,e){return(Wu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zu(t);if(e){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iu(this,n)}}function Iu(t,e){return!e||"object"!==Bu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wu(t,e)}(a,t);var e,n,r,i=Nu(a);function a(){return Hu(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(ri,this.props.labelsProps),o.a.createElement("div",null,o.a.createElement(Jc,null),o.a.createElement(pa,this.props.positionBarProps),o.a.createElement("br",null),o.a.createElement(Ki,this.props.overviewBarProps),o.a.createElement("br",null),o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Ki,null),o.a.createElement(Ki,Fu({},this.props.overviewBarProps,{method:"information-content"}))))}}])&&Lu(e.prototype,n),r&&Lu(e,r),a}(fu);function Yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uu(t){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zu(t,e){return(Zu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ju(t);if(e){var o=Ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $u(this,n)}}function $u(t,e){return!e||"object"!==Uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ju(t){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ts=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zu(t,e)}(a,t);var e,n,r,i=Qu(a);function a(){return Gu(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Jc,this.props.sequenceViewerProps))}}])&&Ku(e.prototype,n),r&&Ku(e,r),a}(fu);ts.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yu(Object(n),!0).forEach((function(e){Xu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fu.propTypes);var es=ts;function ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function is(){return(is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function as(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function us(t,e){return(us=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fs(t);if(e){var o=fs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ls(this,n)}}function ls(t,e){return!e||"object"!==os(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&us(t,e)}(a,t);var e,n,r,i=ss(a);function a(){return as(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight};return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(ri,{style:t}),o.a.createElement("div",null,o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Jc,this.props.sequenceViewerProps),o.a.createElement(pa,this.props.positionBarProps),o.a.createElement(Ki,this.props.overviewBarProps),o.a.createElement("br",null),o.a.createElement(pa,this.props.positionBarProps)),o.a.createElement(ri,is({style:t},this.props.labelsProps)))}}])&&cs(e.prototype,n),r&&cs(e,r),a}(fu);ps.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(n),!0).forEach((function(e){rs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fu.propTypes);var hs=Zr((function(t){return{tileHeight:t.props.tileHeight}}))(ps);function ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ds(t){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gs(t,e){return(gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=js(t);if(e){var o=js(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ws(this,n)}}function ws(t,e){return!e||"object"!==ds(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ss=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gs(t,e)}(a,t);var e,n,r,i=Os(a);function a(){return vs(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{style:{display:"flex"}},this.props.labelsProps&&this.props.labelsProps.labelStyle&&o.a.createElement(ri,this.props.labelsProps),o.a.createElement(Jc,this.props.sequenceViewerProps))}}])&&ms(e.prototype,n),r&&ms(e,r),a}(fu);function Ps(t){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _s(){return(_s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Es(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ks(t,e){return(ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ts(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cs(t);if(e){var o=Cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rs(this,n)}}function Rs(t,e){return!e||"object"!==Ps(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ss.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ys(Object(n),!0).forEach((function(e){bs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fu.propTypes);var qs={basic:Su,inverse:Mu,full:Vu,compact:es,funky:hs,nightingale:Ss,default:Su},Ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}(a,t);var e,n,r,i=Ts(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).el=o.a.createRef(),e.forwardedPropsKeys=Object.keys(e.constructor.propsToForward),e}return e=a,(n=[{key:"dispatchEvent",value:function(t){this.el.current.dispatchEvent(t)}},{key:"render",value:function(){var t=this.props,e=t.layout,n=Es(t,["layout"]);if(e in qs){var r=qs[e],i=Zn(n,this.constructor.propsToForward),a=i.forward,c=i.other;return o.a.createElement("div",_s({el:this.ref},c),o.a.createElement(r,_s({},a,{forwardedPropsKeys:this.forwardedPropsKeys})))}console.error("$this.props.layout} is invalid. Please use one of ".concat(Object.keys(qs)))}}])&&xs(e.prototype,n),r&&xs(e,r),a}(r.PureComponent);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ds,"propsToForward",{sequenceViewerProps:{showModBar:Kn,onResidueMouseEnter:Kn,onResidueMouseLeave:Kn,onResidueClick:Kn,onResidueDoubleClick:Kn,sequenceBorder:"border",sequenceBorderColor:"borderColor",sequenceBorderWidth:"borderWidth",sequenceTextColor:"textColor",sequenceTextFont:"textFont",sequenceOverflow:"overflow",sequenceOverflowX:"overflowX",sequenceOverflowy:"overflowY",sequenceScrollBarPositionX:"scrollBarPositionX",sequenceScrollBarPositionY:"scrollBarPositionY",sequenceDisableDragging:Kn},labelsProps:{labelComponent:Kn,labelStyle:Kn,labelAttributes:Kn},positionBarProps:{markerSteps:Kn,markerStartIndex:"startIndex",markerComponent:Kn,markerStyle:Kn,markerAttributes:Kn},overviewBarProps:{barMethod:"method",barFillColor:"fillColor",barComponent:Kn,barStyle:Kn,barAttributes:Kn}}),Ds.defaultProps={layout:"default"},Ds.propTyes={layout:c.a.oneOf(Object.keys(qs))};var As=Ds;function Ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bs(t){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fs(){return(Fs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Hs(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ls(Object(n),!0).forEach((function(e){Ns(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ns(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Is(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zs(t,e){return(zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Us(t);if(e){var o=Us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ys(this,n)}}function Ys(t,e){return!e||"object"!==Bs(e)&&"function"!=typeof e?Xs(t):e}function Xs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gs={onResidueClick:"residueClick"},Ks=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zs(t,e)}(a,t);var e,n,r,i=Vs(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).el=o.a.createRef(),e._setupStores(),e.createDomHandler=Object(Gt.a)(e.createDomHandler.bind(Xs(e))),e.forwardProps=ao((function(t){return he(t,["msaStore"])}),e.forwardProps.bind(Xs(e))),e}return e=a,(n=[{key:"_setupStores",value:function(){var t=this;this.positionStore=B(Ut),this.positionStore.dispatch(Vt.updateMainStore(this.props.msaStore.getState())),this.msaStoreUnsubscribe=this.props.msaStore.subscribe((function(){t.positionStore.dispatch(Vt.updateMainStore(t.props.msaStore.getState()))}))}},{key:"componentWillUnmount",value:function(){this.msaStoreUnsubscribe()}},{key:"getChildContext",value:function(){return{positionMSAStore:this.positionStore}}},{key:"createDomHandler",value:function(t){var e=this;return function(n){var r=new CustomEvent(t,{detail:n,bubbles:!0});e.el.current.dispatchEvent(r)}}},{key:"forwardProps",value:function(t){var e=this,n=Ws({},t);return ve(Gs,(function(t,r){r in Gs&&!(r in n)&&(n[r]=e.createDomHandler(t))})),n}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.msaStore,r=Hs(t,["children","msaStore"]);return e?o.a.createElement(h,{store:n},o.a.createElement("div",Fs({},r,{ref:this.el}),e)):o.a.createElement(h,{store:n},o.a.createElement("div",{ref:this.el},o.a.createElement(As,this.forwardProps(r))))}}])&&Is(e.prototype,n),r&&Is(e,r),a}(r.Component);Ks.childContextTypes={positionMSAStore:c.a.object},Ks.propTypes={sequences:c.a.arrayOf(Me).isRequired,width:c.a.number,height:c.a.number,tileWidth:c.a.number,tileHeight:c.a.number,position:Fe,colorScheme:Be,onResidueMouseEnter:c.a.func,onResidueMouseLeave:c.a.func,onResidueClick:c.a.func,onResidueDoubleClick:c.a.func,layout:c.a.oneOf(["basic","default","inverse","full","compact","funky","nightingale"]),sequenceBorder:c.a.bool,sequenceBorderColor:c.a.string,sequenceBorderWidth:c.a.number,sequenceTextColor:c.a.string,sequenceTextFont:c.a.string,sequenceOverflow:c.a.oneOf(["hidden","auto","scroll"]),sequenceOverflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),sequenceOverflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),sequenceScrollBarPositionX:c.a.oneOf(["top","bottom"]),sequenceScrollBarPositionY:c.a.oneOf(["left","right"]),labelComponent:c.a.oneOfType([c.a.object,c.a.func]),labelStyle:c.a.object,labelAttributes:c.a.object,markerSteps:c.a.number,markerStartIndex:c.a.number,markerComponent:c.a.oneOfType([c.a.object,c.a.func]),markerStyle:c.a.object,markerAttributes:c.a.object,barMethod:c.a.oneOf(["information-content","conservation"]),barFillColor:c.a.string,barStyle:c.a.object,barAttributes:c.a.object,msaStore:c.a.object};var Zs,Qs=Gn(Ks);Qs.defaultProps=Le,Qs.propTypes=Ws({},Ks.propTypes),Ks.propTypes=he(Ks.propTypes,[].concat(function(t){if(Array.isArray(t))return Ms(t)}(Zs=Object.keys(He))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(Zs)||function(t,e){if(t){if("string"==typeof t)return Ms(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ms(t,e):void 0}}(Zs)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["sequences","position"]));var $s=Qs;function Js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Js(Object(n),!0).forEach((function(e){el(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function el(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}tl(tl({},ut),Vt);var nl=$s,rl=n(571);function ol(t){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function il(){return(il=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(t,e){return(ul=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fl(t);if(e){var o=fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ll(this,n)}}function ll(t,e){return!e||"object"!==ol(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fl(t){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ul(t,e)}(c,t);var e,n,r,a=sl(c);function c(){return al(this,c),a.apply(this,arguments)}return e=c,r=[{key:"observedAttributes",get:function(){return i.a.observedAttributes.concat(["labelwidth","colorscheme","calculateConservation"])}}],(n=[{key:"getColorMap",value:function(){return this.el.getColorMap()}},{key:"refresh",value:function(){var t=this,e={sequences:this._data,height:this._height,width:this.width-(this._labelwidth||0),tileHeight:20,tileWidth:Math.max(1,this.getSingleBaseWidth()),colorScheme:this._colorscheme||"clustal",layout:"nightingale",sequenceOverflow:"scroll",sequenceOverflowX:"overflow",sequenceDisableDragging:!0};this.hasAttribute("calculate-conservation")&&(e.calculateConservation=!0),this._labelwidth&&(e.labelStyle={width:this._labelwidth-5,"text-align":"end","padding-right":5,overflow:"hidden"}),nt.a.render(o.a.createElement(nl,il({},e,{ref:function(e){return t.el=e}})),this),window.requestAnimationFrame((function(){t.el&&(t.el.updatePositionByResidue({aaPos:t._displaystart}),1>t.getSingleBaseWidth()&&t.dispatchEvent(new CustomEvent("change",{detail:{displaystart:t._displaystart,displayend:t._displaystart+t.xScale.range()[1]},bubbles:!0,cancelable:!0})))}))}},{key:"data",set:function(t){var e=this;this._data=t,this.refresh(),window.requestAnimationFrame((function(){e.svg=Object(rl.l)(e).select("div")}))}},{key:"margin",get:function(){return{top:10,right:0,bottom:10,left:this._labelwidth||10}}}])&&cl(e.prototype,n),r&&cl(e,r),c}(i.a),hl=n(632),yl=n(633),bl=n(113),dl=n(52),vl=n(807),ml=n.n(vl),gl=n(156);function Ol(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jl=["buried_index","clustal","clustal2","cinema","helix_propensity","hydro","lesk","mae","nucleotide","purine_pyrimidine","strand_propensity","taylor","turn_propensity","zappo","conservation"],Sl=null;e.default=function(){var t=Ol(Object(r.useState)("clustal"),2),e=t[0],n=t[1],i=Object(r.useRef)(null),a=Ol(Object(r.useState)(""),2),c=a[0],u=a[1],s=function(t){return u("".concat(c,"\n").concat(t))},l="MAMYDDEFDTKASDLTFSPWVEVENWKDVTTRLRAIKFALQADRDKIPGVLSDLKTNCPYSAFKRFPDKSLYSVLSKEAVIAVAQIQSASGFKRRADEKNAVSGLVSVTPTQISQSASSSAATPVGLATVKPPRESDSAFQEDTFSYAKFDDASTAFHKALAYLEGLSLRPTYRRKFEKDMNVKWGGSGSAPSGAPAGGSSGSAPPTSGSSGSGAAPTPPPNP";Object(r.useEffect)((function(){for(var t=[],e=0;e<400;e++){var n=Math.round(Math.random()*(l.length-1));t.push({name:"seq_".concat(e),sequence:"".concat(l.substring(0,n)).concat("ACDEFGHIKLMNPQRSTVWY-"[Math.floor(Math.random()*"ACDEFGHIKLMNPQRSTVWY-".length)]).concat(l.substring(n+1))})}i.current.data=t,i.current.addEventListener("conservationProgress",(function(t){return s("[conservationProgress]: ".concat(100*t.detail.progress,"%"))})),i.current.addEventListener("drawCompleted",(function(){var t=i.current.getColorMap(),e=t.name,n=t.map;e!==Sl&&(s("[colors-".concat(e,"]:\n").concat(Object.entries(n).map((function(t){var e=Ol(t,2),n=e[0],r=e[1];return"\t".concat(n,": ").concat(r)})).join("\n"))),Sl=e)}))}),[]),Object(bl.a)("protvista-msa",pl),Object(bl.a)("protvista-navigation",hl.a),Object(bl.a)("protvista-manager",yl.a);var f=function(t){n(t.target.value),s("[setColorScheme]: ".concat(t.target.value))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"protvista-msa"),o.a.createElement("select",{value:e,onChange:f,onBlur:f},jl.map((function(t){return o.a.createElement("option",{key:t},t)}))),o.a.createElement("protvista-manager",{attributes:"length displaystart displayend highlight",displaystart:"1",displayend:"50",id:"example"},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{width:100,flexShrink:0}}),o.a.createElement("protvista-navigation",{length:l.length,displaystart:"1",displayend:"50"})),o.a.createElement("protvista-msa",{id:"msa-track",ref:i,length:l.length,height:"200",displaystart:"1",displayend:"50","use-ctrl-to-zoom":!0,labelWidth:100,colorscheme:e,"calculate-conservation":!0})),o.a.createElement(gl.default,null,c),o.a.createElement(dl.default,{content:ml.a}))}},568:function(t,e,n){"use strict";var r=n(569);e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},569:function(t,e,n){"use strict";var r=n(589),o=n(572);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"symbol"==i(t)||Object(o.a)(t)&&"[object Symbol]"==Object(r.a)(t)}},573:function(t,e,n){"use strict";var r=n(567),o=n(569);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.a=function(t,e){if(Object(r.a)(t))return!1;var n=i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(o.a)(t))||(c.test(t)||!a.test(t)||null!=e&&t in Object(e))}},576:function(t,e,n){"use strict";var r=n(567),o=n(573),i=n(608);var a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,u=function(t){var e=Object(i.a)(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(a,(function(t,n,r,o){e.push(r?o.replace(c,"$1"):n||t)})),e})),s=n(605);e.a=function(t,e){return Object(r.a)(t)?t:Object(o.a)(t,e)?[t]:u(Object(s.a)(t))}},577:function(t,e,n){"use strict";var r=n(576),o=n(568);e.a=function(t,e){for(var n=0,i=(e=Object(r.a)(e,t)).length;null!=t&&n<i;)t=t[Object(o.a)(e[n++])];return n&&n==i?t:void 0}},580:function(t,e,n){"use strict";var r=n(592),o=n(581),i=n(603),a=n(579);var c=function(t,e,n,r,c,u){var s=1&n,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=u.get(t);if(p&&u.get(e))return p==e;var h=-1,y=!0,b=2&n?new o.a:void 0;for(u.set(t,e),u.set(e,t);++h<l;){var d=t[h],v=e[h];if(r)var m=s?r(v,d,h,e,t,u):r(d,v,h,t,e,u);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!Object(i.a)(e,(function(t,e){if(!Object(a.a)(b,e)&&(d===t||c(d,t,n,r,u)))return b.push(e)}))){y=!1;break}}else if(d!==v&&!c(d,v,n,r,u)){y=!1;break}}return u.delete(t),u.delete(e),y},u=n(585),s=n(623),l=n(614);var f=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},p=n(578),h=u.a?u.a.prototype:void 0,y=h?h.valueOf:void 0;var b=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new s.a(t),new s.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=f;case"[object Set]":var h=1&r;if(u||(u=p.a),t.size!=e.size&&!h)return!1;var b=a.get(t);if(b)return b==e;r|=2,a.set(t,e);var d=c(u(t),u(e),r,o,i,a);return a.delete(t),d;case"[object Symbol]":if(y)return y.call(t)==y.call(e)}return!1},d=n(624),v=Object.prototype.hasOwnProperty;var m=function(t,e,n,r,o,i){var a=1&n,c=Object(d.a)(t),u=c.length;if(u!=Object(d.a)(e).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in e:v.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<u;){var y=t[l=c[s]],b=e[l];if(r)var m=a?r(b,y,l,e,t,i):r(y,b,l,t,e,i);if(!(void 0===m?y===b||o(y,b,n,r,i):m)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=t.constructor,O=e.constructor;g==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof O&&O instanceof O||(p=!1)}return i.delete(t),i.delete(e),p},g=n(612),O=n(567),w=n(618),j=n(627),S="[object Object]",P=Object.prototype.hasOwnProperty;var _=function(t,e,n,o,i,a){var u=Object(O.a)(t),s=Object(O.a)(e),l=u?"[object Array]":Object(g.a)(t),f=s?"[object Array]":Object(g.a)(e),p=(l="[object Arguments]"==l?S:l)==S,h=(f="[object Arguments]"==f?S:f)==S,y=l==f;if(y&&Object(w.a)(t)){if(!Object(w.a)(e))return!1;u=!0,p=!1}if(y&&!p)return a||(a=new r.a),u||Object(j.a)(t)?c(t,e,n,o,i,a):b(t,e,l,n,o,i,a);if(!(1&n)){var d=p&&P.call(t,"__wrapped__"),v=h&&P.call(e,"__wrapped__");if(d||v){var _=d?t.value():t,E=v?e.value():e;return a||(a=new r.a),i(_,E,n,o,a)}}return!!y&&(a||(a=new r.a),m(t,e,n,o,i,a))},E=n(572);e.a=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Object(E.a)(e)&&!Object(E.a)(n)?e!=e&&n!=n:_(e,n,r,o,t,i))}},583:function(t,e,n){"use strict";var r=n(577);e.a=function(t,e,n){var o=null==t?void 0:Object(r.a)(t,e);return void 0===o?n:o}},584:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return v}));var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.min,r=void 0===n?-1/0:n,o=e.max,a=void 0===o?1/0:o;i(this,t),this.segments=[],this.max=a,this.min=r,this.regionString=null}var e,n,o;return e=t,(n=[{key:"encode",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(n){var r=n.start,o=n.end;if(e)return"".concat(r,":").concat(o);var i=r===t.min?"":r,a=o===t.max?"":o;return"".concat(i,":").concat(a)})).join(",")}},{key:"decode",value:function(t){var e=this;void 0!==t&&(this.regionString=t),this.regionString?this.segments=this.regionString.split(",").map((function(t){var n=r(t.split(":"),3),o=n[0],i=n[1];if(void 0!==n[2])throw new Error("there should be at most 1 ':' per region. Region: ".concat(t));var a=o?Number(o):e.min,c=i?Number(i):e.max;if(a>c){var u=[c,a];a=u[0],c=u[1]}if(a<e.min&&(a=e.min),c>e.max&&(c=e.max),Number.isNaN(a))throw new Error("The parsed value of ".concat(o," is NaN. Region: ").concat(t));if(Number.isNaN(c))throw new Error("The parsed value of ".concat(i," is NaN. Region: ").concat(t));return{start:a,end:c}})):this.segments=[]}}])&&a(e.prototype,n),o&&a(e,o),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(t,e){return t?e?"".concat(t,",").concat(e):t:e},l=function(){function t(e){var n=e.element,r=e.min,o=e.max;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.region=new c({min:r,max:o}),this.fixedHighlight=null}var e,n,r;return e=t,(n=[{key:"setAttributesInElement",value:function(){this.region.decode(this.element.getAttribute("highlight")),0===this.region.segments.length&&(this.element._highlightstart=Number(this.element.getAttribute("highlightstart")),this.element._highlightend=Number(this.element.getAttribute("highlightend")),null!==this.element._highlightstart&&null!==this.element._highlightend&&"number"==typeof this.element._highlightstart&&"number"==typeof this.element._highlightend&&(this.element._highlight="".concat(this.element._highlightstart,":").concat(this.element._highlightend),this.region.decode(s(this.fixedHighlight,this.element._highlight))))}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this.element["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"changedCallBack",value:function(t,e){switch(t){case"highlightstart":case"highlightend":this.setFloatAttribute(t,e),this.element._highlight=Number.isNaN(this.element._highlightstart)||Number.isNaN(this.element._highlightend)||void 0===this.element._highlightstart||void 0===this.element._highlightend||null===this.element._highlightstart||null===this.element._highlightend?"":"".concat(Math.max(this.region.min,this.element._highlightstart),":").concat(Math.min(this.region.max,this.element._highlightend));break;default:this.element._highlight=e}this.region.decode(s(this.fixedHighlight,this.element._highlight)),this.element.refresh()}},{key:"setFixedHighlight",value:function(t){this.fixedHighlight=t,this.region.decode(s(t,this.element._highlight)),this.element.refresh()}},{key:"appendHighlightTo",value:function(t){this.highlighted=t.append("g").attr("class","highlighted")}},{key:"updateHighlight",value:function(){var t=this,e=this.highlighted.selectAll("rect").data(this.region.segments);e.enter().append("rect").style("opacity",.5).attr("fill","rgba(255, 235, 59, 0.8)").style("pointer-events","none").merge(e).attr("height",this.element._height).attr("x",(function(e){return t.element.getXFromSeqPosition(e.start)})).attr("width",(function(e){return t.element.getSingleBaseWidth()*(e.end-e.start+1)})),e.exit().remove()}},{key:"max",set:function(t){this.region.max=t}}])&&u(e.prototype,n),r&&u(e,r),t}();function f(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}var p=function(t){return t};function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=l,b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var r=t.split(",").map((function(t){return t.split(":")}));if(r.length<2)throw new Error("There should be at least 2 points to create a scale");e=r.map((function(t){var e=t[0].trim().toUpperCase();if(!f(e))throw new Error("The color '".concat(e," is not valid'"));return e})),n=r.map((function(t,e){var n=parseFloat(t[1]);if(Number.isNaN(n))throw new Error("The second part of every point should be a number. Error in point ".concat(e,": ").concat(t));return n}))}return{range:e,domain:n}},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.keyFormatter,r=void 0===n?p:n,o=e.valueFormatter,i=void 0===o?p:o;if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var a=t.split(",").map((function(t){return t.split(":")})),c={};return a.forEach((function(t){if(2!==t.length)throw new Error("Bad block: ".concat(t.join(":"),"\n The blocks of the string should follow the format KEY:VALUE"));c[r(t[0])]=i(t[1])})),c}return{}},v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.timeStampWheelOutside=0,this.resetScrollableTimeout=null}var e,n,r;return e=t,(n=[{key:"setElementScrollable",value:function(t){this.element.setAttribute("scrollable",t)}},{key:"startResetScrollableTimer",value:function(){var t=this;this.resetScrollableTimeout&&clearTimeout(this.resetScrollableTimeout),this.resetScrollableTimeout=setTimeout((function(){t.setElementScrollable(!0),t.resetScrollableTimeout=null}),400)}},{key:"blockScroll",value:function(t){this.timeStampWheelOutside=t,this.setElementScrollable(!1),this.startResetScrollableTimer()}},{key:"isWheelEventInsideElement",value:function(t,e){var n=this.element.getBoundingClientRect(),r=n.height,o=n.width,i=n.x,a=n.y;return t>i&&e<i+o&&e>a&&e<a+r}},{key:"wheel",value:function(t){var e=t.x,n=t.y,r=t.timeStamp;this.isWheelEventInsideElement(e,n)?r<this.timeStampWheelOutside+400?this.blockScroll(r):this.setElementScrollable(!0):this.blockScroll(r)}}])&&h(e.prototype,n),r&&h(e,r),t}()},588:function(t,e,n){"use strict";var r=n(592),o=n(580);var i=function(t,e,n,i){var a=n.length,c=a,u=!i;if(null==t)return!c;for(t=Object(t);a--;){var s=n[a];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<c;){var l=(s=n[a])[0],f=t[l],p=s[1];if(u&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new r.a;if(i)var y=i(f,p,l,t,e,h);if(!(void 0===y?Object(o.a)(p,f,3,i,h):y))return!1}}return!0},a=n(574);var c=function(t){return t==t&&!Object(a.a)(t)},u=n(575);var s=function(t){for(var e=Object(u.a)(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,c(o)]}return e};var l=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var f=function(t){var e=s(t);return 1==e.length&&e[0][2]?l(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}},p=n(583),h=n(604),y=n(573),b=n(568);var d=function(t,e){return Object(y.a)(t)&&c(e)?l(Object(b.a)(t),e):function(n){var r=Object(p.a)(n,t);return void 0===r&&r===e?Object(h.a)(n,t):Object(o.a)(e,r,3)}},v=n(616),m=n(567);var g=function(t){return function(e){return null==e?void 0:e[t]}},O=n(577);var w=function(t){return function(e){return Object(O.a)(e,t)}};var j=function(t){return Object(y.a)(t)?g(Object(b.a)(t)):w(t)};function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"function"==typeof t?t:null==t?v.a:"object"==S(t)?Object(m.a)(t)?d(t[0],t[1]):f(t):j(t)}},590:function(t,e,n){"use strict";var r=n(571),o=n(584),i=n(625);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)})(t)}function h(t,e,n){return(h=y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(v,t);var e,n,a,u,p,h=(e=v,n=y(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return l(this,t)});function v(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),t=h.call(this),v._polyfillElementClosest(),t._updateScaleDomain=t._updateScaleDomain.bind(f(t)),t._initZoom=t._initZoom.bind(f(t)),t.zoomed=t.zoomed.bind(f(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(f(t)),t._resetEventHandler=t._resetEventHandler.bind(f(t));var e=!1;return t.applyZoomTranslation=function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t._applyZoomTranslation()})))},t._onResize=t._onResize.bind(f(t)),t._listenForResize=t._listenForResize.bind(f(t)),t.trackHighlighter=new o.d({element:f(t),min:1}),t.scrollFilter=new o.b(f(t)),t.wheelListener=function(e){return t.scrollFilter.wheel(e)},t}return a=v,p=[{key:"_getClickCoords",value:function(){return r.e?[r.e.pageX,r.e.pageY]:null}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=t;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})}},{key:"observedAttributes",get:function(){return["displaystart","displayend","length","highlight"]}}],(u=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.length,this._height=this.getAttribute("height")?Number(this.getAttribute("height")):44,this._highlightEvent=this.getAttribute("highlight-event")?this.getAttribute("highlight-event"):"onclick",this.trackHighlighter.setAttributesInElement(this),this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",(function(t){console.error(t)})),this.addEventListener("click",this._resetEventHandler),this.hasAttribute("filter-scroll")&&document.addEventListener("wheel",this.wheelListener,{capture:!0})}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize),this.removeEventListener("click",this._resetEventHandler),document.removeEventListener("wheel",this.wheelListener)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(r.i)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){var t=this;this._zoom=Object(r.m)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).filter((function(){if(!(r.e instanceof WheelEvent))return!0;if(t.hasAttribute("scroll-filter")){var e=t.getAttribute("scrollable");if(e)return"true"===e}return!t.hasAttribute("use-ctrl-to-zoom")||r.e.ctrlKey})).on("zoom",this.zoomed)}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"attributeChangedCallback",value:function(t,e,n){if("null"===n&&(n=null),e!==n){if(t.startsWith("highlight"))return void this.trackHighlighter.changedCallBack(t,n);this.setFloatAttribute(t,n),"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=r.e.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=c(this.xScale.domain(),2),e=t[0],n=t[1];this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,Math.max(n-1,e+1))},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,r.n.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new i.a(this._onResize),this._ro.observe(this)}},{key:"_resetEventHandler",value:function(t){t.target.closest(".feature")||this.dispatchEvent(this.createEvent("reset",null,!0))}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"createEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;e&&(e=e.feature?e.feature:e);var u={eventtype:t,coords:v._getClickCoords(),feature:e,target:c};return n&&(e&&e.fragments?u.highlight=e.fragments.map((function(t){return"".concat(t.start,":").concat(t.end)})).join(","):r.e&&r.e.shiftKey&&this._highlight?u.highlight="".concat(this._highlight,",").concat(i,":").concat(a):u.highlight=i&&a?"".concat(i,":").concat(a):null),o&&(u.selectedid=e&&e.protvistaFeatureId),new CustomEvent("change",{detail:u,bubbles:!0,cancelable:!0})}},{key:"bindEvents",value:function(t,e){t.on("mouseover",(function(t,n,r){e.dispatchEvent(e.createEvent("mouseover",t,"onmouseover"===e._highlightEvent,!1,t.start,t.end,r[n]))})).on("mouseout",(function(){e.dispatchEvent(e.createEvent("mouseout",null,"onmouseover"===e._highlightEvent))})).on("click",(function(t,n,r){e.dispatchEvent(e.createEvent("click",t,"onclick"===e._highlightEvent,!0,t.start,t.end,r[n]))}))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}},{key:"length",set:function(t){this._length=t,this.trackHighlighter.max=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}},{key:"fixedHighlight",set:function(t){this.trackHighlighter.setFixedHighlight(t)}}])&&s(a.prototype,u),p&&s(a,p),v}(p(HTMLElement));e.a=v},594:function(t,e,n){"use strict";var r=n(602),o=n(586);var i=function(t,e){return function(n,r){if(null==n)return n;if(!Object(o.a)(n))return t(n,r);for(var i=n.length,a=e?i:-1,c=Object(n);(e?a--:++a<i)&&!1!==r(c[a],a,c););return n}}(r.a);e.a=i},601:function(t,e,n){"use strict";var r=n(574),o=n(569),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.a=function(t){if("number"==typeof t)return t;if(Object(o.a)(t))return NaN;if(Object(r.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(r.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=c.test(t);return n||u.test(t)?s(t.slice(2),n?2:8):a.test(t)?NaN:+t}},602:function(t,e,n){"use strict";var r=n(606),o=n(575);e.a=function(t,e){return t&&Object(r.a)(t,e,o.a)}},603:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},604:function(t,e,n){"use strict";var r=function(t,e){return null!=t&&e in Object(t)},o=n(576),i=n(621),a=n(567),c=n(619),u=n(622),s=n(568);var l=function(t,e,n){for(var r=-1,l=(e=Object(o.a)(e,t)).length,f=!1;++r<l;){var p=Object(s.a)(e[r]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++r!=l?f:!!(l=null==t?0:t.length)&&Object(u.a)(l)&&Object(c.a)(p,l)&&(Object(a.a)(t)||Object(i.a)(t))};e.a=function(t,e){return null!=t&&l(t,e,r)}},605:function(t,e,n){"use strict";var r=n(585),o=n(570),i=n(567),a=n(569),c=r.a?r.a.prototype:void 0,u=c?c.toString:void 0;var s=function t(e){if("string"==typeof e)return e;if(Object(i.a)(e))return Object(o.a)(e,t)+"";if(Object(a.a)(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};e.a=function(t){return null==t?"":s(t)}},606:function(t,e,n){"use strict";var r=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),c=a.length;c--;){var u=a[t?c:++o];if(!1===n(i[u],u,i))break}return e}}();e.a=r},607:function(t,e,n){"use strict";var r=n(601);var o=function(t){return t?(t=Object(r.a)(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};e.a=function(t){var e=o(t),n=e%1;return e==e?n?e-n:e:0}},608:function(t,e,n){"use strict";var r=n(626);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r.a),n}o.Cache=r.a,e.a=o},620:function(t,e,n){"use strict";var r=n(646),o=n(613);e.a=function(t,e,n,i){var a=!n;n||(n={});for(var c=-1,u=e.length;++c<u;){var s=e[c],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?Object(o.a)(n,s,l):Object(r.a)(n,s,l)}return n}},632:function(t,e,n){"use strict";var r=n(571);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function u(t,e,n){return(u=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,t);var e,n,o,c,u,p=(e=h,n=s(),function(){var t,r=f(e);if(n){var o=f(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return a(this,t)});function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this))._x=null,t._padding=0,t.dontDispatch=!1,t}return o=h,u=[{key:"observedAttributes",get:function(){return["length","displaystart","displayend","highlightStart","highlightEnd","width"]}}],(c=[{key:"_refreshWidth",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.width>0&&(this._padding=10)}},{key:"connectedCallback",value:function(){this._refreshWidth(),this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=parseFloat(this.getAttribute("length")),this._displaystart=parseFloat(this.getAttribute("displaystart"))||1,this._displayend=parseFloat(this.getAttribute("displayend"))||this._length,this._highlightStart=parseFloat(this.getAttribute("highlightStart")),this._highlightEnd=parseFloat(this.getAttribute("highlightEnd")),this._onResize=this._onResize.bind(this),this._createNavRuler()}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro&&this._ro.unobserve(this),window.removeEventListener("resize",this._onResize)}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&(this["_".concat(t)]=parseFloat(n),this._updateNavRuler())}},{key:"_createNavRuler",value:function(){var t=this;this._x=Object(r.i)().range([this._padding,this.width-this._padding]),this._x.domain([1,this._length]),this._svg=Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",40),this._xAxis=Object(r.a)(this._x),this._displaystartLabel=this._svg.append("text").attr("class","start-label").attr("x",0).attr("y",40-this._padding),this._displayendLabel=this._svg.append("text").attr("class","end-label").attr("x",this.width).attr("y",40-this._padding).attr("text-anchor","end"),this._axis=this._svg.append("g").attr("class","x axis").call(this._xAxis),this._viewport=Object(r.d)().extent([[this._padding,0],[this.width-this._padding,20.4]]).on("brush",(function(){r.e.selection&&(t._displaystart=Object(r.f)("d")(t._x.invert(r.e.selection[0])),t._displayend=Object(r.f)("d")(t._x.invert(r.e.selection[1])),t.dontDispatch||t.dispatchEvent(new CustomEvent("change",{detail:{displayend:t._displayend,displaystart:t._displaystart,extra:{transform:r.e.transform}},bubbles:!0,cancelable:!0})),t._updateLabels(),t._updatePolygon())})),this._brushG=this._svg.append("g").attr("class","brush").call(this._viewport),this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.polygon=this._svg.append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),this._updateNavRuler(),"ResizeObserver"in window&&(this._ro=new ResizeObserver(this._onResize),this._ro.observe(this)),window.addEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){this._refreshWidth(),this._x=this._x.range([this._padding,this.width-this._padding]),this._svg.attr("width",this.width),this._viewport.extent([[this._padding,0],[this.width-this._padding,20.4]]),this._brushG.call(this._viewport),this._updateNavRuler()}},{key:"_updateNavRuler",value:function(){this._x&&(this._x.domain([1,this._length]),this._axis.call(this._xAxis),this._updatePolygon(),this._updateLabels(),this._brushG&&(this.dontDispatch=!0,this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.dontDispatch=!1))}},{key:"_updateLabels",value:function(){this._displaystartLabel&&this._displaystartLabel.text(this._displaystart),this._displayendLabel&&this._displayendLabel.attr("x",this.width).text(this._displayend)}},{key:"_updatePolygon",value:function(){this.polygon&&this.polygon.attr("points","".concat(this._x(this._displaystart),",").concat(20,"\n        ").concat(this._x(this._displayend),",").concat(20,"\n        ").concat(this.width,",").concat(40,"\n        0,").concat(40))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}}])&&i(o.prototype,c),u&&i(o,u),h}(c(HTMLElement));e.a=p},633:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,a,c,f=(e=p,n=u(),function(){var t,r=l(e);if(n){var o=l(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return i(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this)).protvistaElements=new Set,t.attributeValues=new Map,t.propertyValues=new Map,t.mouseOver=!1,t}return r=p,c=[{key:"observedAttributes",get:function(){return["attributes"]}}],(a=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n&&"attributes"===t){if(this._attributes=n.split(" "),-1!==this._attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==this._attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute")}}},{key:"register",value:function(t){this.protvistaElements.add(t)}},{key:"unregister",value:function(t){this.protvistaElements.delete(t)}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=t;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})}},{key:"applyAttributes",value:function(){var t=this;this.protvistaElements.forEach((function(e){t.attributeValues.forEach((function(t,n){!1===t?e.removeAttribute(n):e.setAttribute(n,"boolean"==typeof t?"":t)}))}))}},{key:"applyProperties",value:function(t){var e=this;if(t){var n=this.querySelector("#".concat(t));this.propertyValues.forEach((function(t,e){n[e]=t}))}else this.protvistaElements.forEach((function(t){e.propertyValues.forEach((function(e,n){t[n]=e}))}))}},{key:"_changeListener",value:function(t){var e=this;switch(t.detail.handler){case"property":this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for);break;default:-1!==this._attributes.indexOf(t.detail.type)&&this.attributeValues.set(t.detail.type,t.detail.value),Object.keys(t.detail).forEach((function(n){-1!==e._attributes.indexOf(n)&&e.attributeValues.set(n,t.detail[n])})),this.applyAttributes()}}},{key:"connectedCallback",value:function(){this.addEventListener("change",this._changeListener)}}])&&o(r.prototype,a),c&&o(r,c),p}(a(HTMLElement));e.a=f},636:function(t,e,n){"use strict";var r=n(716),o=n(574),i=n(650);var a=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},c=Object.prototype.hasOwnProperty;var u=function(t){if(!Object(o.a)(t))return a(t);var e=Object(i.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&c.call(t,r))&&n.push(r);return n},s=n(586);e.a=function(t){return Object(s.a)(t)?Object(r.a)(t,!0):u(t)}},638:function(t,e,n){"use strict";var r=n(623);e.a=function(t){var e=new t.constructor(t.byteLength);return new r.a(e).set(new r.a(t)),e}},643:function(t,e,n){"use strict";e.a=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},644:function(t,e,n){"use strict";var r=n(574),o=Object.create,i=function(){function t(){}return function(e){if(!Object(r.a)(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();e.a=i},645:function(t,e,n){"use strict";var r=n(688),o=Object(r.a)(Object.getPrototypeOf,Object);e.a=o},646:function(t,e,n){"use strict";var r=n(613),o=n(614),i=Object.prototype.hasOwnProperty;e.a=function(t,e,n){var a=t[e];i.call(t,e)&&Object(o.a)(a,n)&&(void 0!==n||e in t)||Object(r.a)(t,e,n)}},651:function(t,e,n){"use strict";var r=n(664),o=n(645),i=n(652),a=n(689),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(r.a)(e,Object(i.a)(t)),t=Object(o.a)(t);return e}:a.a;e.a=c},654:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},662:function(t,e,n){"use strict";(function(t){var r=n(609);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,c=a&&a.exports===i?r.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(649)(t))},663:function(t,e,n){"use strict";var r=n(644),o=n(645),i=n(650);e.a=function(t){return"function"!=typeof t.constructor||Object(i.a)(t)?{}:Object(r.a)(Object(o.a)(t))}},665:function(t,e,n){"use strict";var r=n(638);e.a=function(t,e){var n=e?Object(r.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},666:function(t,e,n){"use strict";var r=n(690),o=n(651),i=n(636);e.a=function(t){return Object(r.a)(t,i.a,o.a)}},676:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!l){var t=c(p);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function b(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new y(t,e)),1!==s.length||l||c(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},705:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(59));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){var e=t.children,n=t.width,i=t.height,a=t.style,c=void 0===a?{}:a,u=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["children","width","height","style"]);return o.default.createElement("svg",r({children:e,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:i,width:n,style:c},u))};c.propTypes={children:i.default.node.isRequired,width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object},e.default=c},706:function(t,e,n){t.exports=function(){return new Worker(n.p+"72c86d2c0dcc17280b4d.worker.js")}},711:function(t,e,n){"use strict";var r=n(592),o=n(654),i=n(646),a=n(620),c=n(575);var u=function(t,e){return t&&Object(a.a)(e,Object(c.a)(e),t)},s=n(636);var l=function(t,e){return t&&Object(a.a)(e,Object(s.a)(e),t)},f=n(662),p=n(643),h=n(652);var y=function(t,e){return Object(a.a)(t,Object(h.a)(t),e)},b=n(651);var d=function(t,e){return Object(a.a)(t,Object(b.a)(t),e)},v=n(624),m=n(666),g=n(612),O=Object.prototype.hasOwnProperty;var w=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&O.call(t,"index")&&(n.index=t.index,n.input=t.input),n},j=n(638);var S=function(t,e){var n=e?Object(j.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},P=/\w*$/;var _=function(t){var e=new t.constructor(t.source,P.exec(t));return e.lastIndex=t.lastIndex,e},E=n(585),x=E.a?E.a.prototype:void 0,k=x?x.valueOf:void 0;var T=function(t){return k?Object(k.call(t)):{}},R=n(665);var C=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Object(j.a)(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return S(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(R.a)(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return _(t);case"[object Set]":return new r;case"[object Symbol]":return T(t)}},q=n(663),D=n(567),A=n(618),M=n(572);var B=function(t){return Object(M.a)(t)&&"[object Map]"==Object(g.a)(t)},F=n(615),H=n(653),L=H.a&&H.a.isMap,W=L?Object(F.a)(L):B,N=n(574);var I=function(t){return Object(M.a)(t)&&"[object Set]"==Object(g.a)(t)},z=H.a&&H.a.isSet,V=z?Object(F.a)(z):I,Y={};Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object DataView]"]=Y["[object Boolean]"]=Y["[object Date]"]=Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object Symbol]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Error]"]=Y["[object Function]"]=Y["[object WeakMap]"]=!1;e.a=function t(e,n,a,s,h,b){var O,j=1&n,S=2&n,P=4&n;if(a&&(O=h?a(e,s,h,b):a(e)),void 0!==O)return O;if(!Object(N.a)(e))return e;var _=Object(D.a)(e);if(_){if(O=w(e),!j)return Object(p.a)(e,O)}else{var E=Object(g.a)(e),x="[object Function]"==E||"[object GeneratorFunction]"==E;if(Object(A.a)(e))return Object(f.a)(e,j);if("[object Object]"==E||"[object Arguments]"==E||x&&!h){if(O=S||x?{}:Object(q.a)(e),!j)return S?d(e,l(O,e)):y(e,u(O,e))}else{if(!Y[E])return h?e:{};O=C(e,E,j)}}b||(b=new r.a);var k=b.get(e);if(k)return k;b.set(e,O),V(e)?e.forEach((function(r){O.add(t(r,n,a,r,e,b))})):W(e)&&e.forEach((function(r,o){O.set(o,t(r,n,a,o,e,b))}));var T=P?S?m.a:v.a:S?keysIn:c.a,R=_?void 0:T(e);return Object(o.a)(R||e,(function(r,o){R&&(r=e[o=r]),Object(i.a)(O,o,t(r,n,a,o,e,b))})),O}},798:function(t,e,n){"use strict";(function(t,r){var o,i=n(799);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(this,n(114),n(649)(t))},799:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},800:function(t,e,n){"use strict";(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(116);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function a(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var c=n(801),u=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function f(t){return Object.prototype.toString.call(t)}function p(t){return!a(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=g,y=/\s*function\s+([^\(\s]*)\s*/;function b(t){if(c.isFunction(t)){if(l)return t.name;var e=t.toString().match(y);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(l||!c.isFunction(t))return c.inspect(t);var e=b(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,n,r,o){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function g(t,e){t||m(t,!0,e,"==",h.ok)}function O(t,e,n,o){if(t===e)return!0;if(a(t)&&a(e))return 0===i(t,e);if(c.isDate(t)&&c.isDate(e))return t.getTime()===e.getTime();if(c.isRegExp(t)&&c.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===r(t)||null!==e&&"object"===r(e)){if(p(t)&&p(e)&&f(t)===f(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(c.isPrimitive(t)||c.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=w(t),i=w(e);if(o&&!i||!o&&i)return!1;if(o)return t=s.call(t),e=s.call(e),O(t,e,n);var a,u,l=P(t),f=P(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),u=l.length-1;u>=0;u--)if(l[u]!==f[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!O(t[a],e[a],n,r))return!1;return!0}(t,e,n,o))}return n?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function j(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&m(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!t&&o&&!n;if((!t&&c.isError(o)&&i&&j(o,n)||a)&&m(o,n,"Got unwanted exception"+r),t&&o&&n&&!j(o,n)||!t&&o)throw o}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(v(t.actual),128)+" "+t.operator+" "+d(v(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=b(e),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},c.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,n){t!=e&&m(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&m(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){O(t,e,!1)||m(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){O(t,e,!0)||m(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){O(t,e,!1)&&m(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){O(e,n,!0)&&m(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&m(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&m(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){S(!0,t,e,n)},h.doesNotThrow=function(t,e,n){S(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=o((function t(e,n){e||m(e,!0,n,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var P=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}}).call(this,n(114))},801:function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])d(c)||!w(c)?a+=" "+c:a+=" "+u(c);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var a,c={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),f(r,t,r.depth)}function s(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=f(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(b(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),c=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(P(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(O(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return p(n)}var s,l="",w=!1,_=["{","}"];(y(n)&&(w=!0,_=["[","]"]),P(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return O(n)&&(l=" "+RegExp.prototype.toString.call(n)),j(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+p(n)),0!==a.length||w&&0!=n.length?r<0?O(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=w?function(t,e,n,r,o){for(var i=[],a=0,c=e.length;a<c;++a)T(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))})),i}(t,n,r,c,a):a.map((function(e){return h(t,n,r,c,e,w)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(s,l,_)):_[0]+l+_[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var a,c,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),c||(t.seen.indexOf(u.value)<0?(c=d(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function y(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function O(t){return w(t)&&"[object RegExp]"===_(t)}function w(t){return"object"===r(t)&&null!==t}function j(t){return w(t)&&"[object Date]"===_(t)}function S(t){return w(t)&&("[object Error]"===_(t)||t instanceof Error)}function P(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(a)&&(a=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!c[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=t.pid;c[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else c[n]=function(){};return c[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=y,e.isBoolean=b,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"===r(t)},e.isUndefined=g,e.isRegExp=O,e.isObject=w,e.isDate=j,e.isError=S,e.isFunction=P,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===r(t)||void 0===t},e.isBuffer=n(802);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(803),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=R,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(C,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,o(e)),n}}).call(this,n(676))},802:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&"object"===n(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},803:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},804:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(705));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M4 0H0v4h1V1h3V0zm11 0h-3v1h3v3h1V0h-1zM1 15v-3H0v4h4v-1H1zm14-3v3h-3v1h4v-4h-1zm-2-3l-.008-.003L11.5 10.5 9 8l2.5-2.5L12.971 7H13V3H9v.03l1.5 1.47L8 7 5.5 4.5 7 3.03V3H3v4l1.5-1.5L7 8l-2.5 2.5L3 9v4h4l-1.5-1.5L8 9l2.5 2.5L9 13h4V9z"}))}},805:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(705));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.013 1.012V15h13.999V1.012H.013zm10.999 7.995H8.013v2.999h-2V9.007h-3V7.008h3V4.01h2v2.998h2.999v1.999z"}))}},806:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(705));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.004 1v14h14V1h-14zM11 9H3V7h8v2z"}))}},807:function(t,e){t.exports='<h1 id="protvista-msa">protvista-msa</h1>\n<p>A custom element that visualises multiple sequences alignments. It is basically a wrapper of <a href="https://github.com/ebi-webcomponents/react-msa-viewer">react-msa-viewer</a> that plays along with other nightingale components.</p>\n<p>It currently uses the <code>clustal</code> color scheme, and only displays the alignment, none of the other components includede in <code>react-msa-viewer</code>. it uses the scroll only to move vertically.</p>\n<h2 id="usage">Usage</h2>\n<pre><code class="language-html">&lt;protvista-msa\n  id=&quot;msa-track&quot;\n  length=&quot;300&quot;\n  height=&quot;200&quot;\n  displaystart=&quot;10&quot;\n  displayend=&quot;30&quot;\n  use-ctrl-to-zoom\n  labelWidth=&quot;100&quot;\n  colorscheme=&quot;clustal&quot;\n/&gt;</code></pre>\n<p>This readme is been use as a road map. A 🚧 emoji indicates that this feature is under construction.</p>\n<h2 id="features">Features</h2>\n<ul>\n<li>✅ Inherits from <code>protvista-zoomable</code> and supports updates from the <code>protvista-manager</code></li>\n<li>✅ Refreshes when the property <code>data</code> is updated</li>\n<li>✅ Renders the sequence names if there is space assigned in the attribute <code>labelwidth</code></li>\n<li>✅ Forces the zoom to stay at a level thet there is at least a pixel per base.</li>\n<li>🔲 Find an alternative to be able to zoom farther.</li>\n<li>✅ Changes in color schema</li>\n<li>🔲 Highlights a region</li>\n<li>🔲 Adding other components to the layout. eg. scale, conservancy plot, etc.</li>\n</ul>\n<h2 id="api-reference">API reference</h2>\n<h3 id="parameters">Parameters</h3>\n<h5 id="width"><code>width</code></h5>\n<p>The width assigned for the component, including anything reseved for the sequence names</p>\n<p>type: <code>number</code>\ndefaultValue: calculated based onavailable space.</p>\n<h5 id="height"><code>height</code></h5>\n<p>Height of the component</p>\n<p>type: <code>number</code></p>\n<h5 id="labelwidth"><code>labelwidth</code></h5>\n<p>The space assigned for the sequence labels. This will be taken from the total <code>width</code>. Which means that if the <code>width</code> is <code>1000</code> and <code>labelwidth</code> is <code>200</code>, the alignment will be using <code>800</code>.</p>\n<p>If a value of <code>0</code> is assigned, the rendering of labels will be avoided completely.</p>\n<p>type: <code>number</code>\ndefaultValue: 0</p>\n<h5 id="colorscheme"><code>colorscheme</code></h5>\n<p>The colour scheme to use when painting the alignment tiles.</p>\n<p>Note: The conservation color scheme has to calculate some values. The current approach is to do the calculation in a web worker, if the component requests using the <code>&#39;conservation&#39;</code> scheme before the calculation is completed, it paint all the background in white, and repaints it once the calculations are done.</p>\n<p>type: <code>enum(&#39;buried_index&#39;|&#39;clustal&#39;|&#39;clustal2&#39;|&#39;cinema&#39;|&#39;helix_propensity&#39;|&#39;hydro&#39;|&#39;lesk&#39;|&#39;mae&#39;|&#39;nucleotide&#39;|&#39;purine_pyrimidine&#39;|&#39;strand_propensity&#39;|&#39;taylor&#39;|&#39;turn_propensity&#39;|&#39;zappo&#39;|&#39;conservation&#39;)</code>\ndefaultValue: <code>&#39;clustal&#39;</code></p>\n<h5 id="calculate-conservation"><code>calculate-conservation</code></h5>\n<p>A flag that calculates the conservation values per base in the alignment.</p>\n<p>The calculation is executed on a web worker to avoid any interrruption on the main thread.</p>\n<p>type: <code>boolean</code>\ndefaultValue: <code>false</code></p>\n<h5 id="other-inherit-from-protvista-zoomable">Other inherit from <code>protvista-zoomable</code></h5>\n<p>displaystart, displayend, length, highlight</p>\n<p>See more <a href="https://github.com/ebi-webcomponents/nightingale/tree/master/packages/protvista-zoomable">here</a></p>\n<h3 id="properties">Properties</h3>\n<h4 id="data"><code>data</code></h4>\n<p>The sequences to be displayed. The should be in the following shape:</p>\n<pre><code class="language-javascript">[\n  {\n    name: &quot;seq1&quot;,\n    sequence: &quot;MAMYDDEFDTKASDLTFSPWVEVE&quot;,\n  },\n  // ...\n];</code></pre>\n<p>type: <code>array</code></p>\n<h3 id="methods">Methods</h3>\n<h4 id="getcolormap"><code>getColorMap()</code></h4>\n<p>Return an object that contains the name of the current colorscheme in usage, and a map, that is a dictionary indicating the colorMapping used. For example the default scheme <code>&#39;clustal&#39;</code> would return something like:</p>\n<pre><code class="language-javascript">{\n  name: &#39;clustal&#39;,\n  map: {\n    A: &quot;orange&quot;,\n    B: &quot;#fff&quot;,\n    C: &quot;green&quot;,\n    D: &quot;red&quot;,\n    E: &quot;red&quot;,\n    F: &quot;blue&quot;,\n    G: &quot;orange&quot;,\n    H: &quot;red&quot;,\n    I: &quot;green&quot;,\n    J: &quot;#fff&quot;,\n    K: &quot;red&quot;,\n    L: &quot;green&quot;,\n    M: &quot;green&quot;,\n    N: &quot;#fff&quot;,\n    O: &quot;#fff&quot;,\n    P: &quot;orange&quot;,\n    Q: &quot;#fff&quot;,\n    R: &quot;red&quot;,\n    S: &quot;orange&quot;,\n    T: &quot;orange&quot;,\n    U: &quot;#fff&quot;,\n    V: &quot;green&quot;,\n    W: &quot;blue&quot;,\n    X: &quot;#fff&quot;,\n    Y: &quot;blue&quot;,\n    Z: &quot;#fff&quot;,\n    Gap: &quot;#fff&quot;\n  }\n}</code></pre>\n<h3 id="events">Events</h3>\n<h4 id="conservationprogress"><code>conservationProgress</code></h4>\n<p>It notifies progress at calculating the conservation. The detail of the event is an event with the progress, and the current count of bases per position in the current sequence.\nWhen the progress is equal to 1, then the current values of the sum is divided by the number of sequences.</p>\n<pre><code class="language-javascript">// in the middle of the calculation\n{\n  progress: 0.5,\n  conservation: [\n    {M:5, A:3},\n    {E:4, S:4},\n  ]\n}\n\n//When the conservation calculation has been completed\n{\n  progress: 1,\n  conservation: [\n    {M:0.5, A:0.375, P:0.125},\n    {E:0.375, S:0.375, -:0.5},\n  ]\n}\n</code></pre>\n<h4 id="drawcompleted"><code>drawCompleted</code></h4>\n<p>Evrytime the component redraws the alignment this event is raised. There are multiple actions to redraw the alignment, for instance, changes in the props, or dragging the viewport.</p>\n<p>It doesn&#39;t have any data in the details.</p>\n'}}]);