(window.webpackJsonp=window.webpackJsonp||[]).push([[5,4],{167:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(639),a=n(619),c=n(596),u=n(595),s=n(638),l=n(650),f=n(702),p=n(665),h=n(719),d=n(653),y=n(725),b=n(723),v=n(111),g=n(720),m=n(806),O=[{accession:"IPR00001",locations:[{fragments:[{start:1,end:466}]}],color:"#cacaca"}],w=[{accession:"SF00001",locations:[{fragments:[{start:127,end:264},{start:279,end:385},{start:400,end:466}]}],color:"#7acaca"},{accession:"PF00001",locations:[{fragments:[{start:146,end:266}]},{fragments:[{start:346,end:466}]}],color:"#ca7aca"},{accession:"CD0001",locations:[{fragments:[{start:146,end:456}]}],color:"#caca7a"}],j=[{accession:"cd00108",locations:[{fragments:[{start:127,end:203}]}],color:"#cacaca",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",locations:[{fragments:[{start:204,end:285}]}],color:"#c00aca",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",source_database:"cdd",locations:[{fragments:[{start:298,end:380}]}],color:"#caca0a",entry_type:"domain",type:"entry",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]},{accession:"cd00108",source_database:"cdd",locations:[{fragments:[{start:384,end:466}]}],color:"#0acaca",entry_type:"domain",type:"entry",residues:[{accession:"KR",entry_accession:"cd00108",source_database:"CDD",locations:[{fragments:[{start:153,end:153,residues:"W"},{start:163,end:163,residues:"Y"},{start:184,end:184,residues:"W"},{start:186,end:186,residues:"F"},{start:194,end:194,residues:"Y"},{start:231,end:231,residus:"W"},{start:241,end:241,residues:"F"},{start:266,end:266,residues:"W"},{start:268,end:268,residues:"Y"},{start:276,end:276,residues:"W"},{start:325,end:325,residues:"W"},{start:335,end:335,residues:"V"},{start:360,end:360,residues:"W"},{start:362,end:362,residues:"F"},{start:370,end:370,residues:"V"},{start:411,end:411,residues:"W"},{start:421,end:421,residues:"H"},{start:447,end:447,residues:"W"},{start:449,end:449,residues:"Y"},{start:457,end:457,residues:"W"}],description:"ligand binding site"},{fragments:[{start:138,end:138,residues:"K"},{start:216,end:216,residues:"R"},{start:310,end:310,residues:"R"},{start:396,end:396,residues:"M"}],description:"putative domain interaction site"}]}]}],S=n(721),_=n(807),P=n(28);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(){var t=R(['\n        <button\n          style="background-color: #1878ba; color: white; cursor: pointer; display: inline-block;padding: 0.5rem 0.5rem; border-radius: 4px; margin-bottom: 5px;"\n          @click=',"\n        >\n          Download\n        </button>\n      "]);return x=function(){return t},t}function k(){var t=R(["\n          ","\n        "]);return k=function(){return t},t}function R(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){var e="function"==typeof Map?new Map:void 0;return(D=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return M(t,arguments,F(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),q(r,t)})(t)}function M(t,e,n){return(M=L()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&q(o,n.prototype),o}).apply(null,arguments)}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=L(),function(){var t,r=F(e);if(n){var o=F(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return A(this,t)});function c(){return C(this,c),a.apply(this,arguments)}return r=c,(o=[{key:"connectedCallback",value:function(){this.elementId=this.getAttribute("element-id"),this.fillColor=this.getAttribute("background-color"),this.fileName=this.getAttribute("file-name")||"protvista",this.fileFormat=["png","jpeg","bmp","tiff","gif"].includes(this.getAttribute("file-format"))?this.getAttribute("file-format"):"png",this.renderContent()}},{key:"saveSvg",value:function(){var t=this.parentElement,e=t.elementId,n=document.querySelector("#".concat(e));n.style.display="block","function"==typeof t.preSave&&t.preSave();var r=document.createElement("canvas"),o=window.getComputedStyle(n).getPropertyValue("width"),i=window.getComputedStyle(n).getPropertyValue("height");if(r.setAttribute("width",o),r.setAttribute("height",i),t.fillColor){var a=r.getContext("2d");a.fillStyle=t.fillColor,a.fillRect(0,0,Number(o),Number(i))}_.drawHTML(document.getElementById(e).innerHTML,r).then((function(){var e=r.toDataURL("image/".concat(t.fileFormat),1).replace("image/".concat(t.fileFormat),"image/octet-stream"),n=document.createElement("a");n.download="".concat(t.fileName,".").concat(t.fileFormat),n.href=e,document.body.appendChild(n),n.click()})).catch((function(t){console.log(t)})).finally((function(){n.style.display="","function"==typeof t.postSave&&t.postSave()}))}},{key:"renderContent",value:function(){var t;if(this.hasChildNodes()){var e=this.firstElementChild;"BUTTON"===e.tagName?(e.addEventListener("click",this.saveSvg),t=Object(P.c)(k(),e)):console.error("Only Buttons are accepted as children")}else t=Object(P.c)(x(),this.saveSvg);Object(P.d)(t,this)}},{key:"backgroundColor",set:function(t){this.fillColor=t}}])&&T(r.prototype,o),i&&T(r,i),c}(D(HTMLElement)),H=n(630);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){var e="function"==typeof Map?new Map:void 0;return(U=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return z(t,arguments,K(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),G(r,t)})(t)}function z(t,e,n){return(z=Y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&G(o,n.prototype),o}).apply(null,arguments)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=Y(),function(){var t,r=K(e);if(n){var o=K(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return B(this,t)});function c(){return W(this,c),a.apply(this,arguments)}return r=c,i=[{key:"observedAttributes",get:function(){return["for"]}}],(o=[{key:"connectedCallback",value:function(){this.for=this.getAttribute("for"),this.renderWhenForElementIsReady()}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&("for"===t&&(this.for=n),this.renderWhenForElementIsReady())}},{key:"refreshOverlay",value:function(t){var e=this,n=document.getElementById(t);return function(){if(n){var t=n.getBoundingClientRect(),r=t.height,o=t.width;e.overlay.style.height="".concat(r,"px"),e.overlay.style.width="".concat(o,"px"),e.overlay.style.top="".concat(n.offsetTop,"px"),e.overlay.style.left="".concat(n.offsetLeft,"px")}}}},{key:"observeSizeChangeOfTarget",value:function(){var t=document.getElementById(this.for);this.sizeObserver=new H.a(this.refreshOverlay(this.for)),this.sizeObserver.observe(t),this.sizeObserver.observe(document.body)}},{key:"renderWhenForElementIsReady",value:function(){var t=this;this.observer&&this.observer.disconnect(),this.observer=new MutationObserver((function(){document.getElementById(t.for)&&(t.render(),t.observeSizeChangeOfTarget(),t.observer.disconnect())})),this.observer.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}},{key:"disconnectedCallback",value:function(){this.observer&&this.observer.disconnect(),this.sizeObserver&&this.sizeObserver.disconnect()}},{key:"render",value:function(){var t=this,e="",n=document.getElementById(this.for);if(n){var r=n.getBoundingClientRect(),o=r.height,i=r.width;e='\n      <div style="\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: absolute;\n        top: '.concat(n.offsetTop,"px;\n        left: ").concat(n.offsetLeft,"px;\n        height: ").concat(o,"px;\n        width: ").concat(i,'px;\n        background: rgba(0,0,0,0.3);\n        pointer-events: none;\n        visibility: hidden;\n      ">\n        <header style="\n          text-align: center;\n          color: white;\n          font-size: 1.3em;\n          text-shadow: 1px 1px 1px darkslategrey;\n        ">\n          Use [CTRL] + scroll to zoom\n        </header>\n      </div>')}this.innerHTML=e,this.overlay=this.getElementsByTagName("div")[0],this.ticking=!1,document.addEventListener("mouseover",(function(e){var r=e.pageX,o=e.pageY,i=n.getBoundingClientRect(),a=i.height,c=i.width;r>n.offsetLeft&&r<n.offsetLeft+c&&o>n.offsetTop&&o<n.offsetTop+a?t.over=!0:(t.over=!1,t.overlay.style.visibility="hidden")})),window.addEventListener("keydown",(function(e){e.ctrlKey&&(t.overlay.style.visibility="hidden")})),window.addEventListener("keyup",(function(e){17===e.keyCode&&(t.overlay.style.display="block")})),window.addEventListener("wheel",(function(e){!t.ticking&&t.over&&(window.requestAnimationFrame((function(){t.overlay.style.visibility=e.ctrlKey?"hidden":"visible",t.ticking=!1})),t.ticking=!0)}))}}])&&V(r.prototype,o),i&&V(r,i),c}(U(HTMLElement));function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(){var t=nt(['\n      <div class="zoom-button-div">\n        '," ","\n      </div>\n    "]);return Z=function(){return t},t}function $(){var t=nt(["\n              ","\n            "]);return $=function(){return t},t}function J(){var t=nt(["\n              ","\n            "]);return J=function(){return t},t}function tt(){var t=nt(['\n      <button\n        style="cursor: pointer; border-radius: 4px;"\n        @click=','\n        id="zoom-out"\n        title="Zoom Out"\n      >\n        -\n      </button>\n    ']);return tt=function(){return t},t}function et(){var t=nt(['\n      <button\n        style="cursor: pointer; border-radius: 4px;"\n        @click=','\n        id="zoom-in"\n        title="Zoom In"\n      >\n        +\n      </button>\n    ']);return et=function(){return t},t}function nt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){var e="function"==typeof Map?new Map:void 0;return(at=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ct(t,arguments,lt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),st(r,t)})(t)}function ct(t,e,n){return(ct=ut()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&st(o,n.prototype),o}).apply(null,arguments)}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=ut(),function(){var t,r=lt(e);if(n){var o=lt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return it(this,t)});function c(){return rt(this,c),a.apply(this,arguments)}return r=c,i=[{key:"observedAttributes",get:function(){return["length","displaystart","displayend"]}}],(o=[{key:"connectedCallback",value:function(){this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=parseFloat(this.getAttribute("length")),this._displaystart=parseFloat(this.getAttribute("displaystart"))||1,this._displayend=parseFloat(this.getAttribute("displayend"))||this._length,this._scaleFactor=parseFloat(this.getAttribute("scalefactor"))||10,this.renderContent()}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&(this["_".concat(t)]=parseFloat(n))}},{key:"zoom",value:function(t){var e;e="zoom-in"===t?this._scaleFactor:-this._scaleFactor;var n=1===this._displaystart?this._displaystart-1+e:this._displaystart+e,r=this._displayend-e;n<r&&this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,n),displayend:Math.min(r,this._length)},bubbles:!0,cancelable:!0}))}},{key:"renderContent",value:function(){var t=this,e=Object(P.c)(et(),(function(){return t.zoom("zoom-in")})),n=Object(P.c)(tt(),(function(){return t.zoom("zoom-out")}));if(this.hasChildNodes()){var r=this.children;Array.from(r).forEach((function(r){"BUTTON"===r.tagName&&(r.addEventListener("click",(function(){return t.zoom(r.id)})),"zoom-in"===r.id?e=Object(P.c)(J(),r):"zoom-out"===r.id&&(n=Object(P.c)($(),r)))}))}var o=Object(P.c)(Z(),e,n);Object(P.d)(o,this)}}])&&ot(r.prototype,o),i&&ot(r,i),c}(at(HTMLElement)),pt=n(49),ht=n(821),dt=n.n(ht);function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);if(e){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(E,t);var e,n,_,P=mt(E);function E(){return bt(this,E),P.apply(this,arguments)}return e=E,(n=[{key:"componentDidMount",value:function(){document.querySelector("#variation-track").data=g,document.querySelector("#interpro-track-residues").data=j,document.querySelector("#interpro-track").data=O,document.querySelector("#interpro-track").contributors=w,document.querySelector("#sequence-track").data=m,document.querySelector("#sequence-track").fixedHighlight="400:600",document.querySelector("#sequence-coloured-track").data=m,document.querySelector("#sequence-coloured-track").fixedHighlight="400:600",document.querySelector("#sequence-coloured-track-iso").data=m,document.querySelector("#sequence-coloured-track-iso").fixedHighlight="400:600",document.querySelector("#track1").fixedHighlight="400:600",document.querySelector("#track2").fixedHighlight="400:600",document.querySelector("#track3").data=S,document.querySelector("#track3").fixedHighlight="400:600",document.querySelector("#interpro-track").fixedHighlight="400:600",document.querySelector("#interpro-track-residues").fixedHighlight="400:600",document.querySelector("#variation-track").fixedHighlight="400:600",document.querySelector("#variation-graph").fixedHighlight="400:600",document.querySelector("#saver").preSave=function(){var t=document.querySelector("#example"),e=document.createElement("h2");e.setAttribute("id","tmp_title_element"),e.innerHTML="ProtVista Snapshot",t.insertBefore(e,t.firstChild)},document.querySelector("#saver").postSave=function(){document.querySelector("#example").removeChild(document.getElementById("tmp_title_element"))},document.querySelector("#saver").backgroundColor="#ffffff",document.querySelector("#saver2").backgroundColor="#ddddee";for(var t=[],e=0;e<1e3;e++)t.push({name:"seq_".concat(e),sequence:m.sequence});document.querySelector("#msa-track").data=t}},{key:"render",value:function(){return Object(v.a)("protvista-manager",i.a),Object(v.a)("protvista-feature-adapter",c.a),Object(v.a)("protvista-track",u.b),Object(v.a)("protvista-navigation",s.a),Object(v.a)("protvista-sequence",l.a),Object(v.a)("protvista-coloured-sequence",f.a),Object(v.a)("protvista-interpro-track",y.a),Object(v.a)("protvista-variation",p.a),Object(v.a)("protvista-variation-graph",h.a),Object(v.a)("data-loader",a.a),Object(v.a)("protvista-variation-adapter",d.a),Object(v.a)("protvista-saver",N),Object(v.a)("protvista-overlay",X),Object(v.a)("protvista-zoom-tool",ft),Object(v.a)("protvista-msa",b.a),o.a.createElement(r.Fragment,null,o.a.createElement(pt.default,{content:dt.a}),o.a.createElement("protvista-saver",{"element-id":"example",id:"saver"}),o.a.createElement("protvista-saver",{"element-id":"just-tracks",id:"saver2","file-name":"tracks","file-format":"jpeg"},o.a.createElement("button",null,"Download Just Tracks")),o.a.createElement("protvista-overlay",{for:"just-tracks"}),o.a.createElement("protvista-manager",{attributes:"length displaystart displayend variantfilters highlight",displaystart:"53",id:"example"},o.a.createElement("protvista-zoom-tool",{length:"770",style:{float:"right"}}),o.a.createElement("protvista-navigation",{length:"770"}),o.a.createElement("div",{id:"just-tracks"},o.a.createElement("protvista-sequence",{length:"770",id:"sequence-track","highlight-event":"onmouseover","use-ctrl-to-zoom":!0}),o.a.createElement("protvista-msa",{id:"msa-track",length:"770",height:"200","use-ctrl-to-zoom":!0,labelWidth:0}),o.a.createElement("protvista-coloured-sequence",{length:"770",id:"sequence-coloured-track",scale:"hydrophobicity-interface-scale",height:"10","highlight-event":"onmouseover","use-ctrl-to-zoom":!0}),o.a.createElement("protvista-coloured-sequence",{length:"770",id:"sequence-coloured-track-iso",scale:"isoelectric-point-scale",color_range:"white:0,dodgerblue:11",height:"10","use-ctrl-to-zoom":!0}),o.a.createElement("protvista-track",{id:"track1",length:"770","use-ctrl-to-zoom":!0},o.a.createElement("protvista-feature-adapter",{id:"adapter1"},o.a.createElement("data-loader",null,o.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM"})))),o.a.createElement("protvista-track",{id:"track2",length:"770",layout:"non-overlapping","use-ctrl-to-zoom":!0},o.a.createElement("protvista-feature-adapter",{id:"adapter1"},o.a.createElement("data-loader",null,o.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/features/P05067?categories=PTM"})))),o.a.createElement("protvista-track",{id:"track3",length:"770",displaystart:"1",displayend:"80",layout:"non-overlapping","use-ctrl-to-zoom":!0}),o.a.createElement("protvista-interpro-track",{id:"interpro-track",length:"770",shape:"roundRectangle","highlight-event":"onmouseover",expanded:!0,"use-ctrl-to-zoom":!0}),o.a.createElement("protvista-interpro-track",{id:"interpro-track-residues",length:"770",shape:"roundRectangle","highlight-event":"onmouseover",expanded:!0,"use-ctrl-to-zoom":!0}),o.a.createElement("protvista-variation-graph",{id:"variation-graph",length:"770","use-ctrl-to-zoom":!0},o.a.createElement("protvista-variation-adapter",null,o.a.createElement("data-loader",null,o.a.createElement("source",{src:"https://www.ebi.ac.uk/proteins/api/variation/P05067"})))),o.a.createElement("protvista-variation",{id:"variation-track",length:"770","use-ctrl-to-zoom":!0}))))}}])&&vt(e.prototype,n),_&&vt(e,_),E}(r.Component);e.default=jt},562:function(t,e,n){"use strict";var r=n(563);e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},563:function(t,e,n){"use strict";var r=n(588),o=n(564);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"symbol"==i(t)||Object(o.a)(t)&&"[object Symbol]"==Object(r.a)(t)}},568:function(t,e,n){"use strict";var r=n(561),o=n(563);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.a=function(t,e){if(Object(r.a)(t))return!1;var n=i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(o.a)(t))||(c.test(t)||!a.test(t)||null!=e&&t in Object(e))}},569:function(t,e,n){"use strict";var r=n(561),o=n(568),i=n(612);var a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,u=function(t){var e=Object(i.a)(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(a,(function(t,n,r,o){e.push(r?o.replace(c,"$1"):n||t)})),e})),s=n(606);e.a=function(t,e){return Object(r.a)(t)?t:Object(o.a)(t,e)?[t]:u(Object(s.a)(t))}},572:function(t,e,n){"use strict";var r=n(569),o=n(562);e.a=function(t,e){for(var n=0,i=(e=Object(r.a)(e,t)).length;null!=t&&n<i;)t=t[Object(o.a)(e[n++])];return n&&n==i?t:void 0}},573:function(t,e,n){"use strict";var r=n(586),o=n(574);var i=function(t,e,n,i){var a=n.length,c=a,u=!i;if(null==t)return!c;for(t=Object(t);a--;){var s=n[a];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<c;){var l=(s=n[a])[0],f=t[l],p=s[1];if(u&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new r.a;if(i)var d=i(f,p,l,t,e,h);if(!(void 0===d?Object(o.a)(p,f,3,i,h):d))return!1}}return!0},a=n(565);var c=function(t){return t==t&&!Object(a.a)(t)},u=n(570);var s=function(t){for(var e=Object(u.a)(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,c(o)]}return e};var l=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var f=function(t){var e=s(t);return 1==e.length&&e[0][2]?l(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}},p=n(583),h=n(605),d=n(568),y=n(562);var b=function(t,e){return Object(d.a)(t)&&c(e)?l(Object(y.a)(t),e):function(n){var r=Object(p.a)(n,t);return void 0===r&&r===e?Object(h.a)(n,t):Object(o.a)(e,r,3)}},v=n(611),g=n(561);var m=function(t){return function(e){return null==e?void 0:e[t]}},O=n(572);var w=function(t){return function(e){return Object(O.a)(e,t)}};var j=function(t){return Object(d.a)(t)?m(Object(y.a)(t)):w(t)};function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"function"==typeof t?t:null==t?v.a:"object"==S(t)?Object(g.a)(t)?b(t[0],t[1]):f(t):j(t)}},574:function(t,e,n){"use strict";var r=n(586),o=n(577),i=n(604),a=n(576);var c=function(t,e,n,r,c,u){var s=1&n,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=u.get(t);if(p&&u.get(e))return p==e;var h=-1,d=!0,y=2&n?new o.a:void 0;for(u.set(t,e),u.set(e,t);++h<l;){var b=t[h],v=e[h];if(r)var g=s?r(v,b,h,e,t,u):r(b,v,h,t,e,u);if(void 0!==g){if(g)continue;d=!1;break}if(y){if(!Object(i.a)(e,(function(t,e){if(!Object(a.a)(y,e)&&(b===t||c(b,t,n,r,u)))return y.push(e)}))){d=!1;break}}else if(b!==v&&!c(b,v,n,r,u)){d=!1;break}}return u.delete(t),u.delete(e),d},u=n(584),s=n(622),l=n(610);var f=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},p=n(575),h=u.a?u.a.prototype:void 0,d=h?h.valueOf:void 0;var y=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new s.a(t),new s.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(l.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=f;case"[object Set]":var h=1&r;if(u||(u=p.a),t.size!=e.size&&!h)return!1;var y=a.get(t);if(y)return y==e;r|=2,a.set(t,e);var b=c(u(t),u(e),r,o,i,a);return a.delete(t),b;case"[object Symbol]":if(d)return d.call(t)==d.call(e)}return!1},b=n(623),v=Object.prototype.hasOwnProperty;var g=function(t,e,n,r,o,i){var a=1&n,c=Object(b.a)(t),u=c.length;if(u!=Object(b.a)(e).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in e:v.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<u;){var d=t[l=c[s]],y=e[l];if(r)var g=a?r(y,d,l,e,t,i):r(d,y,l,t,e,i);if(!(void 0===g?d===y||o(d,y,n,r,i):g)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var m=t.constructor,O=e.constructor;m==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof O&&O instanceof O||(p=!1)}return i.delete(t),i.delete(e),p},m=n(609),O=n(561),w=n(618),j=n(624),S="[object Object]",_=Object.prototype.hasOwnProperty;var P=function(t,e,n,o,i,a){var u=Object(O.a)(t),s=Object(O.a)(e),l=u?"[object Array]":Object(m.a)(t),f=s?"[object Array]":Object(m.a)(e),p=(l="[object Arguments]"==l?S:l)==S,h=(f="[object Arguments]"==f?S:f)==S,d=l==f;if(d&&Object(w.a)(t)){if(!Object(w.a)(e))return!1;u=!0,p=!1}if(d&&!p)return a||(a=new r.a),u||Object(j.a)(t)?c(t,e,n,o,i,a):y(t,e,l,n,o,i,a);if(!(1&n)){var b=p&&_.call(t,"__wrapped__"),v=h&&_.call(e,"__wrapped__");if(b||v){var P=b?t.value():t,E=v?e.value():e;return a||(a=new r.a),i(P,E,n,o,a)}}return!!d&&(a||(a=new r.a),g(t,e,n,o,i,a))},E=n(564);e.a=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Object(E.a)(e)&&!Object(E.a)(n)?e!=e&&n!=n:P(e,n,r,o,t,i))}},579:function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},580:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},581:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},582:function(t,e,n){"use strict";var r=n(594),o=n(578);var i=function(t,e){return function(n,r){if(null==n)return n;if(!Object(o.a)(n))return t(n,r);for(var i=n.length,a=e?i:-1,c=Object(n);(e?a--:++a<i)&&!1!==r(c[a],a,c););return n}}(r.a);e.a=i},583:function(t,e,n){"use strict";var r=n(572);e.a=function(t,e,n){var o=null==t?void 0:Object(r.a)(t,e);return void 0===o?n:o}},585:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.min,r=void 0===n?-1/0:n,o=e.max,a=void 0===o?1/0:o;i(this,t),this.segments=[],this.max=a,this.min=r,this.regionString=null}var e,n,o;return e=t,(n=[{key:"encode",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.segments.map((function(n){var r=n.start,o=n.end;if(e)return"".concat(r,":").concat(o);var i=r===t.min?"":r,a=o===t.max?"":o;return"".concat(i,":").concat(a)})).join(",")}},{key:"decode",value:function(t){var e=this;void 0!==t&&(this.regionString=t),this.regionString?this.segments=this.regionString.split(",").map((function(t){var n=r(t.split(":"),3),o=n[0],i=n[1];if(void 0!==n[2])throw new Error("there should be at most 1 ':' per region. Region: ".concat(t));var a=o?Number(o):e.min,c=i?Number(i):e.max;if(a>c){var u=[c,a];a=u[0],c=u[1]}if(a<e.min&&(a=e.min),c>e.max&&(c=e.max),Number.isNaN(a))throw new Error("The parsed value of ".concat(o," is NaN. Region: ").concat(t));if(Number.isNaN(c))throw new Error("The parsed value of ".concat(i," is NaN. Region: ").concat(t));return{start:a,end:c}})):this.segments=[]}}])&&a(e.prototype,n),o&&a(e,o),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(t,e){return t?e?"".concat(t,",").concat(e):t:e},l=function(){function t(e){var n=e.element,r=e.min,o=e.max;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.region=new c({min:r,max:o}),this.fixedHighlight=null}var e,n,r;return e=t,(n=[{key:"setAttributesInElement",value:function(){this.region.decode(this.element.getAttribute("highlight")),0===this.region.segments.length&&(this.element._highlightstart=Number(this.element.getAttribute("highlightstart")),this.element._highlightend=Number(this.element.getAttribute("highlightend")),null!==this.element._highlightstart&&null!==this.element._highlightend&&"number"==typeof this.element._highlightstart&&"number"==typeof this.element._highlightend&&(this.element._highlight="".concat(this.element._highlightstart,":").concat(this.element._highlightend),this.region.decode(s(this.fixedHighlight,this.element._highlight))))}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this.element["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"changedCallBack",value:function(t,e){switch(t){case"highlightstart":case"highlightend":this.setFloatAttribute(t,e),this.element._highlight=Number.isNaN(this.element._highlightstart)||Number.isNaN(this.element._highlightend)||void 0===this.element._highlightstart||void 0===this.element._highlightend||null===this.element._highlightstart||null===this.element._highlightend?"":"".concat(Math.max(this.region.min,this.element._highlightstart),":").concat(Math.min(this.region.max,this.element._highlightend));break;default:this.element._highlight=e}this.region.decode(s(this.fixedHighlight,this.element._highlight)),this.element.refresh()}},{key:"setFixedHighlight",value:function(t){this.fixedHighlight=t,this.region.decode(s(t,this.element._highlight)),this.element.refresh()}},{key:"appendHighlightTo",value:function(t){this.highlighted=t.append("g").attr("class","highlighted")}},{key:"updateHighlight",value:function(){var t=this,e=this.highlighted.selectAll("rect").data(this.region.segments);e.enter().append("rect").style("opacity",.5).attr("fill","rgba(255, 235, 59, 0.8)").style("pointer-events","none").merge(e).attr("height",this.element._height).attr("x",(function(e){return t.element.getXFromSeqPosition(e.start)})).attr("width",(function(e){return t.element.getSingleBaseWidth()*(e.end-e.start+1)})),e.exit().remove()}},{key:"max",set:function(t){this.region.max=t}}])&&u(e.prototype,n),r&&u(e,r),t}();function f(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}var p=function(t){return t};function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.timeStampWheelOutside=0,this.resetScrollableTimeout=null}var e,n,r;return e=t,(n=[{key:"setElementScrollable",value:function(t){this.element.setAttribute("scrollable",t)}},{key:"startResetScrollableTimer",value:function(){var t=this;this.resetScrollableTimeout&&clearTimeout(this.resetScrollableTimeout),this.resetScrollableTimeout=setTimeout((function(){t.setElementScrollable(!0),t.resetScrollableTimeout=null}),400)}},{key:"blockScroll",value:function(t){this.timeStampWheelOutside=t,this.setElementScrollable(!1),this.startResetScrollableTimer()}},{key:"isWheelEventInsideElement",value:function(t,e){var n=this.element.getBoundingClientRect(),r=n.height,o=n.width,i=n.x,a=n.y;return t>i&&e<i+o&&e>a&&e<a+r}},{key:"wheel",value:function(t){var e=t.x,n=t.y,r=t.timeStamp;this.isWheelEventInsideElement(e,n)?r<this.timeStampWheelOutside+400?this.blockScroll(r):this.setElementScrollable(!0):this.blockScroll(r)}}])&&h(e.prototype,n),r&&h(e,r),t}();n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return g}));var y=l,b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var r=t.split(",").map((function(t){return t.split(":")}));if(r.length<2)throw new Error("There should be at least 2 points to create a scale");e=r.map((function(t){var e=t[0].trim().toUpperCase();if(!f(e))throw new Error("The color '".concat(e," is not valid'"));return e})),n=r.map((function(t,e){var n=parseFloat(t[1]);if(Number.isNaN(n))throw new Error("The second part of every point should be a number. Error in point ".concat(e,": ").concat(t));return n}))}return{range:e,domain:n}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.keyFormatter,r=void 0===n?p:n,o=e.valueFormatter,i=void 0===o?p:o;if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var a=t.split(",").map((function(t){return t.split(":")})),c={};return a.forEach((function(t){if(2!==t.length)throw new Error("Bad block: ".concat(t.join(":"),"\n The blocks of the string should follow the format KEY:VALUE"));c[r(t[0])]=i(t[1])})),c}return{}},g=d},587:function(t,e,n){"use strict";var r=n(608);var o=function(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r},i=n(582);var a=function(t,e,n,r){return Object(i.a)(t,(function(t,o,i){e(r,t,n(t),i)})),r},c=n(573),u=n(561);var s=function(t,e){return function(n,r){var i=Object(u.a)(n)?o:a,s=e?e():{};return i(n,t,Object(c.a)(r,2),s)}},l=Object.prototype.hasOwnProperty,f=s((function(t,e,n){l.call(t,n)?t[n].push(e):Object(r.a)(t,n,[e])}));e.a=f},591:function(t,e,n){"use strict";var r=n(567),o=n(585),i=n(630);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function h(t,e,n){return(h=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&y(o,n.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(v,t);var e,n,a,u,p,h=(e=v,n=d(),function(){var t,r=b(e);if(n){var o=b(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return l(this,t)});function v(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),t=h.call(this),v._polyfillElementClosest(),t._updateScaleDomain=t._updateScaleDomain.bind(f(t)),t._initZoom=t._initZoom.bind(f(t)),t.zoomed=t.zoomed.bind(f(t)),t._applyZoomTranslation=t.applyZoomTranslation.bind(f(t)),t._resetEventHandler=t._resetEventHandler.bind(f(t));var e=!1;return t.applyZoomTranslation=function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t._applyZoomTranslation()})))},t._onResize=t._onResize.bind(f(t)),t._listenForResize=t._listenForResize.bind(f(t)),t.trackHighlighter=new o.d({element:f(t),min:1}),t.scrollFilter=new o.b(f(t)),t.wheelListener=function(e){return t.scrollFilter.wheel(e)},t}return a=v,p=[{key:"_getClickCoords",value:function(){return r.e?[r.e.pageX,r.e.pageY]:null}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=t;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})}},{key:"observedAttributes",get:function(){return["displaystart","displayend","length","highlight"]}}],(u=[{key:"connectedCallback",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=this.getAttribute("length")?parseFloat(this.getAttribute("length")):0,this._displaystart=this.getAttribute("displaystart")?parseFloat(this.getAttribute("displaystart")):1,this._displayend=this.getAttribute("displayend")?parseFloat(this.getAttribute("displayend")):this.length,this._height=this.getAttribute("height")?Number(this.getAttribute("height")):44,this._highlightEvent=this.getAttribute("highlight-event")?this.getAttribute("highlight-event"):"onclick",this.trackHighlighter.setAttributesInElement(this),this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this._initZoom(),this._listenForResize(),this.addEventListener("error",(function(t){console.error(t)})),this.addEventListener("click",this._resetEventHandler),this.hasAttribute("filter-scroll")&&document.addEventListener("wheel",this.wheelListener,{capture:!0})}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro?this._ro.unobserve(this):window.removeEventListener("resize",this._onResize),this.removeEventListener("click",this._resetEventHandler),document.removeEventListener("wheel",this.wheelListener)}},{key:"getWidthWithMargins",value:function(){return this.width?this.width-this.margin.left-this.margin.right:0}},{key:"_updateScaleDomain",value:function(){this.xScale=Object(r.i)().domain([1,this._length+1]).range([0,this.getWidthWithMargins()])}},{key:"_initZoom",value:function(){var t=this;this._zoom=Object(r.m)().scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]).extent([[0,0],[this.getWidthWithMargins(),0]]).filter((function(){if(!(r.e instanceof WheelEvent))return!0;if(t.hasAttribute("scroll-filter")){var e=t.getAttribute("scrollable");if(e)return"true"===e}return!t.hasAttribute("use-ctrl-to-zoom")||r.e.ctrlKey})).on("zoom",this.zoomed)}},{key:"setFloatAttribute",value:function(t,e){var n=parseFloat(e);this["_".concat(t)]=Number.isNaN(n)?e:n}},{key:"attributeChangedCallback",value:function(t,e,n){if("null"===n&&(n=null),e!==n){if(t.startsWith("highlight"))return void this.trackHighlighter.changedCallBack(t,n);this.setFloatAttribute(t,n),"length"===t&&(this._updateScaleDomain(),this._originXScale=this.xScale.copy()),this.applyZoomTranslation()}}},{key:"zoomed",value:function(){if(this.xScale=r.e.transform.rescaleX(this._originXScale),!this.dontDispatch){var t=c(this.xScale.domain(),2),e=t[0],n=t[1];this.dispatchEvent(new CustomEvent("change",{detail:{displaystart:Math.max(1,e),displayend:Math.min(this.length,Math.max(n-1,e+1))},bubbles:!0,cancelable:!0}))}}},{key:"applyZoomTranslation",value:function(){if(this.svg&&this._originXScale){var t=Math.max(1,this.length/(1+this._displayend-this._displaystart)),e=-this._originXScale(this._displaystart);this.dontDispatch=!0,this.svg.call(this.zoom.transform,r.n.scale(t).translate(e,0)),this.dontDispatch=!1,this.refresh()}}},{key:"_onResize",value:function(){this.width=this.offsetWidth,this._updateScaleDomain(),this._originXScale=this.xScale.copy(),this.svg&&this.svg.attr("width",this.width),this._zoom.scaleExtent([1,1/0]).translateExtent([[0,0],[this.getWidthWithMargins(),0]]),this.applyZoomTranslation()}},{key:"_listenForResize",value:function(){this._ro=new i.a(this._onResize),this._ro.observe(this)}},{key:"_resetEventHandler",value:function(t){t.target.closest(".feature")||this.dispatchEvent(this.createEvent("reset",null,!0))}},{key:"getXFromSeqPosition",value:function(t){return this.margin.left+this.xScale(t)}},{key:"getSingleBaseWidth",value:function(){return this.xScale(2)-this.xScale(1)}},{key:"createEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;e&&(e=e.feature?e.feature:e);var u={eventtype:t,coords:v._getClickCoords(),feature:e,target:c};return n&&(e&&e.fragments?u.highlight=e.fragments.map((function(t){return"".concat(t.start,":").concat(t.end)})).join(","):r.e&&r.e.shiftKey&&this._highlight?u.highlight="".concat(this._highlight,",").concat(i,":").concat(a):u.highlight=i&&a?"".concat(i,":").concat(a):null),o&&(u.selectedid=e&&e.protvistaFeatureId),new CustomEvent("change",{detail:u,bubbles:!0,cancelable:!0})}},{key:"bindEvents",value:function(t,e){t.on("mouseover",(function(t,n,r){e.dispatchEvent(e.createEvent("mouseover",t,"onmouseover"===e._highlightEvent,!1,t.start,t.end,r[n]))})).on("mouseout",(function(){e.dispatchEvent(e.createEvent("mouseout",null,"onmouseover"===e._highlightEvent))})).on("click",(function(t,n,r){e.dispatchEvent(e.createEvent("click",t,"onclick"===e._highlightEvent,!0,t.start,t.end,r[n]))}))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}},{key:"length",set:function(t){this._length=t,this.trackHighlighter.max=t},get:function(){return this._length}},{key:"xScale",get:function(){return this._xScale},set:function(t){this._xScale=t}},{key:"zoom",get:function(){return this._zoom}},{key:"svg",set:function(t){this._svg=t,t.call(this._zoom),this.applyZoomTranslation()},get:function(){return this._svg}},{key:"margin",get:function(){return{top:10,right:10,bottom:10,left:10}}},{key:"fixedHighlight",set:function(t){this.trackHighlighter.setFixedHighlight(t)}}])&&s(a.prototype,u),p&&s(a,p),v}(p(HTMLElement));e.a=v},592:function(t,e,n){var r=n(613),o=n(614),i=o;i.v1=r,i.v4=o,t.exports=i},593:function(t,e,n){"use strict";var r=n(565),o=n(563),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.a=function(t){if("number"==typeof t)return t;if(Object(o.a)(t))return NaN;if(Object(r.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(r.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=c.test(t);return n||u.test(t)?s(t.slice(2),n?2:8):a.test(t)?NaN:+t}},594:function(t,e,n){"use strict";var r=n(607),o=n(570);e.a=function(t,e){return t&&Object(r.a)(t,e,o.a)}},595:function(t,e,n){"use strict";var r=n(567),o=n(640),i=n(578),a=n(588),c=n(561),u=n(564);var s=function(t){return"string"==typeof t||!Object(c.a)(t)&&Object(u.a)(t)&&"[object String]"==Object(a.a)(t)},l=n(603),f=n(566);var p=function(t,e){return Object(f.a)(e,(function(e){return t[e]}))},h=n(570);var d=function(t){return null==t?[]:p(t,Object(h.a)(t))},y=Math.max;var b=function(t,e,n,r){t=Object(i.a)(t)?t:d(t),n=n&&!r?Object(l.a)(n):0;var a=t.length;return n<0&&(n=y(a+n,0)),s(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&Object(o.a)(t,e,n)>-1},v=n(587),g=n(601),m=n(602),O=n(591);function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isContinuous",value:function(t){return"bridge"!==(t=t.toLowerCase())}}],(n=[{key:"getFeatureShape",value:function(t,e,n,r){return r=r||"rectangle",this._ftLength=n,this._ftHeight=e,this._ftWidth=t*n,"function"!=typeof this["_"+r]&&(r="rectangle"),this["_"+r]()}},{key:"_rectangle",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+"Z"}},{key:"_roundRectangle",value:function(){return"M6,0h"+(this._ftWidth-12)+",0a6,6 0 0 1 6,6v"+(this._ftHeight-12)+"a6,6 0 0 1 -6,6h"+(12-this._ftWidth)+"a6,6 0 0 1 -6,-6v"+(12-this._ftHeight)+"a6,6 0 0 1 6,-6Z"}},{key:"_bridge",value:function(){return 1!==this._ftLength?"M0,"+this._ftHeight+"L0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L"+this._ftWidth+",2L0,2Z":"M0,"+this._ftHeight+"L0,"+this._ftHeight/2+"L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth/2+",0L"+this._ftWidth/2+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight/2+"L"+this._ftWidth+","+this._ftHeight+"Z"}},{key:"_getMiddleLine",value:function(t){return"M0,"+t+"L"+this._ftWidth+","+t+"Z"}},{key:"_diamond",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(t+5)+",5L"+t+",10L"+(t-5)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth):e+"Z"}},{key:"_chevron",value:function(){var t=this._ftWidth/2,e="M"+t+",5L"+(5+t)+",0L"+(5+t)+",5L"+t+",10L"+(-5+t)+",5L"+(-5+t)+",0";return 1!==this._ftLength?e+"L"+t+",5"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_catFace",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",0L"+(-5+t)+",6L"+(-2+t)+",10L"+(2+t)+",10L"+(5+t)+",6L"+(5+t)+",0L"+(2+t)+",4L"+(-2+t)+",4";return 1!==this._ftLength?e+"M"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_triangle",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(5+t)+",10L"+(-5+t)+",10";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_wave",value:function(){var t=this._ftWidth/2,e="M"+(-5+t)+",5A2.5,5 0 1,1 "+t+",5A2.5,5 0 1,0 "+(5+t)+",5";return 1!==this._ftLength?e+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getPolygon",value:function(t){for(var e="M ",n=this._ftWidth/2,r=0;r<t;r++)e+=5*Math.cos(2*Math.PI*r/t)+n+","+(5*Math.sin(2*Math.PI*r/t)+5)+" ";return 1!==this._ftLength?e+" "+(5*Math.cos(0)+n)+","+(5*Math.sin(0)+5)+" "+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_hexagon",value:function(){return this._getPolygon(6)}},{key:"_pentagon",value:function(){return this._getPolygon(5)}},{key:"_circle",value:function(){var t=this._ftWidth/2,e=Math.sqrt(10/Math.PI),n="M"+t+",0A"+e+","+e+" 0 1,1 "+t+",10A"+e+","+e+" 0 1,1 "+t+",0";return 1!==this._ftLength?n+this._getMiddleLine(5,this._ftWidth)+"Z":n+"Z"}},{key:"_arrow",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-1+t)+",0L"+(-5+t)+",4L"+(-1+t)+","+this._ftHeight+"L"+t+","+this._ftHeight+"L"+(4+t)+",4";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_doubleBar",value:function(){var t=this._ftWidth/2,e="M"+t+",0L"+(-5+t)+",10L"+t+",10L"+(5+t)+",0";return 1!==this._ftLength?e+"L"+t+",0"+this._getMiddleLine(5,this._ftWidth)+"Z":e+"Z"}},{key:"_getBrokenEnd",value:function(){var t=this._ftHeight/4;return"L"+(this._ftWidth-t)+","+t+"L"+this._ftWidth+","+2*t+"L"+(this._ftWidth-t)+","+3*t+"L"+this._ftWidth+","+this._ftHeight}},{key:"_getBrokenStart",value:function(){var t=this._ftHeight/4;return"L"+t+","+3*t+"L0,"+2*t+"L"+t+","+t}},{key:"_discontinuosStart",value:function(){return"M0,0L"+this._ftWidth+",0L"+this._ftWidth+","+this._ftHeight+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuos",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+this._getBrokenStart()+"Z"}},{key:"_discontinuosEnd",value:function(){return"M0,0L"+this._ftWidth+",0"+this._getBrokenEnd()+"L0,"+this._ftHeight+"Z"}},{key:"_helix",value:function(){for(var t=2.5,e=2.5,n=Math.round(this._ftWidth/5),r="",o=0;o<n;o++)r+="M"+(-2.5+e)+","+this._ftHeight+" C"+(e+t)+",7.5 "+(2.5+e)+",2.5 "+e+", 0 C"+(e-t)+",2.5 "+e+",7.5 "+(2.5+e)+","+this._ftHeight,e+=5;return r}},{key:"_strand",value:function(){var t=0;this._ftWidth>5&&(t=this._ftWidth-5);var e=this._ftHeight/4;return"M0,"+e+"L"+t+","+e+"L"+t+","+3*e+"L0,"+3*e+"L0,"+e+"M"+t+",0L"+this._ftWidth+","+2*e+"L"+t+","+this._ftHeight+"Z"}}])&&w(e.prototype,n),r&&w(e,r),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(e){var n=e.layoutHeight,r=e.padding,o=void 0===r?1:r,i=e.minHeight,a=void 0===i?17:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._padding=o,this._minHeight=a,this._layoutHeight=n}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this._features=t}},{key:"getFeatureYPos",value:function(){var t=this.getFeatureHeight();return this._layoutHeight/2-t/2}},{key:"getFeatureHeight",value:function(){return Math.min(this._layoutHeight,this._minHeight)-this._padding}}])&&S(e.prototype,n),r&&S(e,r),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t,e){return e.some((function(e){return n=t,r=e,!(Number(r.start)>Number(n.end)||Number(r.end)<Number(n.start));var n,r}))},A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(i,t);var e,n,r,o=k(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).featuresMap=new Map,e._rowHeight=0,e._rows=[],e._minHeight=15,e}return e=i,(n=[{key:"init",value:function(t){var e=this;t.forEach((function(t){var n=e._rows.findIndex((function(e){return!T(t,e)}));n>=0?(e._rows[n].push(t),e.featuresMap.set(t,n)):(e._rows.push([t]),e.featuresMap.set(t,e._rows.length-1))})),this._rowHeight=Math.min(this._layoutHeight/this._rows.length,this._minHeight)}},{key:"getOffset",value:function(){return this._rows.length*this._rowHeight<this._layoutHeight?this._layoutHeight/2-this._rows.length*this._rowHeight/2:0}},{key:"getFeatureYPos",value:function(t){var e=this.featuresMap.get(t);return this.getOffset()+this._rowHeight*e+2*this._padding}},{key:"getFeatureHeight",value:function(){return this._rowHeight-2*this._padding}}])&&E(e.prototype,n),r&&E(e,r),i}(_),D={CHAIN:{name:"chain",label:"Chain",tooltip:"(aka mature region). This describes the extent of a polypeptide chain in the mature protein following processing",shape:"rectangle",color:"#CC9933"},TRANSIT:{name:"transit peptide",label:"Transit peptide",tooltip:"This describes the extent of a transit peptide",shape:"rectangle",color:"#009966"},INIT_MET:{name:"initiator methionine",label:"Initiator methionine",tooltip:"This indicates that the initiator methionine is cleaved from the mature protein",shape:"arrow",color:"#996633"},PROPEP:{name:"propeptide",label:"Propeptide",tooltip:"Part of a protein that is cleaved during maturation or activation",shape:"rectangle",color:"#99CCCC"},PEPTIDE:{name:"peptide",label:"Peptide",tooltip:"The position and length of an active peptide in the mature protein",shape:"rectangle",color:"#006699"},SIGNAL:{name:"signal peptide",label:"Signal peptide",tooltip:"N-terminal signal peptide",shape:"rectangle",color:"#CC0033"},HELIX:{name:"helix",label:"Helix",tooltip:"The positions of experimentally determined helical regions",shape:"rectangle",color:"#FF0066"},STRAND:{name:"strand",label:"Beta strand",tooltip:"The positions of experimentally determined beta strands",shape:"rectangle",color:"#FFCC00"},TURN:{name:"turn",label:"Turn",tooltip:"The positions of experimentally determined hydrogen-bonded turns",shape:"rectangle",color:"#0571AF"},DISULFID:{name:"disulfide bond",label:"Disulfide bond",tooltip:"The positions of cysteine residues participating in disulphide bonds",shape:"bridge",color:"#23B14D"},CROSSLNK:{name:"cross-link",label:"Cross-link",tooltip:"Covalent linkages of various types formed between two proteins or between two parts of the same protein",shape:"bridge",color:"#FF6600"},REGION:{name:"region of interest",label:"Region of interest",tooltip:"Regions in multifunctional enzymes or fusion proteins, or characteristics of a region, e.g., protein-protein interactions mediation",shape:"rectangle",color:"#B33E00"},COILED:{name:"coiled-coil region",label:"Coiled-coil region",tooltip:"Coiled coils are built by two or more alpha-helices that wind around each other to form a supercoil",shape:"rectangle",color:"#006699"},MOTIF:{name:"short sequence motif",label:"Short sequence motif",tooltip:"Short conserved sequence motif of biological significance",shape:"rectangle",color:"#402060"},REPEAT:{name:"repeat",label:"Repeat",tooltip:"Repeated sequence motifs or repeated domains within the protein",shape:"rectangle",color:"#9900FF"},CA_BIND:{name:"calcium-binding region",label:"Calcium-binding region",tooltip:"Calcium-binding regions, such as the EF-hand motif",shape:"rectangle",color:"#FF3399"},DNA_BIND:{name:"DNA-binding region",label:"DNA binding",tooltip:"DNA-binding domains such as AP2/ERF domain, the ETS domain, the Fork-Head domain, the HMG box and the Myb domain",shape:"rectangle",color:"#009933"},DOMAIN:{name:"other domain of interest",label:"Other domain of interest",tooltip:"Specific combination of secondary structures organized into a characteristic three-dimensional structure or fold",shape:"rectangle",color:"#9999FF"},ZN_FING:{name:"zinc finger region",label:"Zinc finger",tooltip:"Small, functional, independently folded domain that coordinates one or more zinc ions",shape:"rectangle",color:"#990066"},NP_BIND:{name:"nucleotide-binding region",label:"Nucleotide-binding region",tooltip:"(aka flavin-binding). Region in the protein which binds nucleotide phosphates",shape:"rectangle",color:"#FF9900"},METAL:{name:"metal ion-binding site",label:"Metal ion-binding site",tooltip:"Binding site for a metal ion",shape:"diamond",color:"#009900"},SITE:{name:"other site of interest",label:"Other site of interest",tooltip:"Any interesting single amino acid site on the sequence",shape:"chevron",color:"#660033"},BINDING:{name:"other binding site",label:"Other binding site",tooltip:"Binding site for any chemical group (co-enzyme, prosthetic group, etc.)",shape:"rectangle",color:"#catFace"},ACT_SITE:{name:"active site",label:"Active site",tooltip:"Amino acid(s) directly involved in the activity of an enzyme",shape:"circle",color:"#FF6666"},MOD_RES:{name:"Post-translationally modified residue",label:"Modified residue",tooltip:"Modified residues such as phosphorylation, acetylation, acylation, methylation",shape:"triangle",color:"#000066"},LIPID:{name:"lipid moiety-binding region",label:"Lipidation",tooltip:"Covalently attached lipid group(s)",shape:"wave",color:"#99CC33"},CARBOHYD:{name:"glycosylation site",label:"Glycosylation",tooltip:"Covalently attached glycan group(s)",shape:"hexagon",color:"#CC3366"},COMPBIAS:{name:"compositionally biased region",label:"Compositionally biased region",tooltip:"Position of regions of compositional bias within the protein and the particular amino acids that are over-represented within those regions",shape:"rectangle",color:"#FF3366"},CONFLICT:{name:"sequence conflict",label:"Sequence conflict",tooltip:"Sequence discrepancies of unknown origin",shape:"rectangle",color:"#6633CC"},NON_CONS:{name:"non-consecutive residues",label:"Non-adjacent residues",tooltip:"Indicates that two residues in a sequence are not consecutive and that there is an undetermined number of unsequenced residues between them",shape:"doubleBar",color:"#FF0033"},NON_TER:{name:"non-terminal residue",label:"Non-terminal residue",tooltip:"The sequence is incomplete. The residue is not the terminal residue of the complete protein",shape:"doubleBar",color:"#339933"},UNSURE:{name:"unsure residue",label:"Sequence uncertainty",tooltip:"Regions of a sequence for which the authors are unsure about the sequence assignment",shape:"rectangle",color:"#33FF00"},NON_STD:{name:"non-standard amino acid",label:"Non-standard residue",tooltip:"Non-standard amino acids (selenocysteine and pyrrolysine)",shape:"pentagon",color:"#330066"},MUTAGEN:{name:"mutagenesis site",label:"Mutagenesis",tooltip:"Site which has been experimentally altered by mutagenesis",shape:"rectangle",color:"#FF9900"},TOPO_DOM:{name:"topological domain",label:"Topological domain",tooltip:"Location of non-membrane regions of membrane-spanning proteins",shape:"rectangle",color:"#CC0000"},TRANSMEM:{name:"transmembrane region",label:"Transmembrane",tooltip:"Extent of a membrane-spanning region",shape:"rectangle",color:"#CC00CC"},INTRAMEM:{name:"intramembrane region",label:"Intramembrane",tooltip:"Extent of a region located in a membrane without crossing it",shape:"rectangle",color:"#0000CC"},VAR_SEQ:{name:"splice variant",label:"Splice variant",tooltip:"",shape:"rectangle",color:"#CC11CC"},VARIANT:{name:"sequence variant",label:"Natural variant",tooltip:"Natural variant of the protein, including polymorphisms, variations between strains, isolates or cultivars, disease-associated mutations and RNA editing events",shape:"circle",color:"black"},UNIQUE:{name:"unique",label:"Unique peptide",tooltip:"",shape:"rectangle",color:"#fc3133"},NON_UNIQUE:{name:"non-unique",label:"Non-unique peptide",tooltip:"",shape:"rectangle",color:"#8585fc"},ANTIGEN:{name:"antigen",label:"Antibody binding sequences",tooltip:"",shape:"rectangle",color:"#996699"},PDBE_COVER:{name:"pdbe coverage",label:"PDBe 3D structure coverage",tooltip:"",shape:"rectangle",color:"#669966"}},M=function(t){if(D[t.toUpperCase()])return D[t.toUpperCase()].shape;var e=Object.values(D).find((function(e){return e.name.toUpperCase()===t.toUpperCase()}));return e?e.shape:"rectangle"},L=function(t){if(D[t.toUpperCase()])return D[t.toUpperCase()].color;var e=Object.values(D).find((function(e){return e.name.toUpperCase()===t.toUpperCase()}));return e||console.log(t),e?e.color:"black"};function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=z(t);if(e){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return _}));var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(a,t);var e,n,o,i=B(a);function a(){return H(this,a),i.apply(this,arguments)}return e=a,o=[{key:"normalizeLocations",value:function(t){return t.map((function(t){var e=t.locations,n=t.start,r=t.end;return e?t:Object.assign(t,{locations:[{fragments:[{start:n,end:r}]}]})}))}},{key:"observedAttributes",get:function(){return O.a.observedAttributes.concat(["highlight","color","shape","filters"])}}],(n=[{key:"getLayout",value:function(){return"non-overlapping"===String(this.getAttribute("layout")).toLowerCase()?new A({layoutHeight:this._height}):new _({layoutHeight:this._height})}},{key:"connectedCallback",value:function(){var t=this;W(z(a.prototype),"connectedCallback",this).call(this),this._color=this.getAttribute("color"),this._shape=this.getAttribute("shape"),this._featureShape=new j,this._layoutObj=this.getLayout(),this._data&&this._createTrack(),this.addEventListener("load",(function(e){b(t.children,e.target)&&(t.data=e.detail.payload)}))}},{key:"processData",value:function(t){this._originalData=a.normalizeLocations(t)}},{key:"_getFeatureColor",value:function(t){return t.color?t.color:t.feature&&t.feature.color?t.feature.color:this._color?this._color:t.type?L(t.type):t.feature&&t.feature.type?L(t.feature.type):"black"}},{key:"_getFeatureFillColor",value:function(t){return t.fill?t.fill:t.feature&&t.feature.fill?t.feature.fill:this._getFeatureColor(t)}},{key:"_getShape",value:function(t){return t.shape?t.shape:t.feature&&t.feature.shape?t.feature.shape:this._shape?this._shape:t.type?M(t.type):t.feature&&t.feature.type?M(t.feature.type):"rectangle"}},{key:"_createTrack",value:function(){this._layoutObj.init(this._data),Object(r.l)(this).selectAll("div").remove(),this.svg=Object(r.l)(this).append("div").style("line-height",0).append("svg").attr("width",this.width).attr("height",this._height),this.trackHighlighter.appendHighlightTo(this.svg),this.seq_g=this.svg.append("g").attr("class","sequence-features"),this._createFeatures()}},{key:"_createFeatures",value:function(){var t=this;this.featuresG=this.seq_g.selectAll("g.feature-group").data(this._data),this.locations=this.featuresG.enter().append("g").attr("class","feature-group").attr("id",(function(t){return"g_".concat(t.accession)})).selectAll("g.location-group").data((function(t){return t.locations.map((function(e){return Object.assign({},e,{feature:t})}))})).enter().append("g").attr("class","location-group"),this.features=this.locations.selectAll("g.fragment-group").data((function(t){return t.fragments.map((function(e){return Object.assign({},e,{feature:t.feature})}))})).enter().append("path").attr("class",(function(e){return"".concat(t._getShape(e)," feature")})).attr("d",(function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))})).attr("transform",(function(e){return"translate(".concat(t.getXFromSeqPosition(e.start),",").concat(t._layoutObj.getFeatureYPos(e.feature),")")})).attr("fill",(function(e){return t._getFeatureFillColor(e)})).attr("stroke",(function(e){return t._getFeatureColor(e)})).style("fill-opacity",(function(t){var e=t.feature;return e.opacity?e.opacity:.9})).style("stroke-opacity",(function(t){var e=t.feature;return e.opacity?e.opacity:.9})).call(this.bindEvents,this)}},{key:"_applyFilters",value:function(){var t=this;if(!this._filters||this._filters.length<=0)this._data=this._originalData;else{var e=Object(v.a)(this._filters,"category"),n=Object.values(e).map((function(e){var n=e.map((function(e){return e.filterFn(t._originalData)}));return g.a.apply(void 0,F(n))})),r=m.a.apply(void 0,F(n));this._data=r}}},{key:"refresh",value:function(){var t=this;this.xScale&&this.seq_g&&(this.features=this.seq_g.selectAll("path.feature").data(this._data.reduce((function(t,e){return t.concat(e.locations.reduce((function(t,n){return t.concat(n.fragments.map((function(t){return Object.assign({},t,{feature:e})})))}),[]))}),[])),this.features.attr("d",(function(e){return t._featureShape.getFeatureShape(t.getSingleBaseWidth(),t._layoutObj.getFeatureHeight(e),e.end?e.end-e.start+1:1,t._getShape(e))})).attr("transform",(function(e){return"translate(".concat(t.getXFromSeqPosition(e.start),",").concat(t._layoutObj.getFeatureYPos(e.feature),")")})),this._updateHighlight())}},{key:"_updateHighlight",value:function(){this.trackHighlighter.updateHighlight()}},{key:"data",set:function(t){this.processData(t),this._applyFilters(),this._layoutObj=this.getLayout(),this._createTrack()}},{key:"filters",set:function(t){this._filters=t,this._applyFilters(),this._createTrack()}}])&&I(e.prototype,n),o&&I(e,o),a}(O.a);e.b=Y},596:function(t,e,n){"use strict";var r=n(592),o=[{name:"ECO:0000269",description:"Manual assertion based on experiment",shortDescription:"Publication",acronym:"EXP",isManual:!0},{name:"ECO:0000303",description:"Manual assertion based on opinion",shortDescription:"Publication",acronym:"NAS",isManual:!0},{name:"ECO:0000305",description:"Manual assertion inferred by curator",shortDescription:"Curated",acronym:"IC",isManual:!0},{name:"ECO:0000250",description:"Manual assertion inferred from sequence similarity",shortDescription:"By similarity",acronym:"ISS",isManual:!0},{name:"ECO:0000255",description:"Manual assertion according to rules",shortDescription:"Sequence Analysis",acronym:"ISM",isManual:!0},{name:"ECO:0000244",description:"Manual assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXM",isManual:!0},{name:"ECO:0000312",description:"Manual assertion inferred from database entries",shortDescription:"Imported",acronym:"MI",isManual:!0},{name:"ECO:0000256",description:"Automatic assertion according to rules",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000259",description:"Automatic assertion inferred from signature match",shortDescription:"Automatic annotation",acronym:"AA"},{name:"ECO:0000213",description:"Automatic assertion inferred from combination of experimental and computational evidence",shortDescription:"Combined sources",acronym:"MIXA"},{name:"ECO:0000313",description:"Automatic assertion inferred from database entries",shortDescription:"Imported",acronym:"AI"}];function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(t){return t.map((function(t){var e={};return t.begin&&(e.start=t.begin),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{},e)}))},u=function(t){return t?"\n      <ul>".concat(t.map((function(t){var e,n=o.find((function(e){return e.name===t.code}));return n?"<li title='".concat(n.description,'\' style="padding: .25rem 0">').concat(n.shortDescription,":&nbsp;").concat(t.source?(e=t.source).name.toLowerCase()==="PubMed".toLowerCase()?"".concat(e.id,"&nbsp;(<a href='").concat(e.url,"' style=\"color:#FFF\" target='_blank'>").concat(e.name,"</a>&nbsp;<a href='").concat(e.alternativeUrl,"' style=\"color:#FFF\" target='_blank'>EuropePMC</a>)"):"&nbsp;<a href='".concat(e.url,"' style=\"color:#FFF\" target='_blank'>").concat(e.id,"</a>&nbsp;(").concat(e.name,")"):"","</li>"):""})).join(""),"</ul>\n    "):""},s=function(t){return"<ul>".concat(t.map((function(t){return'<li style="padding: .25rem 0">'.concat(t.name," ").concat(t.url?'<a href="'.concat(t.url,'" style="color:#FFF" target="_blank">').concat(t.id,"</a>"):"".concat(t.name," ").concat(t.id),"</li>")})).join(""),"</ul>")},l=function(t){var e=u(t.evidences);return"\n      ".concat(t.description?"<h5>Description</h5><p>".concat(t.description,"</p>"):"","\n      ").concat(t.matchScore?"<h5>Match score</h5><p>".concat(t.matchScore,"%</p>"):"","\n      ").concat(t.ftId?"<h5>Feature ID</h5><p>".concat(t.ftId,"</p>"):"","\n      ").concat(t.alternativeSequence?"<h5>Alternative sequence</h5><p>".concat(t.alternativeSequence,"</p>"):"","\n      ").concat(e?"<h5>Evidence</h5>".concat(e):"","\n      ").concat(t.xrefs?"<h5>Cross-references</h5>".concat(s(t.xrefs)):"","\n        ")};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,g(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function y(t,e,n){return(y=b()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&v(o,n.prototype),o}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u}));var w=function(t){var e=[],n=t.features;return n&&n.length>0&&(e=n.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{tooltipContent:l(t),protvistaFeatureId:Object(r.v1)()})})),e=c(e)),e},j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=b(),function(){var t,r=g(e);if(n){var o=g(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._adaptedData=[],t}return r=c,(o=[{key:"connectedCallback",value:function(){this.subscribers=this.getAttribute("subscribers"),this._filters=this.getAttribute("filters")?this.getAttribute("filters").split(","):[],this._addLoaderListeners()}},{key:"parseEntry",value:function(t){this._adaptedData=w(t)}},{key:"filterData",value:function(){var t=this;Array.isArray(this._adaptedData)&&this._filters.length>0&&(this._adaptedData=this._adaptedData.filter((function(e){return t._filters.includes(e.type)})))}},{key:"_setSubscriberData",value:function(){var t=this;this.subscribers.forEach((function(e){var n=document.querySelector(e);n?n.data=t._adaptedData:console.error("Element with id '".concat(e,"' not found"))}))}},{key:"_emitEvent",value:function(t){this.parseEntry(t),this.filterData(),this.subscribers&&this._setSubscriberData(),this.dispatchEvent(new CustomEvent("load",{detail:{payload:this._adaptedData},bubbles:!0,cancelable:!0}))}},{key:"_addLoaderListeners",value:function(){var t=this;this.addEventListener("load",(function(e){if(e.target!==t){e.stopPropagation();try{if(e.detail.payload.errorMessage)throw e.detail.payload.errorMessage;t._emitEvent(e.detail.payload)}catch(e){t.dispatchEvent(new CustomEvent("error",{detail:e,bubbles:!0,cancelable:!0}))}}}))}},{key:"data",set:function(t){this._emitEvent(t)}},{key:"subscribers",set:function(t){t&&(this._subscribers=t.split(","))},get:function(){return this._subscribers}},{key:"adaptedData",get:function(){return this._adaptedData}}])&&p(r.prototype,o),i&&p(r,i),c}(d(HTMLElement));e.a=j},597:function(t,e,n){"use strict";var r=n(635),o=n(608);e.a=function(t,e,n,i){var a=!n;n||(n={});for(var c=-1,u=e.length;++c<u;){var s=e[c],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?Object(o.a)(n,s,l):Object(r.a)(n,s,l)}return n}},601:function(t,e,n){"use strict";var r=n(632),o=n(590),i=n(577),a=n(598),c=n(579),u=n(576),s=n(633),l=n(629),f=n(575),p=s.a&&1/Object(f.a)(new s.a([,-0]))[1]==1/0?function(t){return new s.a(t)}:l.a;var h=function(t,e,n){var r=-1,o=a.a,s=t.length,l=!0,h=[],d=h;if(n)l=!1,o=c.a;else if(s>=200){var y=e?null:p(t);if(y)return Object(f.a)(y);l=!1,o=u.a,d=new i.a}else d=e?[]:h;t:for(;++r<s;){var b=t[r],v=e?e(b):b;if(b=n||0!==b?b:0,l&&v==v){for(var g=d.length;g--;)if(d[g]===v)continue t;e&&d.push(v),h.push(b)}else o(d,v,n)||(d!==h&&d.push(v),h.push(b))}return h},d=n(599),y=Object(o.a)((function(t){return h(Object(r.a)(t,1,d.a,!0))}));e.a=y},602:function(t,e,n){"use strict";var r=n(566),o=n(577),i=n(598),a=n(579),c=n(615),u=n(576),s=Math.min;var l=function(t,e,n){for(var l=n?a.a:i.a,f=t[0].length,p=t.length,h=p,d=Array(p),y=1/0,b=[];h--;){var v=t[h];h&&e&&(v=Object(r.a)(v,Object(c.a)(e))),y=s(v.length,y),d[h]=!n&&(e||f>=120&&v.length>=120)?new o.a(h&&v):void 0}v=t[0];var g=-1,m=d[0];t:for(;++g<f&&b.length<y;){var O=v[g],w=e?e(O):O;if(O=n||0!==O?O:0,!(m?Object(u.a)(m,w):l(b,w,n))){for(h=p;--h;){var j=d[h];if(!(j?Object(u.a)(j,w):l(t[h],w,n)))continue t}m&&m.push(w),b.push(O)}}return b},f=n(590),p=n(599);var h=function(t){return Object(p.a)(t)?t:[]},d=Object(f.a)((function(t){var e=Object(r.a)(t,h);return e.length&&e[0]===t[0]?l(e):[]}));e.a=d},603:function(t,e,n){"use strict";var r=n(593);var o=function(t){return t?(t=Object(r.a)(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};e.a=function(t){var e=o(t),n=e%1;return e==e?n?e-n:e:0}},604:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},605:function(t,e,n){"use strict";var r=function(t,e){return null!=t&&e in Object(t)},o=n(569),i=n(621),a=n(561),c=n(616),u=n(627),s=n(562);var l=function(t,e,n){for(var r=-1,l=(e=Object(o.a)(e,t)).length,f=!1;++r<l;){var p=Object(s.a)(e[r]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++r!=l?f:!!(l=null==t?0:t.length)&&Object(u.a)(l)&&Object(c.a)(p,l)&&(Object(a.a)(t)||Object(i.a)(t))};e.a=function(t,e){return null!=t&&l(t,e,r)}},606:function(t,e,n){"use strict";var r=n(584),o=n(566),i=n(561),a=n(563),c=r.a?r.a.prototype:void 0,u=c?c.toString:void 0;var s=function t(e){if("string"==typeof e)return e;if(Object(i.a)(e))return Object(o.a)(e,t)+"";if(Object(a.a)(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};e.a=function(t){return null==t?"":s(t)}},607:function(t,e,n){"use strict";var r=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),c=a.length;c--;){var u=a[t?c:++o];if(!1===n(i[u],u,i))break}return e}}();e.a=r},612:function(t,e,n){"use strict";var r=n(631);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r.a),n}o.Cache=r.a,e.a=o},613:function(t,e,n){var r,o,i=n(580),a=n(581),c=0,u=0;t.exports=function(t,e,n){var s=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,b=d-c+(y-u)/1e4;if(b<0&&void 0===t.clockseq&&(p=p+1&16383),(b<0||d>c)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=y,o=p;var v=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;l[s++]=v>>>24&255,l[s++]=v>>>16&255,l[s++]=v>>>8&255,l[s++]=255&v;var g=d/4294967296*1e4&268435455;l[s++]=g>>>8&255,l[s++]=255&g,l[s++]=g>>>24&15|16,l[s++]=g>>>16&255,l[s++]=p>>>8|128,l[s++]=255&p;for(var m=0;m<6;++m)l[s+m]=f[m];return e||a(l)}},614:function(t,e,n){var r=n(580),o=n(581);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var c=0;c<16;++c)e[i+c]=a[c];return e||o(a)}},619:function(t,e,n){"use strict";var r=n(583);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,h(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)})(t)}function l(t,e,n){return(l=f()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&p(o,n.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},b=new Map,v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Headers({accept:"application/json"}),n=b.get(t);if(n)return n;var r=y(void 0,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.fetch(t,{headers:e});case 2:if((r=n.sent).ok){n.next=5;break}throw new Error("Request Failed: Status = ".concat(r.status,"; URI = ").concat(t,"; Time = ").concat(new Date));case 5:if(204!==r.status){n.next=7;break}return n.abrupt("return",{payload:null,headers:r.headers});case 7:return n.next=9,r.json();case 9:return o=n.sent,n.abrupt("return",{payload:o,headers:r.headers});case 11:case"end":return n.stop()}}),n)})));return b.set(t,r),r.catch((function(){return b.delete(t)})),r},g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(b,t);var e,n,o,a,s,l=(e=b,n=f(),function(){var t,r=h(e);if(n){var o=h(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return u(this,t)});function b(){var t;return d(this,b),(t=l.call(this))._data=null,t.selector=(t.getAttribute("selector")||"").trim()||function(t){return t},t}return o=b,s=[{key:"is",get:function(){return"data-loader"}}],(a=[{key:"fetch",value:function(){return y(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o,a,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=this.children,(e=Array.from(s).filter((function(t){return t.matches('source[src], script[type="application/json"]')}))).length){t.next=3;break}return t.abrupt("return");case 3:n=[],a=i(e),t.prev=5,a.s();case 7:if((c=a.n()).done){t.next=31;break}if(u=c.value,t.prev=9,!(u instanceof HTMLSourceElement)){t.next=22;break}return t.t0=Object,t.t1=Object,t.t2={},t.next=16,v(u.src);case 16:t.t3=t.sent,t.t4=t.t1.assign.call(t.t1,t.t2,t.t3),t.t5={srcElement:u,src:u.src},o=t.t0.assign.call(t.t0,t.t4,t.t5),t.next=23;break;case 22:o={payload:JSON.parse(u.textContent)};case 23:return t.abrupt("break",31);case 26:t.prev=26,t.t6=t.catch(9),n.push(t.t6);case 29:t.next=7;break;case 31:t.next=36;break;case 33:t.prev=33,t.t7=t.catch(5),a.e(t.t7);case 36:return t.prev=36,a.f(),t.finish(36);case 39:if(o){t.next=43;break}this._errors=n;try{this.dispatchEvent(new CustomEvent("error",{detail:n,bubbles:!0,cancelable:!0}))}catch(t){console.error(t)}return t.abrupt("return");case 43:"string"==typeof this.selector?this._data=Object(r.a)(o.payload,this.selector):this._data=this.selector(o.payload),o.payload=this.data,this.dispatchEvent(new CustomEvent("load",{detail:o,bubbles:!0,cancelable:!0}));case 46:case"end":return t.stop()}var s}),t,this,[[5,33,36,39],[9,26]])})))}},{key:"connectedCallback",value:function(){this.fetch()}},{key:"data",get:function(){return this._data}},{key:"loaded",get:function(){return!!this.data}},{key:"errors",get:function(){return this._errors}},{key:"selector",get:function(){return this._selector},set:function(t){this._selector=t}}])&&c(o.prototype,a),s&&c(o,s),b}(s(HTMLElement));e.a=g},620:function(t,e,n){"use strict";var r=n(685),o=n(565),i=n(645);var a=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},c=Object.prototype.hasOwnProperty;var u=function(t){if(!Object(o.a)(t))return a(t);var e=Object(i.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&c.call(t,r))&&n.push(r);return n},s=n(578);e.a=function(t){return Object(s.a)(t)?Object(r.a)(t,!0):u(t)}},625:function(t,e,n){"use strict";e.a=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},626:function(t,e,n){"use strict";var r=n(565),o=Object.create,i=function(){function t(){}return function(e){if(!Object(r.a)(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();e.a=i},628:function(t,e,n){"use strict";var r=n(622);e.a=function(t){var e=new t.constructor(t.byteLength);return new r.a(e).set(new r.a(t)),e}},634:function(t,e,n){"use strict";var r=n(670),o=Object(r.a)(Object.getPrototypeOf,Object);e.a=o},635:function(t,e,n){"use strict";var r=n(608),o=n(610),i=Object.prototype.hasOwnProperty;e.a=function(t,e,n){var a=t[e];i.call(t,e)&&Object(o.a)(a,n)&&(void 0!==n||e in t)||Object(r.a)(t,e,n)}},637:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},638:function(t,e,n){"use strict";var r=n(567);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function u(t,e,n){return(u=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,t);var e,n,o,c,u,p=(e=h,n=s(),function(){var t,r=f(e);if(n){var o=f(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return a(this,t)});function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this))._x=null,t._padding=0,t.dontDispatch=!1,t}return o=h,u=[{key:"observedAttributes",get:function(){return["length","displaystart","displayend","highlightStart","highlightEnd","width"]}}],(c=[{key:"_refreshWidth",value:function(){this.style.display="block",this.style.width="100%",this.width=this.offsetWidth,this.width>0&&(this._padding=10)}},{key:"connectedCallback",value:function(){this._refreshWidth(),this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this)),this._length=parseFloat(this.getAttribute("length")),this._displaystart=parseFloat(this.getAttribute("displaystart"))||1,this._displayend=parseFloat(this.getAttribute("displayend"))||this._length,this._highlightStart=parseFloat(this.getAttribute("highlightStart")),this._highlightEnd=parseFloat(this.getAttribute("highlightEnd")),this._onResize=this._onResize.bind(this),this._createNavRuler()}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this),this._ro&&this._ro.unobserve(this),window.removeEventListener("resize",this._onResize)}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&(this["_".concat(t)]=parseFloat(n),this._updateNavRuler())}},{key:"_createNavRuler",value:function(){var t=this;this._x=Object(r.i)().range([this._padding,this.width-this._padding]),this._x.domain([1,this._length]),this._svg=Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",40),this._xAxis=Object(r.a)(this._x),this._displaystartLabel=this._svg.append("text").attr("class","start-label").attr("x",0).attr("y",40-this._padding),this._displayendLabel=this._svg.append("text").attr("class","end-label").attr("x",this.width).attr("y",40-this._padding).attr("text-anchor","end"),this._axis=this._svg.append("g").attr("class","x axis").call(this._xAxis),this._viewport=Object(r.d)().extent([[this._padding,0],[this.width-this._padding,20.4]]).on("brush",(function(){r.e.selection&&(t._displaystart=Object(r.f)("d")(t._x.invert(r.e.selection[0])),t._displayend=Object(r.f)("d")(t._x.invert(r.e.selection[1])),t.dontDispatch||t.dispatchEvent(new CustomEvent("change",{detail:{displayend:t._displayend,displaystart:t._displaystart,extra:{transform:r.e.transform}},bubbles:!0,cancelable:!0})),t._updateLabels(),t._updatePolygon())})),this._brushG=this._svg.append("g").attr("class","brush").call(this._viewport),this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.polygon=this._svg.append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),this._updateNavRuler(),"ResizeObserver"in window&&(this._ro=new ResizeObserver(this._onResize),this._ro.observe(this)),window.addEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){this._refreshWidth(),this._x=this._x.range([this._padding,this.width-this._padding]),this._svg.attr("width",this.width),this._viewport.extent([[this._padding,0],[this.width-this._padding,20.4]]),this._brushG.call(this._viewport),this._updateNavRuler()}},{key:"_updateNavRuler",value:function(){this._x&&(this._x.domain([1,this._length]),this._axis.call(this._xAxis),this._updatePolygon(),this._updateLabels(),this._brushG&&(this.dontDispatch=!0,this._brushG.call(this._viewport.move,[this._x(this._displaystart),this._x(this._displayend)]),this.dontDispatch=!1))}},{key:"_updateLabels",value:function(){this._displaystartLabel&&this._displaystartLabel.text(this._displaystart),this._displayendLabel&&this._displayendLabel.attr("x",this.width).text(this._displayend)}},{key:"_updatePolygon",value:function(){this.polygon&&this.polygon.attr("points","".concat(this._x(this._displaystart),",").concat(20,"\n        ").concat(this._x(this._displayend),",").concat(20,"\n        ").concat(this.width,",").concat(40,"\n        0,").concat(40))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}}])&&i(o.prototype,c),u&&i(o,u),h}(c(HTMLElement));e.a=p},639:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,a,c,f=(e=p,n=u(),function(){var t,r=l(e);if(n){var o=l(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return i(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this)).protvistaElements=new Set,t.attributeValues=new Map,t.propertyValues=new Map,t.mouseOver=!1,t}return r=p,c=[{key:"observedAttributes",get:function(){return["attributes"]}}],(a=[{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n&&"attributes"===t){if(this._attributes=n.split(" "),-1!==this._attributes.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==this._attributes.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute")}}},{key:"register",value:function(t){this.protvistaElements.add(t)}},{key:"unregister",value:function(t){this.protvistaElements.delete(t)}},{key:"_polyfillElementClosest",value:function(){var t=this;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=t;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null})}},{key:"applyAttributes",value:function(){var t=this;this.protvistaElements.forEach((function(e){t.attributeValues.forEach((function(t,n){!1===t?e.removeAttribute(n):e.setAttribute(n,"boolean"==typeof t?"":t)}))}))}},{key:"applyProperties",value:function(t){var e=this;if(t){var n=this.querySelector("#".concat(t));this.propertyValues.forEach((function(t,e){n[e]=t}))}else this.protvistaElements.forEach((function(t){e.propertyValues.forEach((function(e,n){t[n]=e}))}))}},{key:"_changeListener",value:function(t){var e=this;switch(t.detail.handler){case"property":this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for);break;default:-1!==this._attributes.indexOf(t.detail.type)&&this.attributeValues.set(t.detail.type,t.detail.value),Object.keys(t.detail).forEach((function(n){-1!==e._attributes.indexOf(n)&&e.attributeValues.set(n,t.detail[n])})),this.applyAttributes()}}},{key:"connectedCallback",value:function(){this.addEventListener("change",this._changeListener)}}])&&o(r.prototype,a),c&&o(r,c),p}(a(HTMLElement));e.a=f},641:function(t,e,n){"use strict";var r=n(658),o=n(634),i=n(646),a=n(671),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(r.a)(e,Object(i.a)(t)),t=Object(o.a)(t);return e}:a.a;e.a=c},643:function(t,e,n){"use strict";(function(t){var r=n(589);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,c=a&&a.exports===i?r.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(642)(t))},644:function(t,e,n){"use strict";var r=n(626),o=n(634),i=n(645);e.a=function(t){return"function"!=typeof t.constructor||Object(i.a)(t)?{}:Object(r.a)(Object(o.a)(t))}},648:function(t,e,n){"use strict";var r=n(628);e.a=function(t,e){var n=e?Object(r.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},649:function(t,e,n){"use strict";var r=n(672),o=n(641),i=n(620);e.a=function(t){return Object(r.a)(t,i.a,o.a)}},650:function(t,e,n){"use strict";var r=n(567),o=n(591);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n,r){return(u="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var o,i=l(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,e)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,e,o)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(r,e,n);return!0})(t,e,n,r)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=l(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,t);var e,n,i,l=p(h);function h(){return a(this,h),l.apply(this,arguments)}return e=h,i=[{key:"observedAttributes",get:function(){return o.a.observedAttributes.concat("highlightstart","highlightend")}}],(n=[{key:"connectedCallback",value:function(){var t=this;s(d(h.prototype),"connectedCallback",this).call(this),this.sequence=this.getAttribute("sequence"),this.sequence&&this._createSequence(),this.addEventListener("load",(function(e){t.data=e.detail.payload}))}},{key:"_getCharSize",value:function(){if(this.seq_g){var t=this.seq_g.select("text.base").node();if(t)this.chWidth=.8*t.getBBox().width,this.chHeight=1.6*t.getBBox().height;else{var e=this.seq_g.append("text").attr("class","base").text("T");this.chWidth=.8*e.node().getBBox().width,this.chHeight=1.6*e.node().getBBox().height,e.remove()}}}},{key:"_createSequence",value:function(){!function(t,e,n,r,o){if(!u(t,e,n,r||t)&&o)throw new Error("failed to set property")}(d(h.prototype),"svg",Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",this._height),this,!0),this.seq_bg=s(d(h.prototype),"svg",this).append("g").attr("class","background"),this.axis=s(d(h.prototype),"svg",this).append("g").attr("class","x axis"),this.seq_g=s(d(h.prototype),"svg",this).append("g").attr("class","sequence").attr("transform","translate(0,".concat(.75*this._height,")")),this.trackHighlighter.appendHighlightTo(this.svg),this.refresh()}},{key:"refresh",value:function(){var t=this;if(this._getCharSize(),this.axis){var e=this.getSingleBaseWidth(),n=e-this.chWidth,o=e/2,i=Math.round(Math.max(0,this._displaystart-2)),a=Math.round(Math.min(this.sequence.length,this._displayend+1)),c=n<0?[]:this.sequence.slice(i,a).split("").map((function(t,e){return{start:1+i+e,end:1+i+e,aa:t}}));this.height>this.chHeight&&(this.xAxis=Object(r.a)(this.xScale).tickFormat((function(t){return Number.isInteger(t)?t:""})).ticks(3,"s"),this.axis.call(this.xAxis)),this.axis.attr("transform","translate(".concat(this.margin.left+o,",0)")),this.axis.select(".domain").remove(),this.axis.selectAll(".tick line").remove(),this.bases=this.seq_g.selectAll("text.base").data(c,(function(t){return t.start})),this.bases.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(function(e){return t.getXFromSeqPosition(e.start)+o})).text((function(t){return t.aa})).style("pointer-events","none").style("font-family","monospace"),this.bases.exit().remove(),this.bases.attr("x",(function(e){return t.getXFromSeqPosition(e.start)+o})),this.background=this.seq_bg.selectAll("rect.base_bg").data(c,(function(t){return t.start})),this.background.enter().append("rect").attr("class","base_bg feature").attr("height",this._height).merge(this.background).attr("width",e).attr("fill",(function(t){return Math.round(t.start)%2?"#ccc":"#eee"})).attr("x",(function(e){return t.getXFromSeqPosition(e.start)})).call(this.bindEvents,this),this.background.exit().remove(),this.seq_g.style("opacity",Math.min(1,n)),this.background.style("opacity",Math.min(1,n)),this._updateHighlight()}}},{key:"_updateHighlight",value:function(){this.trackHighlighter.updateHighlight()}},{key:"data",get:function(){return this.sequence},set:function(t){"string"==typeof t?this.sequence=t:"sequence"in t&&(this.sequence=t.sequence),this.sequence&&!s(d(h.prototype),"svg",this)?this._createSequence():this.refresh()}}])&&c(e.prototype,n),i&&c(e,i),h}(o.a);e.a=y},651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(56));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){var e=t.children,n=t.width,i=t.height,a=t.style,c=void 0===a?{}:a,u=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["children","width","height","style"]);return o.default.createElement("svg",r({children:e,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:i,width:n,style:c},u))};c.propTypes={children:i.default.node.isRequired,width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object},e.default=c},653:function(t,e,n){"use strict";var r=n(596),o=n(592),i=n(587),a=function(t){return"<h4>UniProt</h4>\n        ".concat(t.descriptionArray&&t.descriptionArray.UP?"<h5>Description</h5><p>".concat(t.descriptionArray.UP.join("; "),"</p>"):"","\n        ").concat(t.ftId?"<h5>Feature ID</h5><p>".concat(t.ftId,"</p>"):"","\n        ").concat(t.association?t.association.map((function(t){return"\n              <h4>Disease association</h4><p>".concat(t.name,"</p>\n              ").concat(t.xrefs?"<h5>Cross-references</h5>".concat(Object(r.b)(t.xrefs)):"","\n              ").concat(Object(r.c)(t.evidences),"\n          ")})).join(""):"","\n        ")},c=function(t){var e,n;return t.description&&(t.descriptionArray=(e=t.description,n=e.split(/\[LSS_|\[SWP]: /g),(n=Object(i.a)(n,(function(t){return 0===t.length?"NOTHING":-1!==t.indexOf("]: ")?"LSS":"UP"}))).LSS=n.LSS?n.LSS.join("; ").replace(/]: /g,": "):void 0,n)),"\n                <h5>Variant</h5><p>".concat(t.wildType," > ").concat(t.alternativeSequence,"</p>\n                ").concat(t.frequency?"<h5>Frequency (MAF)</h5><p>".concat(t.frequency,"</p>"):"","\n                ").concat(t.siftScore?"<h5>SIFT</h5><p>".concat(t.siftPrediction," ").concat(t.siftScore,"</p>"):"","\n                ").concat(t.polyphenScore?"<h5>Polyphen</h5><p>".concat(t.polyphenPrediction," ").concat(t.polyphenScore,"</p>"):"","\n                ").concat(t.consequenceType?"<h5>Consequence</h5><p>".concat(t.consequenceType,"</p>"):"","\n                ").concat(t.somaticStatus?"<h5>Somatic</h5><p>".concat(0===t.somaticStatus?"No":"Yes","</p>"):"","\n                ").concat(t.genomicLocation?"<h5>Location</h5><p>".concat(t.genomicLocation,"</p>"):"","\n                ").concat("UniProt"===t.sourceType||"mixed"===t.sourceType?"<hr/>".concat(a(t)):"","\n                ").concat("large_scale_study"===t.sourceType||"mixed"===t.sourceType?"<hr/>".concat(function(t){return"<h4>Large scale studies</h4>\n        ".concat(t.descriptionArray&&t.descriptionArray.LSS?"<h5>Description</h5><p>".concat(t.descriptionArray.LSS,"</p>"):"","\n        ").concat(t.frequency?"<h5>Frequency (MAF)</h5><p>".concat(t.frequency,"</p>"):"","\n        <h5>Cross-references</h5>").concat(Object(r.b)(t.xrefs),"\n        ")}(t)):"","\n        ")};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,n,r,i=h(a);function a(){return s(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"connectedCallback",value:function(){f(y(a.prototype),"connectedCallback",this).call(this),this.closest("protvista-manager")&&(this.manager=this.closest("protvista-manager"),this.manager.register(this))}},{key:"disconnectedCallback",value:function(){this.manager&&this.manager.unregister(this)}},{key:"parseEntry",value:function(t){this._adaptedData=function(t){var e=t.sequence,n=t.features.map((function(t){return{type:"Variant",accession:t.genomicLocation,variant:t.alternativeSequence,start:t.begin,end:t.end,tooltipContent:c(t),association:t.association,sourceType:t.sourceType,xrefNames:(e=t.xrefs,n=t.sourceType,r=e?e.map((function(t){return t.name})):[],"uniprot"!==n&&"mixed"!==n||r.push("uniprot"),r),clinicalSignificances:t.clinicalSignificances,polyphenScore:t.polyphenScore,siftScore:t.siftScore,protvistaFeatureId:Object(o.v1)()};var e,n,r}));return n?{sequence:e,variants:n}:null}(t)}},{key:"_fireEvent",value:function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))}}])&&l(e.prototype,n),r&&l(e,r),a}(r.a);e.a=b},656:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!l){var t=c(p);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new d(t,e)),1!==s.length||l||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},663:function(t,e,n){"use strict";var r=n(586),o=n(637),i=n(635),a=n(597),c=n(570);var u=function(t,e){return t&&Object(a.a)(e,Object(c.a)(e),t)},s=n(620);var l=function(t,e){return t&&Object(a.a)(e,Object(s.a)(e),t)},f=n(643),p=n(625),h=n(646);var d=function(t,e){return Object(a.a)(t,Object(h.a)(t),e)},y=n(641);var b=function(t,e){return Object(a.a)(t,Object(y.a)(t),e)},v=n(623),g=n(649),m=n(609),O=Object.prototype.hasOwnProperty;var w=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&O.call(t,"index")&&(n.index=t.index,n.input=t.input),n},j=n(628);var S=function(t,e){var n=e?Object(j.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},_=/\w*$/;var P=function(t){var e=new t.constructor(t.source,_.exec(t));return e.lastIndex=t.lastIndex,e},E=n(584),x=E.a?E.a.prototype:void 0,k=x?x.valueOf:void 0;var R=function(t){return k?Object(k.call(t)):{}},C=n(648);var T=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Object(j.a)(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return S(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(C.a)(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return P(t);case"[object Set]":return new r;case"[object Symbol]":return R(t)}},A=n(644),D=n(561),M=n(618),L=n(564);var q=function(t){return Object(L.a)(t)&&"[object Map]"==Object(m.a)(t)},F=n(615),N=n(647),H=N.a&&N.a.isMap,I=H?Object(F.a)(H):q,W=n(565);var V=function(t){return Object(L.a)(t)&&"[object Set]"==Object(m.a)(t)},B=N.a&&N.a.isSet,U=B?Object(F.a)(B):V,z={};z["[object Arguments]"]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z["[object Object]"]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z["[object Function]"]=z["[object WeakMap]"]=!1;e.a=function t(e,n,a,s,h,y){var O,j=1&n,S=2&n,_=4&n;if(a&&(O=h?a(e,s,h,y):a(e)),void 0!==O)return O;if(!Object(W.a)(e))return e;var P=Object(D.a)(e);if(P){if(O=w(e),!j)return Object(p.a)(e,O)}else{var E=Object(m.a)(e),x="[object Function]"==E||"[object GeneratorFunction]"==E;if(Object(M.a)(e))return Object(f.a)(e,j);if("[object Object]"==E||"[object Arguments]"==E||x&&!h){if(O=S||x?{}:Object(A.a)(e),!j)return S?b(e,l(O,e)):d(e,u(O,e))}else{if(!z[E])return h?e:{};O=T(e,E,j)}}y||(y=new r.a);var k=y.get(e);if(k)return k;y.set(e,O),U(e)?e.forEach((function(r){O.add(t(r,n,a,r,e,y))})):I(e)&&e.forEach((function(r,o){O.set(o,t(r,n,a,o,e,y))}));var R=_?S?g.a:v.a:S?keysIn:c.a,C=P?void 0:R(e);return Object(o.a)(C||e,(function(r,o){C&&(r=e[o=r]),Object(i.a)(O,o,t(r,n,a,o,e,y))})),O}},665:function(t,e,n){"use strict";var r=n(595),o=n(567),i=n(601),a=n(602),c=n(587);var u=function(t){var e=t.variants,n=t.sequence;if(!n||!e)return null;var r=n.split("").map((function(t,e){return{type:"VARIANT",normal:t,pos:e+1,variants:[]}}));return e.forEach((function(t){r[t.start-1]&&r[t.start-1].variants.push(t)})),r};function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._frequency=Object(o.k)().exponent(.001).domain([0,1]).range([5,10]),this.drawVariationPlot=this.drawVariationPlot.bind(this)}var e,n,r;return e=t,(n=[{key:"drawVariationPlot",value:function(t,e){var n=e.getSingleBaseWidth()/2;t.each((function(t,r,i){var a=Object(o.l)(i[r]),c=t.filter((function(t){return 0!==t.variants.length})),u=a.selectAll("g").data(c,(function(t){return t.pos}));u.exit().remove();var s=u.enter().append("g").merge(u).selectAll("circle").data((function(t){return t.variants}));s.exit().remove(),s.enter().append("circle").merge(s).attr("class","feature").attr("title",(function(t){return t.start})).attr("r",(function(t){return t.size?t.size:5})).attr("cx",(function(t){return e.getXFromSeqPosition(t.start)+n})).attr("cy",(function(t){return e._yScale(t.variant.charAt(0))})).attr("name",(function(t){var e="*"===t.alternativeSequence?"STOP":t.alternativeSequence;return t.internalId="var_".concat(t.wildType).concat(t.start).concat(e),t.internalId})).attr("fill",(function(t){return e._colorConfig?e._colorConfig(t):t.color})).call(e.bindEvents,e)}))}}])&&s(e.prototype,n),r&&s(e,r),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n,r){return(d="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var o,i=v(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,e)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,e,o)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(r,e,n);return!0})(t,e,n,r)}function y(t,e,n,r,o){if(!d(t,e,n,r||t)&&o)throw new Error("failed to set property");return n}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _=["G","A","V","L","I","S","T","C","M","D","N","E","Q","R","K","H","F","Y","W","P","d","*"],P=function(t,e){if(!t||t.length<=0)return null;var n=t[0];return n.forEach((function(n,r){var o=t.map((function(t){return t[r].variants}));n.variants=e.apply(void 0,j(o))})),n},E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(f,t);var e,n,r,s=m(f);function f(){return p(this,f),s.apply(this,arguments)}return e=f,r=[{key:"css",get:function(){return"\n    <style>\n    protvista-variation {\n      display: flex;\n      width: 100%;\n    }\n    \n    protvista-variation svg {\n      background-color: #fff;\n    }\n    \n    protvista-variation circle {\n      opacity: 0.6;\n    }\n    protvista-variation circle:hover {\n      opacity: 0.9;\n    }\n    protvista-variation .tick line,\n    protvista-variation .axis path {\n      opacity: 0.1;\n    }\n    \n    .protvista-highlight {\n      fill: #ffe999;\n    }\n    \n    protvista-variation .variation-y-right line,\n    protvista-variation .axis path {\n      fill: none;\n      stroke: none;\n    }\n    \n    </style>\n    "}}],(n=[{key:"connectedCallback",value:function(){b(w(f.prototype),"connectedCallback",this).call(this);var t=document.createElement("style");t.innerHTML=f.css,this.appendChild(t),this._height=Number(this.getAttribute("height"))?Number(this.getAttribute("height")):430,this._width=this._width?this._width:0,this._yScale=Object(o.i)(),this._yScale=Object(o.j)().domain(_).range([0,this._height-this.margin.top-this.margin.bottom])}},{key:"processData",value:function(t){this._originalData=u(t)}},{key:"_createFeatures",value:function(){this._variationPlot=new l;var t=b(w(f.prototype),"svg",this).select("g.sequence-features"),e=t.attr("transform","translate(0, ".concat(this.margin.top,")")).append("g").attr("clip-path","url(#plotAreaClip)");this._clipPath=t.append("clipPath").attr("id","plotAreaClip").append("rect").attr("width",this.getWidthWithMargins()).attr("height",this._height).attr("transform","translate(0, -".concat(this.margin.top,")")),this._series=e.datum(this._data),this._axisLeft=t.append("g"),this._axisRight=t.append("g"),this.updateScale()}},{key:"_applyFilters",value:function(){var t=this;if(!this._filters||this._filters.length<=0)this._data=this._originalData;else{var e=Object(c.a)(this._filters,"category"),n=Object.values(e).map((function(e){var n=e.map((function(e){return e.filterFn(t._originalData)}));return P(n,i.a)}));this._data=P(n,a.a)}}},{key:"refresh",value:function(){this._series&&(this._clipPath.attr("width",this.getWidthWithMargins()),this.updateScale(),this._series.call(this._variationPlot.drawVariationPlot,this),this._updateHighlight())}},{key:"updateScale",value:function(){this._yAxisLScale=Object(o.b)().scale(this._yScale).tickSize(-this.getWidthWithMargins()),this._yAxisRScale=Object(o.c)().scale(this._yScale),this._axisLeft.attr("class","variation-y-left axis").attr("transform","translate(".concat(this.margin.left,",0)")).call(this._yAxisLScale),this._axisRight.attr("transform","translate(".concat(this.getWidthWithMargins()-this.margin.right+2,", 0)")).attr("class","variation-y-right axis").call(this._yAxisRScale)}},{key:"updateData",value:function(t){this._series&&this._series.datum(t)}},{key:"filters",set:function(t){y(w(f.prototype),"filters",t,this,!0),this.updateData(this._data),this.refresh()}},{key:"colorConfig",set:function(t){this._colorConfig=t},get:function(){return this._colorConfig}}])&&h(e.prototype,n),r&&h(e,r),f}(r.b);e.a=E},682:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(744);e.getDocumentBaseUrl=function(t){return"about:blank"!==t.baseURI?t.baseURI:null},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},e.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])},e.joinUrl=function(t,e){return t?o.resolve(t,e):e},e.isDataUri=function(t){return/^data:/.test(t)},e.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map((function(t){return t.catch((function(t){e.push(t)}))}))).then((function(){return e}))};var i=null;e.ajax=function(t,n){return new Promise((function(r,o){var a,c=new window.XMLHttpRequest,u=e.joinUrl(n.baseUrl,t),s=function(){o({msg:"Unable to load url",url:u})};a=function(t,e){return!1===e||"none"===e||"repeated"===e?(null!==i&&"repeated"===e||(i=Date.now()),t+"?_="+i):t}(u,n.cache),c.addEventListener("load",(function(){200===c.status||0===c.status?r(c.response):s()}),!1),c.addEventListener("error",s,!1);try{c.open("GET",a,!0),c.overrideMimeType(n.mimeType),c.send(null)}catch(t){s()}}))},e.binaryAjax=function(t,n){var r=e.clone(n);return r.mimeType="text/plain; charset=x-user-defined",e.ajax(t,r).then((function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e}))};e.getDataURIForImageURL=function(t,n){return e.binaryAjax(t,n).then((function(t){var e=btoa(t);return"data:"+function(t){var e=function(t,e){return t.substring(0,e.length)===e};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"}(t)+";base64,"+e}))};var a=[],c=function(t){return a.indexOf(t)<0&&a.push(t),a.indexOf(t)};e.memoize=function(t,e,n){if("object"!==r(n))throw new Error("cacheBucket is not an object");return function(){var r,o=Array.prototype.slice.call(arguments),i=e(o),a=c(t);return n[a]&&n[a][i]?n[a][i]:(r=t.apply(null,o),n[a]=n[a]||{},n[a][i]=r,r)}}},702:function(t,e,n){"use strict";var r=n(567),o=n(650),i=n(585),a=n(703),c=n(704),u=n(705),s=n(706);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=["hydrophobicity-interface-scale","hydrophobicity-octanol-scale","hydrophobicity-scale","isoelectric-point-scale"],g={domain:[-2,2],range:["#ffdd00","#0000FF"]},m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(b,t);var e,n,l,y=d(b);function b(){return f(this,b),y.apply(this,arguments)}return e=b,l=[{key:"observedAttributes",get:function(){return o.a.observedAttributes.concat("scale","color_range")}}],(n=[{key:"_createSequence",value:function(){this.svg=Object(r.l)(this).append("div").attr("class","").append("svg").attr("id","").attr("width",this.width).attr("height",this._height),this.uniqueID=Math.random().toString(36).substring(7),this.gradient=this.svg.append("defs").append("linearGradient").attr("id","scale-gradient-".concat(this.uniqueID)),this.seq_g=this.svg.append("g").attr("class","background"),this.seq_greadient=this.svg.append("rect").attr("class","seq-gradient").style("pointer-events","none"),this._getCharSize(),this.trackHighlighter.appendHighlightTo(this.svg),this.refresh()}},{key:"getScaleFromAttribute",value:function(){var t=null;if(v.indexOf(this._scale)>=0)switch(this._scale){case"hydrophobicity-scale":return u;case"hydrophobicity-interface-scale":return a;case"isoelectric-point-scale":return s;case"hydrophobicity-octanol-scale":return c;default:return null}if(/([ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)(,[ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)*/.test(this._scale))try{t=Object(i.c)(this._scale,{keyFormatter:function(t){return t.toUpperCase()},valueFormatter:function(t){return parseFloat(t)}})}catch(t){console.error("Couldn't parse the given scale ".concat(this._scale),t)}return t}},{key:"refresh",value:function(){var t=this;if(this.seq_g){var e=this.getScaleFromAttribute();if(null===e)return void console.error("The attribute scale is not valid.");var n=Object(r.i)();this.colorScale=g,this._color_range&&(this.colorScale=Object(i.a)(this._color_range)),n.domain(this.colorScale.domain).range(this.colorScale.range);var o=this.getSingleBaseWidth(),a=Math.round(Math.max(0,this._displaystart-2)),c=Math.round(Math.min(this.sequence.length,this._displayend+1)),u=this.sequence.slice(a,c).split("").map((function(t,r){var o=t.toUpperCase()in e?e[t.toUpperCase()]:0;return{start:1+a+r,end:1+a+r,aa:t,value:o,colour:n(o)}}));this.residues=this.seq_g.selectAll("rect.base_bg").data(o<8?[]:u,(function(t){return t.start})),this.residues.enter().append("rect").attr("class","base_bg feature").attr("data-base",(function(t){return t.aa})).attr("data-pos",(function(t){return t.start})).attr("height",this._height).merge(this.residues).attr("width",o).attr("fill",(function(t){return t.colour})).attr("x",(function(e){var n=e.start;return t.getXFromSeqPosition(n)})).call(this.bindEvents,this),this.residues.exit().remove();var s=this.gradient.selectAll("stop").data(this.sequence.split(""));s.enter().append("stop").merge(s).attr("offset",(function(e,n){return(n+.5)/t.sequence.length})).attr("stop-color",(function(t){return n(t.toUpperCase()in e?e[t.toUpperCase()]:0)})),this.gradient.exit().remove(),this.seq_greadient.attr("x",this.getXFromSeqPosition(1)).attr("y",0).attr("height",this._height).attr("width",this.getXFromSeqPosition(this.sequence.length)-this.getXFromSeqPosition(0)).style("opacity",o<8?1:8/o).attr("fill","url(#scale-gradient-".concat(this.uniqueID,")")),this._updateHighlight()}}}])&&p(e.prototype,n),l&&p(e,l),b}(o.a);e.a=m},703:function(t){t.exports=JSON.parse('{"I":-0.31,"L":-0.56,"F":-1.13,"V":0.07,"M":-0.23,"P":0.45,"W":-1.85,"H":0.17,"T":0.14,"E":-0.01,"Q":0.58,"C":-0.24,"Y":-0.94,"A":0.17,"S":0.13,"N":0.42,"D":-0.07,"R":0.81,"G":0.01,"K":0.99}')},704:function(t){t.exports=JSON.parse('{"I":-1.12,"L":-1.25,"F":-1.71,"V":-0.46,"M":-0.67,"P":0.14,"W":-2.09,"H":0.11,"T":0.25,"E":0.11,"Q":0.77,"C":-0.02,"Y":-0.71,"A":0.5,"S":0.46,"N":0.85,"D":0.43,"R":1.15,"G":3.63,"K":3.64}')},705:function(t){t.exports=JSON.parse('{"I":-0.81,"L":-0.69,"F":-0.58,"V":-0.53,"M":-0.44,"P":-0.31,"W":-0.24,"H":-0.06,"T":0.11,"E":0.12,"Q":0.19,"C":0.22,"Y":0.23,"A":0.33,"S":0.33,"N":0.43,"D":0.5,"R":1.14,"G":1.61,"K":2.41}')},706:function(t){t.exports=JSON.parse('{"I":6.04,"L":6.04,"F":5.91,"V":6.02,"M":5.74,"P":6.3,"W":5.88,"H":7.64,"T":5.6,"E":3.08,"Q":5.65,"C":5.02,"Y":5.63,"A":6.11,"S":5.68,"N":5.41,"D":2.87,"R":10.76,"G":6.06,"K":9.47}')},710:function(t,e,n){"use strict";(function(t,r){var o,i=n(711);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(this,n(112),n(642)(t))},711:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},712:function(t,e,n){"use strict";(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(114);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function a(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var c=n(713),u=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function f(t){return Object.prototype.toString.call(t)}function p(t){return!a(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=m,d=/\s*function\s+([^\(\s]*)\s*/;function y(t){if(c.isFunction(t)){if(l)return t.name;var e=t.toString().match(d);return e&&e[1]}}function b(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(l||!c.isFunction(t))return c.inspect(t);var e=y(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,n,r,o){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function m(t,e){t||g(t,!0,e,"==",h.ok)}function O(t,e,n,o){if(t===e)return!0;if(a(t)&&a(e))return 0===i(t,e);if(c.isDate(t)&&c.isDate(e))return t.getTime()===e.getTime();if(c.isRegExp(t)&&c.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===r(t)||null!==e&&"object"===r(e)){if(p(t)&&p(e)&&f(t)===f(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===o.expected.indexOf(e)||(o.actual.push(t),o.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(c.isPrimitive(t)||c.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=w(t),i=w(e);if(o&&!i||!o&&i)return!1;if(o)return t=s.call(t),e=s.call(e),O(t,e,n);var a,u,l=_(t),f=_(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),u=l.length-1;u>=0;u--)if(l[u]!==f[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!O(t[a],e[a],n,r))return!1;return!0}(t,e,n,o))}return n?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function j(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&g(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!t&&o&&!n;if((!t&&c.isError(o)&&i&&j(o,n)||a)&&g(o,n,"Got unwanted exception"+r),t&&o&&n&&!j(o,n)||!t&&o)throw o}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return b(v(t.actual),128)+" "+t.operator+" "+b(v(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=y(e),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},c.inherits(h.AssertionError,Error),h.fail=g,h.ok=m,h.equal=function(t,e,n){t!=e&&g(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&g(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){O(t,e,!1)||g(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){O(t,e,!0)||g(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){O(t,e,!1)&&g(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){O(e,n,!0)&&g(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&g(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&g(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){S(!0,t,e,n)},h.doesNotThrow=function(t,e,n){S(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=o((function t(e,n){e||g(e,!0,n,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var _=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}}).call(this,n(112))},713:function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])b(c)||!w(c)?a+=" "+c:a+=" "+u(c);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var a,c={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),f(r,t,r.depth)}function s(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return g(o)||(o=f(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(b(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),c=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(_(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(O(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return p(n)}var s,l="",w=!1,P=["{","}"];(d(n)&&(w=!0,P=["[","]"]),_(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return O(n)&&(l=" "+RegExp.prototype.toString.call(n)),j(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+p(n)),0!==a.length||w&&0!=n.length?r<0?O(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=w?function(t,e,n,r,o){for(var i=[],a=0,c=e.length;a<c;++a)R(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))})),i}(t,n,r,c,a):a.map((function(e){return h(t,n,r,c,e,w)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(s,l,P)):P[0]+l+P[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var a,c,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),R(r,o)||(a="["+o+"]"),c||(t.seen.indexOf(u.value)<0?(c=b(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),m(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function b(t){return null===t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function m(t){return void 0===t}function O(t){return w(t)&&"[object RegExp]"===P(t)}function w(t){return"object"===r(t)&&null!==t}function j(t){return w(t)&&"[object Date]"===P(t)}function S(t){return w(t)&&("[object Error]"===P(t)||t instanceof Error)}function _(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(a)&&(a=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!c[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=t.pid;c[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else c[n]=function(){};return c[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=b,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=g,e.isSymbol=function(t){return"symbol"===r(t)},e.isUndefined=m,e.isRegExp=O,e.isObject=w,e.isDate=j,e.isError=S,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===r(t)||void 0===t},e.isBuffer=n(714);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(715),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=C,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(T,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,o(e)),n}}).call(this,n(656))},714:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&"object"===n(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},715:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},716:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(651));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M4 0H0v4h1V1h3V0zm11 0h-3v1h3v3h1V0h-1zM1 15v-3H0v4h4v-1H1zm14-3v3h-3v1h4v-4h-1zm-2-3l-.008-.003L11.5 10.5 9 8l2.5-2.5L12.971 7H13V3H9v.03l1.5 1.47L8 7 5.5 4.5 7 3.03V3H3v4l1.5-1.5L7 8l-2.5 2.5L3 9v4h4l-1.5-1.5L8 9l2.5 2.5L9 13h4V9z"}))}},717:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(651));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.013 1.012V15h13.999V1.012H.013zm10.999 7.995H8.013v2.999h-2V9.007h-3V7.008h3V4.01h2v2.998h2.999v1.999z"}))}},718:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=a(n(0)),i=a(n(651));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return o.default.createElement(i.default,r({viewBox:"0 0 16 16"},t),o.default.createElement("path",{d:"M.004 1v14h14V1h-14zM11 9H3V7h8v2z"}))}},719:function(t,e,n){"use strict";var r=n(595),o=n(567);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(c,t);var e,n,r,i=f(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this))._line=Object(o.g)().x((function(e,n){return t.getXFromSeqPosition(n+1)-t.getSingleBaseWidth()/2})).y((function(e){return t._yScale(e)})),t}return e=c,(n=[{key:"init",value:function(){this._totalsArray={total:null,diseaseTotal:null}}},{key:"connectedCallback",value:function(){s(h(c.prototype),"connectedCallback",this).call(this),this._data=void 0,this._height=Number(this.getAttribute("height"))||40,this._yScale=Object(o.i)(),this.init()}},{key:"_createTrack",value:function(){Object(o.l)(this).selectAll("svg").remove(),this.svg=Object(o.l)(this).append("svg").attr("width",this.width).attr("height",this._height),this.trackHighlighter.appendHighlightTo(this.svg),this._initYScale(),this.refresh()}},{key:"_initYScale",value:function(){this._yScale.domain([0,Math.max(Object(o.h)(this._totalsArray.total),Object(o.h)(this._totalsArray.diseaseTotal))]).range([this._height,0])}},{key:"refresh",value:function(){this.svg&&(this.svg.selectAll("path").remove(),this.svg.append("path").attr("d",this._line(this._totalsArray.diseaseTotal)).attr("fill","none").attr("stroke","red").attr("transform","translate(0,0)"),this.svg.append("path").attr("d",this._line(this._totalsArray.total)).attr("fill","none").attr("stroke","darkgrey").attr("transform","translate(0,0)"),this._updateHighlight())}},{key:"data",set:function(t){if(this.init(),t.sequence&&!(t.variants.length<=0)){this._totalsArray.total=new Uint8ClampedArray(t.sequence.length),this._totalsArray.diseaseTotal=new Uint8ClampedArray(t.sequence.length);var e,n=a(t.variants);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.start,i=r.association,c=+o;c<1||c>t.sequence.length||(this._totalsArray.total[c]++,i&&i.find((function(t){return!0===t.disease}))&&this._totalsArray.diseaseTotal[c]++)}}catch(t){n.e(t)}finally{n.f()}this._createTrack()}}}])&&u(e.prototype,n),r&&u(e,r),c}(r.b);e.a=d},720:function(t){t.exports=JSON.parse('{"sequence":"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN","variants":[{"accession":"feature1","variant":"V","start":1,"end":1,"color":"orange"},{"accession":"feature2","variant":"C","start":2,"end":2,"color":"#33d"},{"accession":"feature3","variant":"T","start":3,"end":3,"color":"#336"},{"accession":"feature4","variant":"D","start":1,"end":1,"color":"#73d"},{"accession":"feature5","variant":"A","start":25,"end":25,"size":20,"color":"#63e"},{"accession":"feature6","variant":"R","start":770,"color":"#35d"}]}')},721:function(t){t.exports=JSON.parse('[{"accession":"chain_A","locations":[{"fragments":[{"start":45,"end":100,"shape":"helix","fill":"transparent","color":"#f06"},{"start":110,"end":200,"shape":"helix","fill":"transparent","color":"#f06"},{"start":5,"end":15,"shape":"strand","color":"#fc0"},{"start":40,"end":43,"shape":"strand","color":"#fc0"}]}]},{"accession":"chain_D","locations":[{"fragments":[{"start":45,"end":51,"shape":"helix","fill":"transparent","color":"#f06"},{"start":55,"end":77,"shape":"helix","fill":"transparent","color":"#f06"},{"start":5,"end":15,"shape":"strand","color":"#fc0"},{"start":19,"end":26,"shape":"strand","color":"#fc0"}]}]}]')},722:function(t,e,n){"use strict";e.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t},e.rulesForCssText=function(t){var e,n=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,n.body.appendChild(r),e=r.sheet.cssRules,Array.prototype.slice.call(e)},e.cssRulesToText=function(t){return t.reduce((function(t,e){return t+e.cssText}),"")},e.exchangeRule=function(t,n,r){var o=t.indexOf(n);t[o]=e.rulesForCssText(r)[0]},e.changeFontFaceRuleSrc=function(t,n,r){var o="@font-face { font-family: "+n.style.getPropertyValue("font-family")+"; ";n.style.getPropertyValue("font-style")&&(o+="font-style: "+n.style.getPropertyValue("font-style")+"; "),n.style.getPropertyValue("font-weight")&&(o+="font-weight: "+n.style.getPropertyValue("font-weight")+"; "),o+="src: "+r+"}",e.exchangeRule(t,n,o)}},723:function(t,e,n){"use strict";var r=n(591),o=n(0),i=n.n(o),a=n(56),c=n.n(a),u=i.a.createContext(null);var s=function(t){t()},l={notify:function(){}};function f(){var t=s,e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,o=n={callback:t,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var p=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=f())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},t}();var h=function(t){var e=t.store,n=t.context,r=t.children,a=Object(o.useMemo)((function(){var t=new p(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),c=Object(o.useMemo)((function(){return e.getState()}),[e]);Object(o.useEffect)((function(){var t=a.subscription;return t.trySubscribe(),c!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[a,c]);var s=n||u;return i.a.createElement(s.Provider,{value:a},r)};function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var b=n(116),v=n.n(b),g=n(115),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,O=[],w=[null,null];function j(t,e){var n=t[1];return[e.payload,n+1]}function S(t,e,n){m((function(){return t.apply(void 0,e)}),n)}function _(t,e,n,r,o,i,a){t.current=r,e.current=o,n.current=!1,i.current&&(i.current=null,a())}function P(t,e,n,r,o,i,a,c,u,s){if(t){var l=!1,f=null,p=function(){if(!l){var t,n,p=e.getState();try{t=r(p,o.current)}catch(t){n=t,f=t}n||(f=null),t===i.current?a.current||u():(i.current=t,c.current=t,a.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function x(t,e){void 0===e&&(e={});var n=e,r=n.getDisplayName,a=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,c=n.methodName,s=void 0===c?"connectAdvanced":c,l=n.renderCountProp,f=void 0===l?void 0:l,h=n.shouldHandleStateChanges,b=void 0===h||h,m=n.storeKey,x=void 0===m?"store":m,k=(n.withRef,n.forwardRef),R=void 0!==k&&k,C=n.context,T=void 0===C?u:C,A=y(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),D=T;return function(e){var n=e.displayName||e.name||"Component",r=a(n),c=d({},A,{getDisplayName:a,methodName:s,renderCountProp:f,shouldHandleStateChanges:b,storeKey:x,displayName:r,wrappedComponentName:n,WrappedComponent:e}),u=A.pure;var l=u?o.useMemo:function(t){return t()};function h(n){var r=Object(o.useMemo)((function(){var t=n.forwardedRef,e=y(n,["forwardedRef"]);return[n.context,t,e]}),[n]),a=r[0],u=r[1],s=r[2],f=Object(o.useMemo)((function(){return a&&a.Consumer&&Object(g.isContextConsumer)(i.a.createElement(a.Consumer,null))?a:D}),[a,D]),h=Object(o.useContext)(f),v=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var m=v?n.store:h.store,x=Object(o.useMemo)((function(){return function(e){return t(e.dispatch,c)}(m)}),[m]),k=Object(o.useMemo)((function(){if(!b)return w;var t=new p(m,v?null:h.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[m,v,h]),R=k[0],C=k[1],T=Object(o.useMemo)((function(){return v?h:d({},h,{subscription:R})}),[v,h,R]),A=Object(o.useReducer)(j,O,E),M=A[0][0],L=A[1];if(M&&M.error)throw M.error;var q=Object(o.useRef)(),F=Object(o.useRef)(s),N=Object(o.useRef)(),H=Object(o.useRef)(!1),I=l((function(){return N.current&&s===F.current?N.current:x(m.getState(),s)}),[m,M,s]);S(_,[F,q,H,s,I,N,C]),S(P,[b,m,R,x,F,q,H,N,C,L],[m,R,x]);var W=Object(o.useMemo)((function(){return i.a.createElement(e,d({},I,{ref:u}))}),[u,e,I]);return Object(o.useMemo)((function(){return b?i.a.createElement(f.Provider,{value:T},W):W}),[f,W,T])}var m=u?i.a.memo(h):h;if(m.WrappedComponent=e,m.displayName=r,R){var k=i.a.forwardRef((function(t,e){return i.a.createElement(m,d({},t,{forwardedRef:e}))}));return k.displayName=r,k.WrappedComponent=e,v()(k,e)}return v()(m,e)}}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function C(t,e){if(R(t,e))return!0;if("object"!==k(t)||null===t||"object"!==k(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!R(t[n[o]],e[n[o]]))return!1;return!0}var T=n(710);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var D=function(){return Math.random().toString(36).substring(7).split("").join(".")},M={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function L(t){if("object"!==A(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function q(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(q)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,a=[],c=a,u=!1;function s(){c===a&&(c=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return s(),c.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,s();var n=c.indexOf(t);c.splice(n,1),a=null}}}function p(t){if(!L(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,t)}finally{u=!1}for(var e=a=c,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:M.REPLACE})}function d(){var t,e=f;return(t={subscribe:function(t){if("object"!==A(t)||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[T.a]=function(){return this},t}return p({type:M.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:h})[T.a]=d,r}function F(t,e){return function(){return e(t.apply(this,arguments))}}function N(t){return function(e,n){var r=t(e,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function H(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function I(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=H(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=H(o),o=r(e,n)),o},r}}function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var V=[function(t){return"function"==typeof t?I(t):void 0},function(t){return t?void 0:N((function(t){return{dispatch:t}}))},function(t){return t&&"object"===W(t)?N((function(e){return function(t,e){if("function"==typeof t)return F(t,e);if("object"!==A(t)||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":A(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var o=t[r];"function"==typeof o&&(n[r]=F(o,e))}return n}(t,e)})):void 0}];var B=[function(t){return"function"==typeof t?I(t):void 0},function(t){return t?void 0:N((function(){return{}}))}];function U(t,e,n){return d({},n,{},t,{},e)}var z=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(e,n,c){var u=t(e,n,c);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return U}}];function Y(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function G(t,e,n,r,o){var i,a,c,u,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function d(o,h){var d,y,b=!f(h,a),v=!l(o,i);return i=o,a=h,b&&v?(c=t(i,a),e.dependsOnOwnProps&&(u=e(r,a)),s=n(c,u,a)):b?(t.dependsOnOwnProps&&(c=t(i,a)),e.dependsOnOwnProps&&(u=e(r,a)),s=n(c,u,a)):v?(d=t(i,a),y=!p(d,c),c=d,y&&(s=n(c,u,a)),s):s}return function(o,l){return h?d(o,l):(c=t(i=o,a=l),u=e(r,a),s=n(c,u,a),h=!0,s)}}function K(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=y(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,i),c=r(t,i),u=o(t,i);return(i.pure?G:Y)(a,c,u,t,i)}function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+X(t)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Z(t,e){return t===e}function $(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?x:n,o=e.mapStateToPropsFactories,i=void 0===o?B:o,a=e.mapDispatchToPropsFactories,c=void 0===a?V:a,u=e.mergePropsFactories,s=void 0===u?z:u,l=e.selectorFactory,f=void 0===l?K:l;return function(t,e,n,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,h=void 0===p?Z:p,b=a.areOwnPropsEqual,v=void 0===b?C:b,g=a.areStatePropsEqual,m=void 0===g?C:g,O=a.areMergedPropsEqual,w=void 0===O?C:O,j=y(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=Q(t,i,"mapStateToProps"),_=Q(e,c,"mapDispatchToProps"),P=Q(n,s,"mergeProps");return r(f,d({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:_,initMergeProps:P,pure:l,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:w},j))}}var J=$();var tt,et=n(113),nt=n.n(et);function rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i;return 0===n.length?i=r[0]:(i={},n.forEach((function(t,e){i[n[e]]=r[e]}))),{type:t,payload:i}};return o.toString=function(){return t.toString()},o.key=o.toString(),o}tt=et.unstable_batchedUpdates,s=tt;var ot=rt("PROPS_UPDATE"),it=rt("PROP_UPDATE","key","value"),at=rt("SEQUENCES_UPDATE"),ct={updateProp:it,updateProps:ot,updateSequences:at};var ut=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},st=n(593);var lt=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Object(st.a)(n))==n?n:0),void 0!==e&&(e=(e=Object(st.a)(e))==e?e:0),ut(Object(st.a)(t),e,n)},ft=n(572),pt=n(635),ht=n(569),dt=n(616),yt=n(565),bt=n(562);var vt=function(t,e,n,r){if(!Object(yt.a)(t))return t;for(var o=-1,i=(e=Object(ht.a)(e,t)).length,a=i-1,c=t;null!=c&&++o<i;){var u=Object(bt.a)(e[o]),s=n;if(o!=a){var l=c[u];void 0===(s=r?r(l,u,c):void 0)&&(s=Object(yt.a)(l)?l:Object(dt.a)(e[o+1])?[]:{})}Object(pt.a)(c,u,s),c=c[u]}return t};var gt=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],c=Object(ft.a)(t,a);n(c,a)&&vt(i,Object(ht.a)(a,t),c)}return i},mt=n(605);var Ot=function(t,e){return gt(t,e,(function(e,n){return Object(mt.a)(t,n)}))},wt=n(632);var jt=function(t){return(null==t?0:t.length)?Object(wt.a)(t,1):[]},St=n(701),_t=n(664);var Pt=function(t){return Object(_t.a)(Object(St.a)(t,void 0,jt),t+"")},Et=Pt((function(t,e){return null==t?{}:Ot(t,e)})),xt=n(589),kt=n(603),Rt=n(606),Ct=xt.a.isFinite,Tt=Math.min;var At=function(t){var e=Math[t];return function(t,n){if(t=Object(st.a)(t),(n=null==n?0:Tt(Object(kt.a)(n),292))&&Ct(t)){var r=(Object(Rt.a)(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return+((r=(Object(Rt.a)(o)+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("floor"),Dt=n(712);function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft=rt("MAINSTORE_UPDATE"),Nt=rt("POSITION_MOVE"),Ht=rt("POSITION_UPDATE"),It=rt("POSITION_BY_RESIDUE_UPDATE"),Wt=rt("HIGHLIGHT_REGION"),Vt=rt("REMOVE_HIGHLIGHT_REGION"),Bt={updateMainStore:Ft,updatePosition:Ht,movePosition:Nt,updatePositionByResidue:It,highlightRegion:Wt,removeHighlightRegion:Vt};function Ut(t,e){var n=t.sequences.maxLength*t.props.tileWidth-t.props.width;e.xPos=lt(e.xPos,0,n);var r=t.sequences.raw.length*t.props.tileHeight-t.props.height;return e.yPos=lt(e.yPos,0,r),Lt({},t,{position:e})}var zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0}},e=arguments.length>1?arguments[1]:void 0,n=t.position;switch(e.type){case Nt.key:Dt(void 0!==e.payload.xMovement||void 0!==e.payload.yMovement,"must contain at least xMovement or yMovement");var r=Lt({},n);return r.xPos+=e.payload.xMovement||0,r.yPos+=e.payload.yMovement||0,Ut(t,r);case Ht.key:Dt(void 0!==e.payload.xPos||void 0!==e.payload.yPos,"must contain at least xPos or yPos");var o={xPos:e.payload.xPos||n.xPos,yPos:e.payload.yPos||n.yPos};return Ut(t,o);case It.key:Dt(void 0!==e.payload.aaPos,"must contain at least aaPos");var i={xPos:t.props.tileWidth*(e.payload.aaPos-1),yPos:n.yPos};return Ut(t,i);default:return t}};function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{xPos:0,yPos:0},highlight:null},e=arguments.length>1?arguments[1]:void 0,n=t,r=t.position,o=t.highlight;switch(e.type){case Ft.key:n=Lt({},Et(n,["props","sequenceStats","sequences"]),{},e.payload);break;case Ht.key:case Nt.key:case It.key:r=zt(n,e).position;break;case Wt.key:o=e.payload;break;case Vt.key:o=null;break;default:return n}var i={xPosOffset:-r.xPos%n.props.tileWidth,yPosOffset:-r.yPos%n.props.tileWidth,currentViewSequence:lt(At(r.yPos/n.props.tileHeight),0,n.sequences.length-1),currentViewSequencePosition:lt(At(r.xPos/n.props.tileWidth),0,n.sequences.maxLength),position:r};return Lt({},n,{},i,{highlight:o})}var Gt=n(612),Kt=n(566),Xt=n(663);var Qt=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Zt=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var $t=function(t,e){return e.length<2?t:Object(ft.a)(t,Zt(e,0,-1))};var Jt=function(t,e){return e=Object(ht.a)(e,t),null==(t=$t(t,e))||delete t[Object(bt.a)(Qt(e))]},te=n(597),ee=n(588),ne=n(634),re=n(564),oe=Function.prototype,ie=Object.prototype,ae=oe.toString,ce=ie.hasOwnProperty,ue=ae.call(Object);var se=function(t){if(!Object(re.a)(t)||"[object Object]"!=Object(ee.a)(t))return!1;var e=Object(ne.a)(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ae.call(n)==ue};var le=function(t){return se(t)?void 0:t},fe=n(649),pe=Pt((function(t,e){var n={};if(null==t)return n;var r=!1;e=Object(Kt.a)(e,(function(e){return e=Object(ht.a)(e,t),r||(r=e.length>1),e})),Object(te.a)(t,Object(fe.a)(t),n),r&&(n=Object(Xt.a)(n,7,le));for(var o=e.length;o--;)Jt(n,e[o]);return n})),he=n(594),de=n(611);var ye=function(t){return"function"==typeof t?t:de.a};var be=function(t,e){return t&&Object(he.a)(t,ye(e))},ve=function(t){this.defaultColor="#ffffff",this.type="static",this.map=t,this.getColor=function(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}},ge=function(t,e){this.type="dyn",this.opt=e,void 0!==t.init?(t.init.call(this),this.getColor=t.run,this.reset=t.init):this.getColor=t},me={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},Oe={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},we={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"},je={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},Se={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"},_e={init:function(){this.cons=this.opt.conservation()},run:function(t,e){var n=this.cons[e.pos];return n>.8?"#6464ff":n>.6?"#9da5ff":n>.4?"#cccccc":"#ffffff"}};function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ee={buried:me,buried_index:me,cinema:{A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"},clustal2:{A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"},clustal:{A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"},helix:Oe,helix_propensity:Oe,hydro:{A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"},lesk:{A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"},mae:{A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"},nucleotide:{A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"},purine:we,purine_pyrimidine:we,strand:je,strand_propensity:je,taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"},turn:Se,turn_propensity:Se,zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},xe={pid:_e},ke=function(t){this.maps=Re(Ee),this.dyn=Re(xe),this.opt=t};function Re(t){if(null==t||"object"!==Pe(t))return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}ke.getScheme=function(t){return Ee[t]},ke.prototype.getScheme=function(t){var e=this.maps[t];return void 0===e&&(e={},void 0!==this.dyn[t])?new ge(this.dyn[t],this.opt):new ve(e)},ke.prototype.addStaticScheme=function(t,e){this.maps[t]=e},ke.prototype.addDynScheme=function(t,e){this.dyn[t]=e};var Te=new ke,Ae=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheme=Te.getScheme(e)}var e,n,r;return e=t,(n=[{key:"getColor",value:function(t){return this.scheme.getColor(t)}}])&&Ce(e.prototype,n),r&&Ce(e,r),t}();function De(t){return t&&"function"==typeof t.getColor}var Me=c.a.shape({name:c.a.string,sequence:c.a.string}),Le=c.a.oneOfType([c.a.oneOf(["buried_index","clustal","clustal2","cinema","helix_propensity","hydro","lesk","mae","nucleotide","purine_pyrimidine","strand_propensity","taylor","turn_propensity","zappo"]),c.a.instanceOf(Ae),function(t,e,n){if(!De(t[e]))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Validation failed.")}]),qe=c.a.shape({xPos:c.a.number,yPos:c.a.number}),Fe={width:c.a.number,height:c.a.number,tileWidth:c.a.number,tileHeight:c.a.number,colorScheme:Le},Ne={width:800,height:600,tileWidth:20,tileHeight:20,colorScheme:"clustal"};var He=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n},Ie=n(582),We=n(573);var Ve=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n},Be=n(561);var Ue=function(t,e,n){var r=Object(Be.a)(t)?He:Ve,o=arguments.length<3;return r(t,Object(We.a)(e,4),n,o,Ie.a)},ze=n(574);var Ye=function(t,e){return Object(ze.a)(t,e)},Ge=n(586),Ke=n(608),Xe=n(610);var Qe=function(t,e,n){(void 0!==n&&!Object(Xe.a)(t[e],n)||void 0===n&&!(e in t))&&Object(Ke.a)(t,e,n)},Ze=n(607),$e=n(643),Je=n(648),tn=n(625),en=n(644),nn=n(621),rn=n(599),on=n(618),an=n(669),cn=n(624);var un=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},sn=n(620);var ln=function(t){return Object(te.a)(t,Object(sn.a)(t))};var fn=function(t,e,n,r,o,i,a){var c=un(t,n),u=un(e,n),s=a.get(u);if(s)Qe(t,n,s);else{var l=i?i(c,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var p=Object(Be.a)(u),h=!p&&Object(on.a)(u),d=!p&&!h&&Object(cn.a)(u);l=u,p||h||d?Object(Be.a)(c)?l=c:Object(rn.a)(c)?l=Object(tn.a)(c):h?(f=!1,l=Object($e.a)(u,!0)):d?(f=!1,l=Object(Je.a)(u,!0)):l=[]:se(u)||Object(nn.a)(u)?(l=c,Object(nn.a)(c)?l=ln(c):Object(yt.a)(c)&&!Object(an.a)(c)||(l=Object(en.a)(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),Qe(t,n,l)}};var pn=function t(e,n,r,o,i){e!==n&&Object(Ze.a)(n,(function(a,c){if(i||(i=new Ge.a),Object(yt.a)(a))fn(e,n,c,r,t,o,i);else{var u=o?o(un(e,c),a,c+"",e,n,i):void 0;void 0===u&&(u=a),Qe(e,c,u)}}),sn.a)},hn=n(590),dn=n(578);function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bn=function(t,e,n){if(!Object(yt.a)(n))return!1;var r=yn(e);return!!("number"==r?Object(dn.a)(n)&&Object(dt.a)(e,n.length):"string"==r&&e in n)&&Object(Xe.a)(n[e],t)};var vn=function(t){return Object(hn.a)((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&bn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,i)}return e}))},gn=vn((function(t,e,n){pn(t,e,n)}));var mn=function(t,e){var n={raw:e,length:e.length};return n.maxLength=Ue(e,(function(t,e){return Math.max(t,e.sequence.length)}),0),n};function On(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?On(Object(n),!0).forEach((function(e){jn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t){De(t.colorScheme)||(t.colorScheme=new Ae(t.colorScheme))}var _n,Pn,En=function(t,e){var n=Object.keys(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,i=t(r,o);if(r!==i)for(var a=0;a<n.length;a++){var c=n[a],u=e[c](i[c],o,i);if(void 0===u)throw new Error("A reducer can't return 'undefined'");i[c]=u}return i}}(function(t){var e=Object.keys(t);return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o={},i=!1,a=0;a<e.length;a++){var c=e[a],u=t[c](n[c],r);if(void 0===u)throw new Error("A reducer can't return 'undefined'");o[c]=u,i=i||u!==n[c]}return i?o:n}}({props:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case ct.updateProps.key:return t=wn({},t,{},r),"colorScheme"in r&&Sn(t),t;case ct.updateProp.key:var o=r.key,i=r.value;return t=wn({},t,jn({},o,i)),"colorScheme"===o&&Sn(t),t;default:return void 0!==t.colorScheme&&Sn(t),t}},sequences:(_n=jn({},ct.updateSequences,mn),Pn=[],function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;return _n.hasOwnProperty(n)?_n[n](t,r):t})}),{sequenceStats:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentViewSequence:0,currentViewSequencePosition:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(e.type){case ct.updateProp.key:case ct.updateProps.key:case ct.updateSequences.key:if(n.props&&n.props.tileHeight&&n.props.tileWidth&&n.sequences){var r={};return r.nrXTiles=Math.ceil(n.props.width/n.props.tileWidth)+1,r.nrYTiles=Math.ceil(n.props.height/n.props.tileHeight)+1,r.fullWidth=n.props.tileWidth*n.sequences.maxLength,r.fullHeight=n.props.tileHeight*n.sequences.length,r}}return t}});function xn(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var kn=function(t){c.a.checkPropTypes(Fe,t,"prop","MSAViewer");var e=gn({},Ne,t),n=e.sequences,r=(e.position,xn(e,["sequences","position"])),o=q(En,!1);return o.dispatch(ot(r)),o.dispatch(at(n)),o};var Rn=function(t,e){void 0===t.nextFrame&&(t.nextFrame=window.requestAnimationFrame(function(){e(),this.nextFrame=void 0}.bind(t)))};function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tn(){return(Tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function An(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fn(t);if(e){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(t,e){return!e||"object"!==Cn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nn={sequences:"updateSequences"};Object.keys(Fe).forEach((function(t){!(t in Nn)&&Fe[t]&&(Nn[t]="updateProp")}));var Hn=Object.keys(Nn),In=function(t){return Ue(t,(function(t,e,n){return t[e.key]=e,t}),{})},Wn=In(ct),Vn=In(Bt),Bn=function(t){var e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(c,e);var n,r,o,a=Ln(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=a.call(this,t);var n=Et(t,Hn)||{};return e.el=i.a.createRef(),e.msaStore=t.msaStore,void 0!==n.sequences?e.msaStore=kn(n):console.warn("Check your MSA properties",n),e}return n=c,(r=[{key:"componentDidMount",value:function(){void 0!==this.props.position&&this.updatePosition(this.props.position)}},{key:"componentDidUpdate",value:function(t){var e=this.props;for(var n in Et(e,Hn))if(!Ye(t[n],e[n]))if("position"===n)this.updatePosition(e[n]);else if(n in Nn){var r=void 0;switch(Nn[n]){case"updateProp":r=ct[Nn[n]](n,e[n]);break;default:r=ct[Nn[n]](e[n])}this.msaStore.dispatch(r)}else console.error(n," is unknown.")}},{key:"dispatch",value:function(t){if(t.type in Wn)this.msaStore.dispatch(t);else{if(!(t.type in Vn))throw new Error("Invalid action",t);this.el.current.positionStore.dispatch(t)}}},{key:"render",value:function(){var e=pe(this.props,Hn),n=e.msaStore,r=An(e,["msaStore"]);return void 0===this.msaStore?i.a.createElement("div",null," Error initializing the MSAViewer. "):i.a.createElement(t,Tn({ref:this.el,msaStore:n||this.msaStore},r))}}])&&Dn(n.prototype,r),o&&Dn(n,o),c}(o.Component);return be(ct,(function(t,n){e.prototype[n]=function(e){this.msaStore.dispatch(t(e))}})),be(Bt,(function(t,n){e.prototype[n]=function(e){var n=this;Rn(this,(function(){n.el.current.positionStore.dispatch(t(e))}))}})),e},Un="FORWARD_SAME_PROP_NAME";function zn(t,e){var n={},r=t;return be(e,(function(t,e){var o=function(t,e){var n={},r={};return be(t,(function(t,o){if(o in e){var i=e[o];n[i===Un?o:i]=t}else r[o]=t})),{forward:n,other:r}}(r,t);n[e]=o.forward,r=o.other})),{forward:n,other:r}}var Yn=n(693),Gn=Yn.a&&new Yn.a,Kn=Gn?function(t,e){return Gn.set(t,e),t}:de.a,Xn=n(626);var Qn=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Object(Xn.a)(t.prototype),r=t.apply(n,e);return Object(yt.a)(r)?r:n}};var Zn=function(t,e,n){var r=1&e,o=Qn(t);return function e(){var i=this&&this!==xt.a&&this instanceof e?o:t;return i.apply(r?n:this,arguments)}},$n=n(661),Jn=Math.max;var tr=function(t,e,n,r){for(var o=-1,i=t.length,a=n.length,c=-1,u=e.length,s=Jn(i-a,0),l=Array(u+s),f=!r;++c<u;)l[c]=e[c];for(;++o<a;)(f||o<i)&&(l[n[o]]=t[o]);for(;s--;)l[c++]=t[o++];return l},er=Math.max;var nr=function(t,e,n,r){for(var o=-1,i=t.length,a=-1,c=n.length,u=-1,s=e.length,l=er(i-c,0),f=Array(l+s),p=!r;++o<l;)f[o]=t[o];for(var h=o;++u<s;)f[h+u]=e[u];for(;++a<c;)(p||o<i)&&(f[h+n[a]]=t[o++]);return f};var rr=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r};var or=function(){};function ir(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}ir.prototype=Object(Xn.a)(or.prototype),ir.prototype.constructor=ir;var ar=ir,cr=n(629),ur=Gn?function(t){return Gn.get(t)}:cr.a,sr={},lr=Object.prototype.hasOwnProperty;var fr=function(t){for(var e=t.name+"",n=sr[e],r=lr.call(sr,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e};function pr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}pr.prototype=Object(Xn.a)(or.prototype),pr.prototype.constructor=pr;var hr=pr;var dr=function(t){if(t instanceof ar)return t.clone();var e=new hr(t.__wrapped__,t.__chain__);return e.__actions__=Object(tn.a)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e},yr=Object.prototype.hasOwnProperty;function br(t){if(Object(re.a)(t)&&!Object(Be.a)(t)&&!(t instanceof ar)){if(t instanceof hr)return t;if(yr.call(t,"__wrapped__"))return dr(t)}return new hr(t)}br.prototype=or.prototype,br.prototype.constructor=br;var vr=br;var gr=function(t){var e=fr(t),n=vr[e];if("function"!=typeof n||!(e in ar.prototype))return!1;if(t===n)return!0;var r=ur(n);return!!r&&t===r[0]},mr=n(700),Or=Object(mr.a)(Kn),wr=/\{\n\/\* \[wrapped with (.+)\] \*/,jr=/,? & /;var Sr=function(t){var e=t.match(wr);return e?e[1].split(jr):[]},_r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Pr=function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(_r,"{\n/* [wrapped with "+e+"] */\n")},Er=n(637),xr=n(598),kr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Rr=function(t,e){return Object(Er.a)(kr,(function(n){var r="_."+n[0];e&n[1]&&!Object(xr.a)(t,r)&&t.push(r)})),t.sort()};var Cr=function(t,e,n){var r=e+"";return Object(_t.a)(t,Pr(r,Rr(Sr(r),n)))};var Tr=function(t,e,n,r,o,i,a,c,u,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,c,u,s],p=n.apply(void 0,f);return gr(t)&&Or(p,f),p.placeholder=r,Cr(p,t,e)};var Ar=function(t){return t.placeholder},Dr=Math.min;var Mr=function(t,e){for(var n=t.length,r=Dr(e.length,n),o=Object(tn.a)(t);r--;){var i=e[r];t[r]=Object(dt.a)(i,n)?o[i]:void 0}return t};var Lr=function(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",i[o++]=n)}return i};var qr=function t(e,n,r,o,i,a,c,u,s,l){var f=128&n,p=1&n,h=2&n,d=24&n,y=512&n,b=h?void 0:Qn(e);return function v(){for(var g=arguments.length,m=Array(g),O=g;O--;)m[O]=arguments[O];if(d)var w=Ar(v),j=rr(m,w);if(o&&(m=tr(m,o,i,d)),a&&(m=nr(m,a,c,d)),g-=j,d&&g<l){var S=Lr(m,w);return Tr(e,n,t,v.placeholder,r,m,S,u,s,l-g)}var _=p?r:this,P=h?_[e]:e;return g=m.length,u?m=Mr(m,u):y&&g>1&&m.reverse(),f&&s<g&&(m.length=s),this&&this!==xt.a&&this instanceof v&&(P=b||Qn(P)),P.apply(_,m)}};var Fr=function(t,e,n){var r=Qn(t);return function o(){for(var i=arguments.length,a=Array(i),c=i,u=Ar(o);c--;)a[c]=arguments[c];var s=i<3&&a[0]!==u&&a[i-1]!==u?[]:Lr(a,u);if((i-=s.length)<n)return Tr(t,e,qr,o.placeholder,void 0,a,s,void 0,void 0,n-i);var l=this&&this!==xt.a&&this instanceof o?r:t;return Object($n.a)(l,this,a)}};var Nr=function(t,e,n,r){var o=1&e,i=Qn(t);return function e(){for(var a=-1,c=arguments.length,u=-1,s=r.length,l=Array(s+c),f=this&&this!==xt.a&&this instanceof e?i:t;++u<s;)l[u]=r[u];for(;c--;)l[u++]=arguments[++a];return Object($n.a)(f,o?n:this,l)}},Hr=Math.min;var Ir=function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?tr(u,c,e[4]):c,t[4]=u?Lr(t[3],"__lodash_placeholder__"):e[4]}return(c=e[5])&&(u=t[5],t[5]=u?nr(u,c,e[6]):c,t[6]=u?Lr(t[5],"__lodash_placeholder__"):e[6]),(c=e[7])&&(t[7]=c),128&r&&(t[8]=null==t[8]?e[8]:Hr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t},Wr=Math.max;var Vr=function(t,e,n,r,o,i,a,c){var u=2&e;if(!u&&"function"!=typeof t)throw new TypeError("Expected a function");var s=r?r.length:0;if(s||(e&=-97,r=o=void 0),a=void 0===a?a:Wr(Object(kt.a)(a),0),c=void 0===c?c:Object(kt.a)(c),s-=o?o.length:0,64&e){var l=r,f=o;r=o=void 0}var p=u?void 0:ur(t),h=[t,e,n,r,o,l,f,i,a,c];if(p&&Ir(h,p),t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],!(c=h[9]=void 0===h[9]?u?0:t.length:Wr(h[9]-s,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||16==e?Fr(t,e,c):32!=e&&33!=e||o.length?qr.apply(void 0,h):Nr(t,e,n,r);else var d=Zn(t,e,n);return Cr((p?Kn:Or)(d,h),t,e)},Br=Object(hn.a)((function(t,e){var n=Lr(e,Ar(Br));return Vr(t,64,void 0,e,n)}));Br.placeholder={};var Ur=Br;var zr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return J(t,e,n,r)};function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,e){return t===e}function Kr(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}function Xr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,n=null,r=null;return function(){return Kr(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}function Qr(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return Yr(t)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function Zr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=0,a=r.pop(),c=Qr(r),u=t.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),s=t((function(){for(var t=[],e=c.length,n=0;n<e;n++)t.push(c[n].apply(null,arguments));return u.apply(null,t)}));return s.resultFunc=a,s.dependencies=c,s.recomputations=function(){return i},s.resetRecomputations=function(){return i=0},s}}var $r=Zr(Xr);function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e,n,r){var o=n?n.call(r,t,e):void 0;if(void 0!==o)return!!o;if(t===e)return!0;if("object"!==Jr(t)||!t||"object"!==Jr(e)||!e)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(e),u=0;u<i.length;u++){var s=i[u];if(!c(s))return!1;var l=t[s],f=e[s];if(!1===(o=n?n.call(r,l,f,s):void 0)||void 0===o&&l!==f)return!1}return!0}var eo=Zr(Xr,to);function no(t){Dt(arguments.length>1,"Must provide methods for binding");for(var e=1;e<arguments.length;e++){var n=arguments[e];t[n]=t[n].bind(t)}}function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oo(Object(n),!0).forEach((function(e){bo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ao(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uo(t,e,n){return e&&co(t.prototype,e),n&&co(t,n),t}function so(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yo(t);if(e){var o=yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}function po(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?ho(t):e}function ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.withX,r=void 0!==n&&n,a=e.withY,u=void 0!==a&&a,s=function(e){so(o,e);var n=fo(o);function o(t){var e;return ao(this,o),bo(ho(e=n.call(this,t)),"updateFromPositionStore",(function(){Dt(e.context&&e.context.positionMSAStore,"MSA PositionStore needs to be injected");var t=e.context.positionMSAStore.getState();e.position=e.position||{};var n=Et(t,["currentViewSequence","currentViewSequencePosition","xPosOffset","yPosOffset"]);t.position&&(n.xPos=t.position.xPos,n.yPos=t.position.yPos),e.setState({highlight:t.highlight}),e.el.current&&e.shouldRerender(n)?(e.position=n,e.setState({position:e.position})):(be(n,(function(t,n){e.position[n]=t})),e.el.current&&e.updateScrollPosition())})),bo(ho(e),"shouldRerender",(function(t){var n=e.el.current;if(void 0!==n.shouldRerender)return n.shouldRerender(t);var o=n.props.cacheElements;return!!(u&&Math.abs(t.currentViewSequence-e.position.lastCurrentViewSequence)>=o)||!!(r&&Math.abs(t.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)>=o)})),bo(ho(e),"updateScrollPosition",(function(){var t=e.el.current;if(t&&void 0!==t.updateScrollPosition)t.updateScrollPosition();else if(t&&t.el&&t.el.current){if(r){var n=t.props.tileWidth,o=-e.position.xPosOffset;o+=(e.position.lastCurrentViewSequencePosition-e.position.lastStartXTile)*n,e.position.currentViewSequencePosition!==e.position.lastCurrentViewSequencePosition&&(o+=(e.position.currentViewSequencePosition-e.position.lastCurrentViewSequencePosition)*n),t.el.current.scrollLeft=o}if(u){var i=t.props.tileHeight,a=-e.position.yPosOffset;a+=(e.position.lastCurrentViewSequence-e.position.lastStartYTile)*i,e.position.currentViewSequence!==e.position.lastCurrentViewSequence&&(a+=(e.position.currentViewSequence-e.position.lastCurrentViewSequence)*i),t.el.current.scrollTop=a}}})),bo(ho(e),"dispatch",(function(t){e.context.positionMSAStore.dispatch(t)})),e.el=i.a.createRef(),e.state={highlight:null},e}return uo(o,[{key:"componentDidMount",value:function(){this.unsubscribe=this.context.positionMSAStore.subscribe(this.updateFromPositionStore),this.updateScrollPosition(!0)}},{key:"componentDidUpdate",value:function(){this.updateScrollPosition()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.hasBeenInitialized||(this.updateFromPositionStore(),this.hasBeenInitialized=!0),i.a.createElement(t,io({ref:this.el,position:this.position,positionDispatch:this.dispatch,highlight:this.state.highlight},this.props))}}]),o}(o.PureComponent);return s.displayName="withPosition(".concat(t.displayName||t.name,")"),s.contextTypes={positionMSAStore:c.a.object},s};function go(t){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_o(t);if(e){var o=_o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return So(this,n)}}function So(t,e){return!e||"object"!==go(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _o(t){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(a,t);var e,n,r,o=jo(a);function a(){return mo(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"renderTile",value:function(t){var e=this.props.tileComponent;if(t in this.props.componentCache)return this.props.componentCache[t];var n=i.a.createElement(e,{key:t,index:t});return this.props.componentCache[t]=n,n}},{key:"render",value:function(){for(var t=[],e=this.props.startTile;e<this.props.endTile;e++)t.push(this.renderTile(e));return 0===t.length&&console.warn("The TileComponent rendered returned 0 elements from ".concat(this.props.startTile," to ").concat(this.props.endTile)),i.a.createElement("div",null,t)}}])&&Oo(e.prototype,n),r&&Oo(e,r),a}(o.PureComponent);Po.propTypes={startTile:c.a.number.isRequired,endTile:c.a.number.isRequired,componentCache:c.a.func.isRequired};var Eo=Po;function xo(t){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function To(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Do(t);if(e){var o=Do(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(t,e){return!e||"object"!==xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(a,t);var e,n,r,o=To(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).el=i.a.createRef(),e}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=(t.yPosOffset,t.tileHeight,t.currentViewSequence,t.sequences,t.height),n=(t.cacheElements,t.tileComponent,t.nrYTiles,t.position,t.positionDispatch,t.componentCache,ko(t,["yPosOffset","tileHeight","currentViewSequence","sequences","height","cacheElements","tileComponent","nrYTiles","position","positionDispatch","componentCache"])),r={height:e,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},o=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),a=Math.min(this.props.sequences.length,o+Math.ceil(e/this.props.tileHeight)+2*this.props.cacheElements);return this.props.position.lastCurrentViewSequence=this.props.position.currentViewSequence,this.props.position.lastStartYTile=o,i.a.createElement("div",n,i.a.createElement("div",{style:r,ref:this.el},i.a.createElement(Eo,{componentCache:this.props.componentCache,startTile:o,endTile:a,tileComponent:this.props.tileComponent})))}}])&&Ro(e.prototype,n),r&&Ro(e,r),a}(o.PureComponent);Mo.propTypes={tileComponent:c.a.oneOfType([c.a.func,c.a.object]).isRequired,cacheElements:c.a.number.isRequired,tileHeight:c.a.number.isRequired,nrYTiles:c.a.number.isRequired,componentCache:c.a.func.isRequired};var Lo=vo(Mo,{withY:!0});function qo(t){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fo(){return(Fo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function No(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?No(Object(n),!0).forEach((function(e){Io(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Io(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wo(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t,e,n){return e&&Bo(t.prototype,e),n&&Bo(t,n),t}function zo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yo(t,e)}function Yo(t,e){return(Yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qo(t);if(e){var o=Qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ko(this,n)}}function Ko(t,e){return!e||"object"!==qo(e)&&"function"!=typeof e?Xo(t):e}function Xo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qo(t){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zo=function(t){zo(n,t);var e=Go(n);function n(t){var r;return Vo(this,n),no(Xo(r=e.call(this,t)),"createLabel"),r.label=eo(Ur(Et,r.constructor.labelProps),r.createLabel),r}return Uo(n,[{key:"createLabel",value:function(t){return this.cache=function(){},n=(e=t).sequences,r=e.tileHeight,a=e.labelComponent,c=e.labelStyle,u=e.labelAttributes,function(t){zo(o,t);var e=Go(o);function o(){return Vo(this,o),e.apply(this,arguments)}return Uo(o,[{key:"render",value:function(){var t=this.props,e=t.index,o=Wo(t,["index"]);if(a){var s=a;return i.a.createElement(s,{sequence:n[e],index:e})}o.style=Ho({},this.props.style,{height:r},c);var l=Ho({},o,{},u);return i.a.createElement("div",l,n[e].name)}}]),o}(o.PureComponent);var e,n,r,a,c,u}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.dispatch,t.labelComponent,t.labelStyle,t.labelAttributes,Wo(t,["cacheElements","dispatch","labelComponent","labelStyle","labelAttributes"]));return i.a.createElement(Lo,Fo({tileComponent:this.label(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(o.PureComponent);Io(Zo,"labelProps",["sequences","tileHeight","labelComponent","labelStyle","labelAttributes"]),Zo.defaultProps={cacheElements:10,labelStyle:{}},Zo.propTypes={font:c.a.string,labelComponent:c.a.oneOfType([c.a.object,c.a.func]),style:c.a.object,labelStyle:c.a.object,labelAttributes:c.a.object};var $o=zr((function(t){return{height:t.props.height,tileHeight:t.props.tileHeight,sequences:t.sequences.raw,nrYTiles:t.sequenceStats.nrYTiles}}))(Zo);function Jo(t){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(){return(ti=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ii(t,e){return(ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ui(t);if(e){var o=ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ci(this,n)}}function ci(t,e){return!e||"object"!==Jo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ii(t,e)}(a,t);var e,n,r,o=ai(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).el=i.a.createRef(),e}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.tileWidth,n=t.sequences,r=t.width,o=(t.cacheElements,t.tileComponent),a=(t.nrXTiles,t.maxLength,t.position,t.positionDispatch,t.componentCache,ri(t,["tileWidth","sequences","width","cacheElements","tileComponent","nrXTiles","maxLength","position","positionDispatch","componentCache"])),c={width:r,overflow:"hidden",position:"relative",whiteSpace:"nowrap"},u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){ni(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props.style,{height:this.props.height}),s={tileWidth:e,sequences:n,tileComponent:o},l=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),f=Math.min(this.props.maxLength,l+this.props.nrXTiles+2*this.props.cacheElements),p=this.props.width+2*this.props.cacheElements*this.props.tileWidth;return this.props.position.lastStartXTile=l,this.props.position.lastCurrentViewSequencePosition=this.props.position.currentViewSequencePosition,i.a.createElement("div",ti({style:u},a),i.a.createElement("div",{style:c,ref:this.el},i.a.createElement(Eo,ti({},s,{componentCache:this.props.componentCache,startTile:l,endTile:f,maxWidth:p}))))}}])&&oi(e.prototype,n),r&&oi(e,r),a}(o.PureComponent);si.propTypes={tileComponent:c.a.oneOfType([c.a.func,c.a.object]).isRequired,cacheElements:c.a.number.isRequired,tileWidth:c.a.number.isRequired,nrXTiles:c.a.number.isRequired,maxLength:c.a.number.isRequired,componentCache:c.a.func.isRequired};var li=vo(si,{withX:!0}),fi=vn((function(t,e){Object(te.a)(e,Object(sn.a)(e),t)}));var pi=function(t,e){return(Object(Be.a)(t)?Er.a:Ie.a)(t,ye(e))};var hi=function(t,e){var n={};return e=Object(We.a)(e,3),Object(he.a)(t,(function(t,r,o){Object(Ke.a)(n,r,e(t,r,o))})),n};var di=function(t,e){var n=-1,r=Object(dn.a)(t)?Array(t.length):[];return Object(Ie.a)(t,(function(t,o,i){r[++n]=e(t,o,i)})),r};var yi=function(t,e){return(Object(Be.a)(t)?Kt.a:di)(t,Object(We.a)(e,3))},bi=n(694);var vi=function(t,e){var n=[];return Object(Ie.a)(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n};var gi=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};var mi=function(t,e){return(Object(Be.a)(t)?bi.a:vi)(t,gi(Object(We.a)(e,3)))},Oi=n(563);var wi=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(null!=a&&(void 0===c?a==a&&!Object(Oi.a)(a):n(a,c)))var c=a,u=i}return u};var ji=function(t,e){return t>e};var Si=function(t){return t&&t.length?wi(t,de.a,ji):void 0},_i=function t(e,n){if(!this||this.constructor!==t)return new t(e);if(void 0===e||"string"==typeof e)throw new TypeError("you need to give the seq stat an array");this.resetSeqs(e),this.alphabetSize=4,this._useBackground=!1,this.useGaps=!1,this.ignoredChars=["-","*"],fi(this,n)};_i.prototype.addSeq=function(t){this.seqs.push(t),this._reset()},_i.prototype.removeSeq=function(t){"number"==typeof t?this.seqs.splice(t,1):pi(this.seqs,function(e,n){t===e&&this.seqs.splice(n,1)}.bind(this)),this._reset()},_i.prototype.addSeqs=function(t){t.forEach(function(t){this.addSeq(t)}.bind(this))},_i.prototype.resetSeqs=function(t){if(this.seqs=[],!t instanceof Array||"at"in t){this.mseqs=t;var e=function(){var t=this.mseqs.pluck("seq");this.resetSeqs(t)};t.on("add change reset ",e,this),e.call(this)}else this.addSeqs(t),this._reset()};var Pi=["consensus","frequency","maxLength","ic","gaps"];_i.prototype._reset=function(){for(var t=0;t<Pi.length;t++)this["_"+Pi[t]]=void 0;this._identity=void 0,this._background=void 0},_i.prototype.setBackground=function(t){this._useBackground=t,this._reset()},_i.prototype.useBackground=function(){this.setBackground(!0)},_i.prototype.setDNA=function(){this.alphabetSize=4},_i.prototype.setProtein=function(){this.alphabetSize=20},Pi.forEach((function(t){_i.prototype[t]=function(){return void 0===this["_"+t]&&(this["_"+t]=this[t+"Calc"]()),this["_"+t]}})),_i.prototype.identity=function(t){var e;return(void 0===this._identity||t)&&(e=this.identityCalc(t),this._identity=void 0),this._identity||e},_i.prototype.background=function(){return void 0!==this.bg?this.bg:(void 0===this._background&&this.backgroundCalc(),this._background)},_i.prototype.frequencyCalc=function(t){var e,n;e=new Array(this.maxLength()),n=new Array(this.seqs.length);var r=this.ignoredChars;return void 0!==t&&t.all&&(r=[]),pi(this.seqs,(function(t){pi(t,(function(t,o){r.indexOf(t)>=0||(void 0===e[o]&&(e[o]={}),void 0===e[o][t]&&(e[o][t]=0),e[o][t]++,void 0===n[o]&&(n[o]=0),n[o]++)}))})),pi(e,(function(t,r){return pi(t,(function(t,o){return e[r][o]=t/n[r]}))})),this._frequency=e,e},_i.prototype.backgroundCalc=function(){var t={},e=0;return pi(this.seqs,(function(n){pi(n,(function(n){return void 0===t[n]&&(t[n]=0),t[n]++,e++}))})),t=hi(t,(function(t){return t/e})),this._background=t,t},_i.prototype.icCalc=function(){var t=this.frequency();if(this._useBackground)var e=this.background();var n=this.ignoredChars,r=this._useBackground,o=yi(t,(function(t){return Ue(t,(function(t,o,i){return n.indexOf(i)>=0?t:(r&&(o/=e[i]),t-o*(Math.log(o)/Math.log(2)))}),0)}));return this._ic=o,o},_i.prototype.conservation=function(t){var e=this.ic(),n=this.gaps(),r=this;t=t||this.alphabetSize;var o=Math.log(t)/Math.log(2),i=0;return yi(e,(function(t){var e=o-t;return r.useGaps&&(e*=1-n[i++]),e}))},_i.prototype.conservResidue=function(t){var e,n=t?t.alphabetSize:void 0,r=this.ignoredChars;e=void 0!==t&&t.scaled?this.scale(this.conservation(n)):this.conservation(n);var o,i=this.frequency();return yi(i,(function(t,n){o=mi(o(t),(function(t){return r.indexOf(t)>=0}));var i={};return pi(o,(function(r){i[r]=t[r]*e[n]})),i}))},_i.prototype.conservResidue2=function(t){var e=this.frequency(),n=this.conservation(t),r=this.background();return yi(e,(function(t,o){return yi(t,(function(t){var i=Ue(e[o],(function(t,e){return t+e/r[o]}),0);return t/r[o]/i*n[o]}),0)}))},_i.prototype.scale=function(t,e){e=e||this.alphabetSize;var n=Math.log(e)/Math.log(2);return yi(t,(function(t){return t/n}))},_i.prototype.maxLengthCalc=function(){return 0===this.seqs.length?0:Si(this.seqs,(function(t){return t.length})).length},_i.prototype.consensusCalc=function(){var t=new Array(this.maxLength());return pi(this.seqs,(function(e){pi(e,(function(e,n){void 0===t[n]&&(t[n]={}),void 0===t[n][e]&&(t[n][e]=0),t[n][e]++}))})),this._consensus=Ue(t,(function(t,e){var n;return n=Object.keys(e),t+Si(n,(function(t){return e[t]}))}),""),this._consensus},_i.prototype.identityCalc=function(t){var e=t||this.consensus();return this._identity=this.seqs.map((function(t){for(var n=0,r=0,o=0;o<t.length;o++)"-"!==t[o]&&"-"!==e[o]&&(r++,t[o]===e[o]&&n++);return n/r})),this._identity},_i.prototype.gapsCalc=function(){var t=this.maxLength();if(t<=1||void 0===t)return[];var e=new Array(this.maxLength());return pi(this.seqs,(function(t){pi(t,(function(t,n){void 0===e[n]&&(e[n]={g:0,t:0}),t="-"===t?"g":"t",e[n][t]++}))})),this._gaps=yi(e,(function(t){return t.g/(t.g+t.t)})),this._gaps};var Ei=_i;function xi(t){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ki(){return(ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ti(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mi(t,e,n){return e&&Di(t.prototype,e),n&&Di(t,n),t}function Li(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qi(t,e)}function qi(t,e){return(qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ii(t);if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(t,e){return!e||"object"!==xi(e)&&"function"!=typeof e?Hi(t):e}function Hi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wi=function(t){Li(n,t);var e=Fi(n);function n(t){var r;return Ai(this,n),(r=e.call(this,t)).cache=function(){},r.initializeColumnHeights(),no(Hi(r),"createBar"),r.bar=eo((function(t){return Et(t,r.constructor.barAttributes)}),r.columnHeights,r.createBar),r}return Mi(n,[{key:"createBar",value:function(t,e){return this.cache=function(){},function(t){var e=t.columnHeights,n=t.tileWidth,r=t.height,a=t.fillColor;return t.barStyle,t.barAttributes,function(t){Li(c,t);var o=Fi(c);function c(){return Ai(this,c),o.apply(this,arguments)}return Mi(c,[{key:"render",value:function(){var t=this.props,o=t.index,c=Ti(t,["index"]);return c.style={height:Math.round(e[o]*r),width:n,display:"inline-block",textAlign:"center",backgroundColor:a},i.a.createElement("div",c)}}]),c}(o.PureComponent)}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(n),!0).forEach((function(e){Ci(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{columnHeights:e}))}},{key:"initializeColumnHeights",value:function(){this.columnHeights=$r((function(t){return t.sequences}),(function(t){return t.method}),(function(t,e){var n,r=Ei(t.map((function(t){return t.sequence})));switch(e){case"conservation":n=r.scale(r.conservation());break;case"information-content":n=r.scale(r.ic());break;default:console.error(e+"is an invalid aggregation method for <OverviewBar />")}return n})).bind(this)}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.height,t.method,t.fillColor,t.dispatch,t.barStyle,t.barAttributes,Ti(t,["cacheElements","height","method","fillColor","dispatch","barStyle","barAttributes"]));return i.a.createElement(li,ki({tileComponent:this.bar(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(o.PureComponent);Ci(Wi,"barAttributes",["tileWidth","height","fillColor","barStyle","barAttributes"]),Wi.defaultProps={height:50,fillColor:"#999999",method:"conservation",cacheElements:10},Wi.propTypes={method:c.a.oneOf(["information-content","conservation"]),height:c.a.number,fillColor:c.a.string,style:c.a.object,barStyle:c.a.object,barAttributes:c.a.object};var Vi=zr((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(Wi);function Bi(t){return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(){return(Ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(n),!0).forEach((function(e){Gi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ki(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e,n){return e&&Qi(t.prototype,e),n&&Qi(t,n),t}function $i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ra(t);if(e){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(t,e){return!e||"object"!==Bi(e)&&"function"!=typeof e?na(t):e}function na(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ra(t){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oa=function(t){$i(n,t);var e=ta(n);function n(t){var r;return Xi(this,n),(r=e.call(this,t)).cache=function(){},no(na(r),"createMarker"),r.marker=eo(Ur(Et,r.constructor.markerAttributes),r.createMarker),r}return Zi(n,[{key:"createMarker",value:function(t){return this.cache=function(){},n=(e=t).markerSteps,r=e.startIndex,a=e.tileWidth,e.font,c=e.markerComponent,u=e.markerStyle,s=e.markerAttributes,function(t){$i(o,t);var e=ta(o);function o(){return Xi(this,o),e.apply(this,arguments)}return Zi(o,[{key:"render",value:function(){var t,e=this.props,o=e.index,l=Ki(e,["index"]);if(c){var f=c;return i.a.createElement(f,{index:o})}l.style=Yi({width:a,display:"inline-block",textAlign:"center"},u),t=o%n==0?o+0+r:".";var p=Yi({},l,{},s);return i.a.createElement("div",p,t)}}]),o}(o.PureComponent);var e,n,r,a,c,u,s}},{key:"render",value:function(){var t=this.props,e=t.cacheElements,n=(t.markerSteps,t.startIndex,t.dispatch,t.markerComponent,t.markerStyle,Ki(t,["cacheElements","markerSteps","startIndex","dispatch","markerComponent","markerStyle"]));return i.a.createElement(li,Ui({tileComponent:this.marker(this.props),cacheElements:e,componentCache:this.cache},n))}}]),n}(o.PureComponent);Gi(oa,"markerAttributes",["markerSteps","startIndex","tileWidth","markerComponent","markerStyle","markerAttributes"]),oa.defaultProps={style:{font:"12px Arial"},height:15,markerSteps:2,startIndex:1,cacheElements:10,markerStyle:{}},oa.propTypes={font:c.a.string,height:c.a.number,markerSteps:c.a.number,startIndex:c.a.number,markerComponent:c.a.oneOfType([c.a.object,c.a.func]),style:c.a.object,markerStyle:c.a.object,markerAttributes:c.a.object};var ia=zr((function(t){return{sequences:t.sequences.raw,maxLength:t.sequences.maxLength,width:t.props.width,tileWidth:t.props.tileWidth,nrXTiles:t.sequenceStats.nrXTiles}}))(oa);function aa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ca=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};aa(ca,"rel",(function(t){if(void 0!==t.changedTouches)return ca.rel(t.changedTouches[0]);var e=t.offsetX,n=t.offsetY;if(void 0===e){var r=t.target||t.srcElement,o=r.getBoundingClientRect();if(e=t.clientX-o.left,n=t.clientY-o.top,void 0===e&&(e=t.pageX-r.offsetLeft,n=t.pageY-r.offsetTop,void 0===e))return void console.log(t,"No mouse event defined.")}return[e,n]})),aa(ca,"abs",(function(t){if(void 0!==t.changedTouches)return ca.abs(t.changedTouches[0]);var e=t.pageX,n=t.pageY;return void 0===e&&(e=t.layerX,n=t.layerY),void 0===e&&(e=t.clientX,n=t.clientY),void 0===e&&(e=t.x,n=t.y),[e,n]})),aa(ca,"wheelDelta",(function(t){var e=[t.deltaX,t.deltaY];return void 0===e[0]&&t.mozMovementX&&(e=[0,t.mozMovementX]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e}));var ua=ca,sa=n(716),la=n.n(sa),fa=n(717),pa=n.n(fa),ha=n(718),da=n.n(ha);function ya(t){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ba(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function va(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oa(t,e){return(Oa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sa(t);if(e){var o=Sa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ja(this,n)}}function ja(t,e){return!e||"object"!==ya(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sa(t){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _a(){return i.a.createElement("svg",{height:"1em",width:"1.542em",viewBox:"0 0 1542 1000"},i.a.createElement("path",{d:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)",fill:"rgb(68, 122, 219)"}))}var Pa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oa(t,e)}(a,t);var e,n,r,o=wa(a);function a(){return ga(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ba(Object(n),!0).forEach((function(e){va(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({opacity:.9,backgroundColor:"white"},this.props.style),e={position:"relative",fontSize:"16px",padding:"3px 4px",cursor:"pointer",lineHeight:"normal",textDecoration:"none",color:"black"};return i.a.createElement("div",{style:t},i.a.createElement("div",{style:e},i.a.createElement(pa.a,{width:20,height:20})),i.a.createElement("div",{style:e},i.a.createElement(da.a,{width:20,height:20})),i.a.createElement("div",{style:e},i.a.createElement(la.a,{width:20,height:20})),i.a.createElement("a",{href:"https://plot.ly/",target:"_blank",rel:"noreferrer noopener","data-title":"Produced with Plotly",style:e},i.a.createElement(_a,{width:20,height:20})))}}])&&ma(e.prototype,n),r&&ma(e,r),a}(o.PureComponent);function Ea(t){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(t,e){return(ka=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Aa(t);if(e){var o=Aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ca(this,n)}}function Ca(t,e){return!e||"object"!==Ea(e)&&"function"!=typeof e?Ta(t):e}function Ta(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aa(t){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ma=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ka(t,e)}(a,t);var e,n,r,o=Ra(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Da(Ta(e=o.call(this,t)),"onScroll",(function(t){Rn(Ta(e),(function(){var t=e.shouldShow(),n=t.showX,r=t.showY,o={xMovement:e.el.current.scrollLeft-(n?e.props.position.xPos:0),yMovement:e.el.current.scrollTop-(r?e.props.position.yPos:0)};e.props.positionDispatch(Nt(o))}))})),Da(Ta(e),"updateScrollPosition",(function(){e.el&&e.el.current&&(e.el.current.scrollTop=e.props.position.yPos,e.el.current.scrollLeft=e.props.position.xPos)})),e.el=i.a.createRef(),e}return e=a,(n=[{key:"checkOverflow",value:function(t,e){var n=e.withX,r=void 0!==n&&n,o=e.withY,i=void 0!==o&&o,a=!1;switch(t){case"auto":r&&(a|=this.props.fullWidth>this.props.width),i&&(a|=this.props.fullHeight>this.props.height);break;case"hidden":a=!1;break;case"scroll":a=!0}return a}},{key:"shouldShow",value:function(){var t={withX:!0},e={withY:!0},n="initial"===this.props.overflowX?this.props.overflow:this.props.overflowX,r="initial"===this.props.overflowY?this.props.overflow:this.props.overflowY;return{showX:this.checkOverflow(n,t)&&this.checkOverflow(this.props.overflow,t),showY:this.checkOverflow(r,e)&&this.checkOverflow(this.props.overflow,e)}}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.fullWidth,o=t.fullHeight,a={position:"absolute",overflowX:"auto",overflowY:"auto",width:e,height:n,transform:""},c=this.shouldShow(),u=c.showX,s=c.showY,l={height:1,width:1};return s||u?(u&&(l.width=r,a.overflowX="scroll","top"===this.props.positionX&&(a.transform+="rotateX(180deg)")),s&&(l.height=o,a.overflowY="scroll","left"===this.props.positionY&&(a.transform+="rotateY(180deg)")),i.a.createElement("div",{style:a,onScroll:this.onScroll,ref:this.el},i.a.createElement("div",{style:l}))):i.a.createElement("div",null)}}])&&xa(e.prototype,n),r&&xa(e,r),a}(o.PureComponent);Ma.defaultProps={overflow:"auto",overflowX:"initial",overflowY:"initial",positionX:"bottom",positionY:"right",scrollBarWidth:5},Ma.propTypes={overflow:c.a.oneOf(["hidden","auto","scroll"]),overflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),width:c.a.number.isRequired,height:c.a.number.isRequired,fullHeight:c.a.number.isRequired,fullWidth:c.a.number.isRequired,positionX:c.a.oneOf(["top","bottom"]),positionY:c.a.oneOf(["left","right"])};var La=vo(Ma,{withX:!0,withY:!0});function qa(t){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fa(){return(Fa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Na(t){return function(t){if(Array.isArray(t))return Ha(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ha(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ha(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ia(Object(n),!0).forEach((function(e){Ka(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(t,e){return(Ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ua(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ga(t);if(e){var o=Ga(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return za(this,n)}}function za(t,e){return!e||"object"!==qa(e)&&"function"!=typeof e?Ya(t):e}function Ya(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ga(t){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ba(t,e)}(a,t);var e,n,r,o=Ua(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Ka(Ya(e=o.call(this,t)),"state",{mouse:{isMouseWithin:!1,cursorState:"grab"}}),Ka(Ya(e),"currentContext",1),e.canvasBuffers=[i.a.createRef(),i.a.createRef()],e.container=i.a.createRef(),no(Ya(e),"onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onClick","onDoubleClick","draw"),e.onViewpointChange(),e.mouseMovePosition=void 0,e.touchMovePosition=void 0,e.isInDragPhase=void 0,e.mouseHasMoved=void 0,e}return e=a,(n=[{key:"drawScene",value:function(){console.warn("drawScene is unimplemented.")}},{key:"onPositionUpdate",value:function(){console.warn("onPositionUpdate is unimplemented.")}},{key:"onViewpointChange",value:function(){}},{key:"componentDidMount",value:function(){this.ctxBuffers=[this.canvasBuffers[0].current.getContext("2d",{alpha:"false"}),this.canvasBuffers[1].current.getContext("2d",{alpha:"false"})],this.swapContexts(),this.container.current.addEventListener("mouseenter",this.onMouseEnter),this.container.current.addEventListener("mouseleave",this.onMouseLeave),this.container.current.addEventListener("touchstart",this.onTouchStart),this.container.current.addEventListener("touchmove",this.onTouchMove),this.container.current.addEventListener("touchend",this.onTouchEnd),this.container.current.addEventListener("touchcancel",this.onTouchCancel),this.container.current.addEventListener("click",this.onClick),this.container.current.addEventListener("dblclick",this.onDoubleClick),this.props.sequenceDisableDragging||(this.container.current.addEventListener("mousedown",this.onMouseDown),this.container.current.addEventListener("mouseup",this.onMouseUp),this.container.current.addEventListener("mousemove",this.onMouseMove))}},{key:"swapContexts",value:function(){var t=this.currentContext;this.canvasBuffers[t].current.style.visibility="visible";var e=(this.currentContext+1)%2;this.canvasBuffers[e].current.style.visibility="hidden",this.currentContext=e,this.ctx=this.ctxBuffers[e]}},{key:"draw",value:function(){this.ctx&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.onViewpointChange(),this.drawScene(),this.swapContexts())}},{key:"onClick",value:function(t){}},{key:"onDoubleClick",value:function(t){}},{key:"onMouseDown",value:function(t){this.startDragPhase(t)}},{key:"onMouseMove",value:function(t){var e=this;if(void 0!==this.isInDragPhase){this.mouseHasMoved=!0;var n=ua.abs(t),r=this.mouseMovePosition;Rn(this,(function(){e.mouseMovePosition=n,e.onPositionUpdate(r,e.mouseMovePosition)}))}}},{key:"onMouseUp",value:function(){this.stopDragPhase()}},{key:"onMouseEnter",value:function(){this.setState((function(t){return{mouse:Wa({},t.mouse,{isMouseWithin:!0})}}))}},{key:"onMouseLeave",value:function(){this.stopHoverPhase(),this.stopDragPhase()}},{key:"onTouchStart",value:function(t){console.log("touchstart",t),this.startDragPhase(t)}},{key:"onTouchMove",value:function(t){void 0!==this.isInDragPhase&&(console.log("touchmove",t),this.onMouseMove(t))}},{key:"onTouchEnd",value:function(){this.stopDragPhase()}},{key:"onTouchCancel",value:function(){this.stopDragPhase()}},{key:"startDragPhase",value:function(t){this.mouseMovePosition=ua.abs(t),this.mouseHasMoved=void 0,this.isInDragPhase=!0,this.setState((function(t){return{mouse:Wa({},t.mouse,{cursorState:"grabbing"})}}))}},{key:"stopHoverPhase",value:function(){this.setState((function(t){return{mouse:Wa({},t.mouse,{isMouseWithin:!1})}}))}},{key:"stopDragPhase",value:function(){this.isInDragPhase=void 0,this.setState((function(t){return{mouse:Wa({},t.mouse,{cursorState:"grab"})}}))}},{key:"isEventWithinComponent",value:function(t){var e=ua.rel(t);return 0<=e[0]&&e[0]<=this.props.width&&0<=e[1]&&e[1]<=this.props.height}},{key:"componentWillUnmount",value:function(){this.container.current.removeEventListener("mouseenter",this.onMouseEnter),this.container.current.removeEventListener("mouseleave",this.onMouseLeave),this.container.current.removeEventListener("click",this.onClick),this.container.current.removeEventListener("dblclick",this.onDoubleClick),this.container.current.removeEventListener("touchstart",this.onTouchStart),this.container.current.removeEventListener("touchend",this.onTouchEnd),this.container.current.removeEventListener("touchcancel",this.onTouchCancel),this.container.current.removeEventListener("touchmove",this.onTouchMove),this.props.sequenceDisableDragging||(this.container.current.removeEventListener("mouseup",this.onMouseUp),this.container.current.removeEventListener("mousedown",this.onMouseDown),this.container.current.removeEventListener("mousemove",this.onMouseMove)),this.stopDragPhase()}},{key:"render",value:function(){var t=Wa({width:this.props.width,height:this.props.height},this.props.style,{cursor:this.state.mouse.cursorState,position:"relative"}),e=this.props.showModBar&&this.state.mouse.isMouseWithin,n={position:"absolute",left:0,top:0},r=pe(this.props,[].concat(Na(this.constructor.propKeys),["tileWidth","tileHeight","colorScheme","nrXTiles","nrYTiles","dispatch","sequences","fullWidth","fullHeight","position","positionDispatch"]));return i.a.createElement("div",Fa({style:t,ref:this.container},r),e&&i.a.createElement(Pa,{style:{position:"absolute",right:0,opacity:.8}}," Plotly Modbar"),i.a.createElement("canvas",{style:n,ref:this.canvasBuffers[0],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),i.a.createElement("canvas",{style:n,ref:this.canvasBuffers[1],width:this.props.width,height:this.props.height},"Your browser does not seem to support HTML5 canvas."),i.a.createElement(La,{overflow:this.props.overflow,overflowX:this.props.overflowX,overflowY:this.props.overflowY,positionX:this.props.scrollBarPositionX,positionY:this.props.scrollBarPositionY,width:this.props.width,height:this.props.height,fullWidth:this.props.fullWidth,fullHeight:this.props.fullHeight}))}}])&&Va(e.prototype,n),r&&Va(e,r),a}(o.PureComponent);Ka(Xa,"defaultProps",{engine:"canvas",showModBar:!0});var Qa=Xa;function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.state={}}var e,n,r;return e=t,(n=[{key:"updateEl",value:function(t){this.el=t}},{key:"font",value:function(t){this.state.font=t}},{key:"globalAlpha",value:function(t){this.state.globalAlpha=t}},{key:"startDrawingFrame",value:function(){this.clear()}},{key:"endDrawingFrame",value:function(){}},{key:"save",value:function(){}},{key:"restore",value:function(){}}])&&Za(e.prototype,n),r&&Za(e,r),t}();function Ja(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={},this.cacheHeight=0,this.cacheWidth=0}var e,n,r;return e=t,(n=[{key:"getFontTile",value:function(t,e,n,r){return e===this.cacheWidth&&n===this.cacheHeight&&r===this.font||(this.updateDimensions(e,n),this.font=r),void 0===this.cache[t]&&this.createTile(t,e,n),this.cache[t]}},{key:"createTile",value:function(t,e,n,r){var o=this.cache[t]=document.createElement("canvas");return o.width=e,o.height=n,this.ctx=o.getContext("2d"),this.ctx.font=this.font+"px mono",this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,e/2,n/2,e,r)}},{key:"updateDimensions",value:function(t,e){this.invalidate(),this.cacheWidth=t,this.cacheHeight=e}},{key:"invalidate",value:function(){this.cache={}}}])&&Ja(e.prototype,n),r&&Ja(e,r),t}();function ec(t){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rc(t,e){return(rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ic(this,n)}}function ic(t,e){return!e||"object"!==ec(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rc(t,e)}(i,t);var e,n,r,o=oc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).ctx=t.getContext("2d"),e.cache=new tc,e}return e=i,(n=[{key:"clear",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"fillRect",value:function(t,e,n,r){this.ctx.fillRect(t,e,n,r)}},{key:"fillText",value:function(t,e,n,r,o){return this.ctx.drawImage(this.cache.getFontTile(t,r,o,this.ctx.font),e,n,r,o)}},{key:"font",value:function(t){this.ctx.font=t}},{key:"fillStyle",value:function(t){this.ctx.fillStyle=t}},{key:"globalAlpha",value:function(t){this.ctx.globalAlpha=t}},{key:"save",value:function(){this.ctx.save()}},{key:"restore",value:function(){this.ctx.restore()}}])&&nc(e.prototype,n),r&&nc(e,r),i}($a);function uc(t){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(t,e){return(lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hc(t);if(e){var o=hc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pc(this,n)}}function pc(t,e){return!e||"object"!==uc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dc,yc,bc,vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lc(t,e)}(a,t);var e,n,r,o=fc(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).canvas=i.a.createRef(),e}return e=a,(n=[{key:"componentDidMount",value:function(){this.ctx=new cc(this.canvas.current),this.draw()}},{key:"componentDidUpdate",value:function(){this._draw()}},{key:"_draw",value:function(){this.ctx&&(this.ctx.startDrawingFrame(),this.ctx.save(),this.draw(),this.ctx.restore(),this.ctx.endDrawingFrame())}},{key:"draw",value:function(){console.error("Implement me.")}},{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style},i.a.createElement("canvas",{ref:this.canvas,width:this.props.width,height:this.props.height}))}}])&&sc(e.prototype,n),r&&sc(e,r),a}(o.PureComponent);function gc(t){return(gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wc(t,e){return(wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_c(t);if(e){var o=_c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sc(this,n)}}function Sc(t,e){return!e||"object"!==gc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _c(t){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}bc={engine:"canvas"},(yc="defaultProps")in(dc=vc)?Object.defineProperty(dc,yc,{value:bc,enumerable:!0,configurable:!0,writable:!0}):dc[yc]=bc,vc.propTypes={width:c.a.number.isRequired,height:c.a.number.isRequired,style:c.a.object,engine:c.a.oneOf(["canvas","webgl"])};var Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wc(t,e)}(i,t);var e,n,r,o=jc(i);function i(){return mc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"drawTile",value:function(t){var e=this,n=t.row,r=t.column,o=this.props.tileWidth,i=this.props.tileHeight,a=i*(n-this.props.startYTile),c=o*(r-this.props.startXTile);if(!(n>=this.props.sequences.raw.length)){var u=this.props.sequences.raw[n].sequence;if(!(r>=u.length)){var s=u[r];if(void 0!==s){var l=this.props.colorScheme.getColor(s),f="".concat(s,"-").concat(l),p=this.props.residueTileCache.createTile({key:f,tileWidth:o,tileHeight:i,create:function(t){var o=t.canvas;return e.drawResidue({text:s,canvas:o,row:n,column:r,colorScheme:l})}});this.props.ctx.drawImage(p,0,0,o,i,c,a,o,i)}}}}},{key:"drawResidue",value:function(t){t.row,t.column;var e=t.canvas,n=t.colorScheme,r=t.text;e.globalAlpha=.7,e.fillStyle=n,e.fillRect(0,0,this.props.tileWidth,this.props.tileHeight),this.props.tileWidth<4||(this.props.border&&(e.globalAlpha=1,e.lineWidth=this.props.borderWidth,e.strokeStyle=this.props.borderStyle,e.strokeRect(0,0,this.props.tileWidth,this.props.tileHeight)),e.globalAlpha=Math.min(1,1/6*this.props.tileWidth+-1/6*4),e.fillStyle=this.props.textColor,e.font=this.props.textFont+"px mono",e.textBaseline="middle",e.textAlign="center",e.fillText(r,this.props.tileWidth/2,this.props.tileHeight/2+1,this.props.tileWidth))}},{key:"draw",value:function(t){this.props=t;for(var e=this.props.startYTile;e<this.props.endYTile;e++)for(var n=this.props.startXTile;n<this.props.endXTile;n++)this.drawTile({row:e,column:n})}}])&&Oc(e.prototype,n),r&&Oc(e,r),i}(vc);var Ec=function(t,e){return t<e};var xc=function(t,e){return t&&t.length?wi(t,Object(We.a)(e,2),Ec):void 0};function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.maxElements;kc(this,t),this.maxElements=n||200,this.invalidate()}var e,n,r;return e=t,(n=[{key:"createTile",value:function(t){var e=this,n=t.key,r=t.tileWidth,o=t.tileHeight,i=t.create;if(n in this.cache)return this.cache[n].value;if(this.cachedElements>=this.maxElements){var a=xc(Object.keys(this.cache),(function(t){return e.cache[t].insertionTime}));delete this.cache[a]}var c=document.createElement("canvas");this.cache[n]={value:c,insertionTime:Date.now()},c.width=r,c.height=o;var u=c.getContext("2d");return this.cachedElements++,i({canvas:u}),c}},{key:"updateTileSpecs",value:function(t){return!to(t,this.spec)&&(this.invalidate(),this.spec=t,!0)}},{key:"invalidate",value:function(){this.cache={},this.spec={},this.cachedElements=0}}])&&Rc(e.prototype,n),r&&Rc(e,r),t}();function Tc(t,e){return t-t%e}function Ac(t){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Mc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e){return(Fc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vc(t);if(e){var o=Vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hc(this,n)}}function Hc(t,e){return!e||"object"!==Ac(e)&&"function"!=typeof e?Ic(t):e}function Ic(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wc(t,e,n){return(Wc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vc(t){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fc(t,e)}(i,t);var e,n,r,o=Nc(i);function i(t){var e,n,r,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Bc(Ic(c=o.call(this,t)),"renderTile",(function(t){var e=t.row,n=t.column,r=e+"-"+n;return c.tileCache.createTile({key:r,tileWidth:c.props.tileWidth*c.props.xGridSize,tileHeight:c.props.tileHeight*c.props.yGridSize,create:function(t){var r=t.canvas;c.tilingGridManager.draw(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lc(Object(n),!0).forEach((function(e){Bc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ctx:r,startYTile:e,startXTile:n,residueTileCache:c.residueTileCache,endYTile:e+c.props.yGridSize,endXTile:n+c.props.xGridSize},Et(c.props,["sequences","colorScheme","textFont","textColor","tileHeight","tileWidth","border","borderWidth","borderColor"])))}})})),Bc(Ic(c),"onPositionUpdate",(function(t,e){var n={xMovement:t[0]-e[0],yMovement:t[1]-e[1]};c.sendEvent("onPositionUpdate",e),c.props.positionDispatch(Nt(n))})),Bc(Ic(c),"updateScrollPosition",(function(){c.draw()})),Bc(Ic(c),"onMouseMove",(function(t){if(void 0===c.isInDragPhase&&(void 0!==c.props.onResidueMouseEnter||void 0!==c.props.onResidueMouseLeave)){var n=c.currentPointerPosition(t),r=c.currentMouseSequencePosition;Ye(r,n)||(void 0!==r&&c.sendEvent("onResidueMouseLeave",r),c.currentMouseSequencePosition=n,c.sendEvent("onResidueMouseEnter",n))}Wc((e=Ic(c),Vc(i.prototype)),"onMouseMove",e).call(e,t)})),Bc(Ic(c),"onMouseLeave",(function(t){c.sendEvent("onResidueMouseLeave",c.currentMouseSequencePosition),c.currentMouseSequencePosition=void 0,Wc((n=Ic(c),Vc(i.prototype)),"onMouseLeave",n).call(n,t)})),Bc(Ic(c),"onClick",(function(t){if(!c.mouseHasMoved){var e=c.currentPointerPosition(t);c.sendEvent("onResidueClick",e)}Wc((r=Ic(c),Vc(i.prototype)),"onClick",r).call(r,t)})),Bc(Ic(c),"onDoubleClick",(function(t){var e=c.currentPointerPosition(t);c.sendEvent("onResidueDoubleClick",e),Wc((a=Ic(c),Vc(i.prototype)),"onDoubleClick",a).call(a,t)})),c.tileCache=new Cc,c.residueTileCache=new Cc,c.tilingGridManager=new Pc,c}return e=i,(n=[{key:"drawScene",value:function(){var t=this.getTilePositions();this.updateTileSpecs(),this.drawTiles(t),this.drawHighligtedRegion()}},{key:"getTilePositions",value:function(){var t=Math.max(0,this.props.position.currentViewSequencePosition-this.props.cacheElements),e=Math.max(0,this.props.position.currentViewSequence-this.props.cacheElements),n=Math.min(this.props.sequences.length,e+this.props.nrYTiles+2*this.props.cacheElements);return{startXTile:t,startYTile:e,endXTile:Math.min(this.props.sequences.maxLength,t+this.props.nrXTiles+2*this.props.cacheElements),endYTile:n}}},{key:"drawTiles",value:function(t){for(var e=t.startXTile,n=t.startYTile,r=t.endXTile,o=t.endYTile,i=this.props.xGridSize,a=this.props.yGridSize,c=Tc(n,a),u=Tc(e,i),s=c;s<o;s+=a)for(var l=u;l<r;l+=i){var f=this.renderTile({row:s,column:l,canvas:this.ctx}),p=i*this.props.tileWidth,h=a*this.props.tileHeight,d=(s-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,y=(l-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset;this.ctx.drawImage(f,0,0,p,h,y,d,p,h)}}},{key:"drawHighligtedRegion",value:function(){var t=this.props.highlight;if(this.ctx&&t){var e=this.props.tileWidth*(1+t.residues.to-t.residues.from),n=this.props.tileHeight*(1+t.sequences.to-t.sequences.from),r=(t.sequences.from-this.props.position.currentViewSequence)*this.props.tileHeight+this.props.position.yPosOffset,o=(t.residues.from-1-this.props.position.currentViewSequencePosition)*this.props.tileWidth+this.props.position.xPosOffset,i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");a.globalAlpha=.3,a.fillStyle="yellow",a.fillRect(0,0,e,n),a.globalAlpha=1,a.strokeStyle="red",a.lineWidth="2",a.rect(0,0,e,n),a.stroke(),this.ctx.drawImage(i,0,0,e,n,o,r,e,n)}}},{key:"positionToSequence",value:function(t){var e=this.props.sequences.raw,n=lt(At((this.props.position.yPos+t.yPos)/this.props.tileHeight),0,e.length-1),r=e[n],o=lt(At((this.props.position.xPos+t.xPos)/this.props.tileWidth),0,r.sequence.length-1);return{i:n,sequence:r,position:o,residue:r.sequence[o]}}},{key:"currentPointerPosition",value:function(t){var e=Dc(ua.rel(t),2),n=e[0],r=e[1];return this.positionToSequence({xPos:n,yPos:r})}},{key:"sendEvent",value:function(t,e){void 0!==this.props[t]&&this.props[t](e)}},{key:"componentWillUnmount",value:function(){this.tileCache.invalidate(),this.residueTileCache.invalidate()}},{key:"updateTileSpecs",value:function(){var t=["tileWidth","tileHeight","colorScheme","textFont","borderColor"];this.tileCache.updateTileSpecs(Et(this.props,[].concat(t,["xGridSize","yGridSize","sequences"]))),this.residueTileCache.updateTileSpecs(Et(this.props,t))}},{key:"render",value:function(){return Wc(Vc(i.prototype),"render",this).call(this)}}])&&qc(e.prototype,n),r&&qc(e,r),i}(Qa);Uc.defaultProps={showModBar:!1,xGridSize:10,yGridSize:10,border:!1,borderColor:"black",borderWidth:1,cacheElements:20,textColor:"black",textFont:"18px Arial",overflow:"hidden",overflowX:"auto",overflowY:"auto",scrollBarPositionX:"bottom",scrollBarPositionY:"right"},Uc.propTypes={showModBar:c.a.bool,onResidueMouseEnter:c.a.func,onResidueMouseLeave:c.a.func,onResidueClick:c.a.func,onResidueDoubleClick:c.a.func,xGridSize:c.a.number.isRequired,yGridSize:c.a.number.isRequired,cacheElements:c.a.number.isRequired,border:c.a.bool,borderColor:c.a.string,borderWidth:c.a.number,textColor:c.a.string,textFont:c.a.string,overflow:c.a.oneOf(["hidden","auto","scroll"]),overflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),overflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),scrollBarPositionX:c.a.oneOf(["top","bottom"]),scrollBarPositionY:c.a.oneOf(["left","right"])},Uc.propKeys=Object.keys(Uc.propTypes);var zc=vo(Uc,{withX:!0,withY:!0}),Yc=zr((function(t){var e=Math.min(t.props.width,t.sequences.maxLength*t.props.tileWidth),n=Math.min(t.props.height,t.sequences.length*t.props.tileHeight);return{sequences:t.sequences,width:e,height:n,tileWidth:t.props.tileWidth,tileHeight:t.props.tileHeight,colorScheme:t.props.colorScheme,nrXTiles:t.sequenceStats.nrXTiles,nrYTiles:t.sequenceStats.nrYTiles,fullWidth:t.sequenceStats.fullWidth,fullHeight:t.sequenceStats.fullHeight}}))(zc),Gc=n(604);var Kc=function(t,e){var n;return Object(Ie.a)(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n};var Xc=function(t,e,n){var r=Object(Be.a)(t)?Gc.a:Kc;return n&&bn(t,e,n)&&(e=void 0),r(t,Object(We.a)(e,3))};function Qc(t){return(Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jc(t,e){return(Jc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nu(t);if(e){var o=nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eu(this,n)}}function eu(t,e){return!e||"object"!==Qc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nu(t){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jc(t,e)}(i,t);var e,n,r,o=tu(i);function i(){return Zc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"shouldComponentUpdate",value:function(t){var e=this;return!(to(this.props,t)&&Xc(this.props.forwardedPropsKeys.map((function(n){return to(e.props[n],t[n])}))))}}])&&$c(e.prototype,n),r&&$c(e,r),i}(o.Component);ru.propTypes={forwardPropKeys:c.a.array};var ou=ru;function iu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cu(t){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uu(){return(uu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fu(t,e){return(fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=du(t);if(e){var o=du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hu(this,n)}}function hu(t,e){return!e||"object"!==cu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function du(t){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}(a,t);var e,n,r,o=pu(a);function a(){return su(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,uu({style:t},this.props.labelsProps)),i.a.createElement("div",null,i.a.createElement(Vi,uu({height:50},this.props.overviewBarProps)),i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Yc,this.props.sequenceViewerProps),i.a.createElement("div",{style:{height:10}})))}}])&&lu(e.prototype,n),r&&lu(e,r),a}(ou);yu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iu(Object(n),!0).forEach((function(e){au(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ou.propTypes);var bu=zr((function(t){return{tileHeight:t.props.tileHeight}}))(yu);function vu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mu(t){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ou(){return(Ou=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Su(t,e){return(Su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Eu(t);if(e){var o=Eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pu(this,n)}}function Pu(t,e){return!e||"object"!==mu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Su(t,e)}(a,t);var e,n,r,o=_u(a);function a(){return wu(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight+50};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",null,i.a.createElement(Vi,Ou({height:50},this.props.overviewBarProps)),i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Yc,this.props.sequenceViewerProps)),i.a.createElement($o,Ou({style:t},this.props.labelsProps)))}}])&&ju(e.prototype,n),r&&ju(e,r),a}(ou);xu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vu(Object(n),!0).forEach((function(e){gu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ou.propTypes);var ku=zr((function(t){return{tileHeight:t.props.tileHeight}}))(xu);function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cu(){return(Cu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Du(t,e){return(Du=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qu(t);if(e){var o=qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lu(this,n)}}function Lu(t,e){return!e||"object"!==Ru(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qu(t){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Du(t,e)}(a,t);var e,n,r,o=Mu(a);function a(){return Tu(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,this.props.labelsProps),i.a.createElement("div",null,i.a.createElement(Yc,null),i.a.createElement(ia,this.props.positionBarProps),i.a.createElement("br",null),i.a.createElement(Vi,this.props.overviewBarProps),i.a.createElement("br",null),i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Vi,null),i.a.createElement(Vi,Cu({},this.props.overviewBarProps,{method:"information-content"}))))}}])&&Au(e.prototype,n),r&&Au(e,r),a}(ou);function Nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iu(t){return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bu(t,e){return(Bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yu(t);if(e){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zu(this,n)}}function zu(t,e){return!e||"object"!==Iu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bu(t,e)}(a,t);var e,n,r,o=Uu(a);function a(){return Wu(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Yc,this.props.sequenceViewerProps))}}])&&Vu(e.prototype,n),r&&Vu(e,r),a}(ou);Gu.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nu(Object(n),!0).forEach((function(e){Hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ou.propTypes);var Ku=Gu;function Xu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(){return($u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,e){return(es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ns(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var o=os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rs(this,n)}}function rs(t,e){return!e||"object"!==Zu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}(a,t);var e,n,r,o=ns(a);function a(){return Ju(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t={paddingTop:this.props.tileHeight};return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement($o,{style:t}),i.a.createElement("div",null,i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Yc,this.props.sequenceViewerProps),i.a.createElement(ia,this.props.positionBarProps),i.a.createElement(Vi,this.props.overviewBarProps),i.a.createElement("br",null),i.a.createElement(ia,this.props.positionBarProps)),i.a.createElement($o,$u({style:t},this.props.labelsProps)))}}])&&ts(e.prototype,n),r&&ts(e,r),a}(ou);is.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xu(Object(n),!0).forEach((function(e){Qu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ou.propTypes);var as=zr((function(t){return{tileHeight:t.props.tileHeight}}))(is);function cs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function us(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ps(t,e){return(ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ys(t);if(e){var o=ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ds(this,n)}}function ds(t,e){return!e||"object"!==ss(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)}(a,t);var e,n,r,o=hs(a);function a(){return ls(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:{display:"flex"}},this.props.labelsProps&&this.props.labelsProps.labelStyle&&i.a.createElement($o,this.props.labelsProps),i.a.createElement(Yc,this.props.sequenceViewerProps))}}])&&fs(e.prototype,n),r&&fs(e,r),a}(ou);function vs(t){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gs(){return(gs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ms(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ws(t,e){return(ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_s(t);if(e){var o=_s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ss(this,n)}}function Ss(t,e){return!e||"object"!==vs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}bs.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cs(Object(n),!0).forEach((function(e){us(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ou.propTypes);var Ps={basic:bu,inverse:ku,full:Fu,compact:Ku,funky:as,nightingale:bs,default:bu},Es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ws(t,e)}(a,t);var e,n,r,o=js(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).el=i.a.createRef(),e.forwardedPropsKeys=Object.keys(e.constructor.propsToForward),e}return e=a,(n=[{key:"dispatchEvent",value:function(t){this.el.current.dispatchEvent(t)}},{key:"render",value:function(){var t=this.props,e=t.layout,n=ms(t,["layout"]);if(e in Ps){var r=Ps[e],o=zn(n,this.constructor.propsToForward),a=o.forward,c=o.other;return i.a.createElement("div",gs({el:this.ref},c),i.a.createElement(r,gs({},a,{forwardedPropsKeys:this.forwardedPropsKeys})))}console.error("$this.props.layout} is invalid. Please use one of ".concat(Object.keys(Ps)))}}])&&Os(e.prototype,n),r&&Os(e,r),a}(o.PureComponent);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Es,"propsToForward",{sequenceViewerProps:{showModBar:Un,onResidueMouseEnter:Un,onResidueMouseLeave:Un,onResidueClick:Un,onResidueDoubleClick:Un,sequenceBorder:"border",sequenceBorderColor:"borderColor",sequenceBorderWidth:"borderWidth",sequenceTextColor:"textColor",sequenceTextFont:"textFont",sequenceOverflow:"overflow",sequenceOverflowX:"overflowX",sequenceOverflowy:"overflowY",sequenceScrollBarPositionX:"scrollBarPositionX",sequenceScrollBarPositionY:"scrollBarPositionY",sequenceDisableDragging:Un},labelsProps:{labelComponent:Un,labelStyle:Un,labelAttributes:Un},positionBarProps:{markerSteps:Un,markerStartIndex:"startIndex",markerComponent:Un,markerStyle:Un,markerAttributes:Un},overviewBarProps:{barMethod:"method",barFillColor:"fillColor",barComponent:Un,barStyle:Un,barAttributes:Un}}),Es.defaultProps={layout:"default"},Es.propTyes={layout:c.a.oneOf(Object.keys(Ps))};var xs=Es;function ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cs(){return(Cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ts(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function As(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?As(Object(n),!0).forEach((function(e){Ms(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qs(t,e){return(qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Is(t);if(e){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(t,e){return!e||"object"!==Rs(e)&&"function"!=typeof e?Hs(t):e}function Hs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ws={onResidueClick:"residueClick"},Vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}(a,t);var e,n,r,o=Fs(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).el=i.a.createRef(),e._setupStores(),e.createDomHandler=Object(Gt.a)(e.createDomHandler.bind(Hs(e))),e.forwardProps=eo((function(t){return pe(t,["msaStore"])}),e.forwardProps.bind(Hs(e))),e}return e=a,(n=[{key:"_setupStores",value:function(){var t=this;this.positionStore=q(Yt),this.positionStore.dispatch(Bt.updateMainStore(this.props.msaStore.getState())),this.msaStoreUnsubscribe=this.props.msaStore.subscribe((function(){t.positionStore.dispatch(Bt.updateMainStore(t.props.msaStore.getState()))}))}},{key:"componentWillUnmount",value:function(){this.msaStoreUnsubscribe()}},{key:"getChildContext",value:function(){return{positionMSAStore:this.positionStore}}},{key:"createDomHandler",value:function(t){var e=this;return function(n){var r=new CustomEvent(t,{detail:n,bubbles:!0});e.el.current.dispatchEvent(r)}}},{key:"forwardProps",value:function(t){var e=this,n=Ds({},t);return be(Ws,(function(t,r){r in Ws&&!(r in n)&&(n[r]=e.createDomHandler(t))})),n}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.msaStore,r=Ts(t,["children","msaStore"]);return e?i.a.createElement(h,{store:n},i.a.createElement("div",Cs({},r,{ref:this.el}),e)):i.a.createElement(h,{store:n},i.a.createElement("div",{ref:this.el},i.a.createElement(xs,this.forwardProps(r))))}}])&&Ls(e.prototype,n),r&&Ls(e,r),a}(o.Component);Vs.childContextTypes={positionMSAStore:c.a.object},Vs.propTypes={sequences:c.a.arrayOf(Me).isRequired,width:c.a.number,height:c.a.number,tileWidth:c.a.number,tileHeight:c.a.number,position:qe,colorScheme:Le,onResidueMouseEnter:c.a.func,onResidueMouseLeave:c.a.func,onResidueClick:c.a.func,onResidueDoubleClick:c.a.func,layout:c.a.oneOf(["basic","default","inverse","full","compact","funky","nightingale"]),sequenceBorder:c.a.bool,sequenceBorderColor:c.a.string,sequenceBorderWidth:c.a.number,sequenceTextColor:c.a.string,sequenceTextFont:c.a.string,sequenceOverflow:c.a.oneOf(["hidden","auto","scroll"]),sequenceOverflowX:c.a.oneOf(["hidden","auto","scroll","initial"]),sequenceOverflowY:c.a.oneOf(["hidden","auto","scroll","initial"]),sequenceScrollBarPositionX:c.a.oneOf(["top","bottom"]),sequenceScrollBarPositionY:c.a.oneOf(["left","right"]),labelComponent:c.a.oneOfType([c.a.object,c.a.func]),labelStyle:c.a.object,labelAttributes:c.a.object,markerSteps:c.a.number,markerStartIndex:c.a.number,markerComponent:c.a.oneOfType([c.a.object,c.a.func]),markerStyle:c.a.object,markerAttributes:c.a.object,barMethod:c.a.oneOf(["information-content","conservation"]),barFillColor:c.a.string,barStyle:c.a.object,barAttributes:c.a.object,msaStore:c.a.object};var Bs,Us=Bn(Vs);Us.defaultProps=Ne,Us.propTypes=Ds({},Vs.propTypes),Vs.propTypes=pe(Vs.propTypes,[].concat(function(t){if(Array.isArray(t))return ks(t)}(Bs=Object.keys(Fe))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(Bs)||function(t,e){if(t){if("string"==typeof t)return ks(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ks(t,e):void 0}}(Bs)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["sequences","position"]));var zs=Us;function Ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ys(Object(n),!0).forEach((function(e){Gs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}}({},ct,{},Bt);var Ks=zs,Xs=n(567);function Qs(t){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zs(){return(Zs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function $s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Js(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tl(t,e){return(tl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rl(t);if(e){var o=rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(t,e){return!e||"object"!==Qs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tl(t,e)}(c,t);var e,n,o,a=el(c);function c(){return $s(this,c),a.apply(this,arguments)}return e=c,o=[{key:"observedAttributes",get:function(){return r.a.observedAttributes.concat(["labelwidth"])}}],(n=[{key:"refresh",value:function(){var t=this,e={sequences:this._data,height:this._height,width:this.width-(this._labelwidth||0),tileHeight:20,tileWidth:Math.max(1,this.getSingleBaseWidth()),colorScheme:"clustal",layout:"nightingale",sequenceOverflow:"scroll",sequenceOverflowX:"overflow",sequenceDisableDragging:!0};this._labelwidth&&(e.labelStyle={width:this._labelwidth-5,"text-align":"end","padding-right":5,overflow:"hidden"}),nt.a.render(i.a.createElement(Ks,Zs({},e,{ref:function(e){return t.el=e}})),this),window.requestAnimationFrame((function(){t.el&&(t.el.updatePositionByResidue({aaPos:t._displaystart}),1>t.getSingleBaseWidth()&&t.dispatchEvent(new CustomEvent("change",{detail:{displaystart:t._displaystart,displayend:t._displaystart+t.xScale.range()[1]},bubbles:!0,cancelable:!0})))}))}},{key:"data",set:function(t){var e=this;this._data=t,this.refresh(),window.requestAnimationFrame((function(){e.svg=Object(Xs.l)(e).select("div")}))}},{key:"margin",get:function(){return{top:10,right:0,bottom:10,left:this._labelwidth||10}}}])&&Js(e.prototype,n),o&&Js(e,o),c}(r.a);e.a=ol},725:function(t,e,n){"use strict";var r=n(595);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,r,o=u(s);function s(){return i(this,s),o.apply(this,arguments)}return e=s,r=[{key:"_filterOutResidueFragmentsOutOfLocation",value:function(t,e){t.locations.forEach((function(t){return t.fragments=t.fragments.filter((function(t){return e.some((function(e){return e.fragments.some((function(e){return t.start>=e.start&&t.end<=e.end}))}))}))})),t.locations=t.locations.filter((function(t){return t.fragments.length}))}},{key:"_getAccFromFeature",value:function(t){var e="";return"string"==typeof t?e=t:t.accession&&(e=t.accession),e}}],(n=[{key:"init",value:function(t,e){var n=0;if(this.height={},this.yPos={},this.maxYPos=0,t){this.innerPadding=3;for(var r={},o=0;o<t.length;o++){var i=t[o];this.height[i.accession]=this.expanded?14:16,this.yPos[i.accession]=this._padding,n=this.height[i.accession]+2*this._padding,this.maxYPos=Math.max(this.maxYPos,n),i.accession in r||(r[i.accession]={}),i.residues&&(n=this._initResidues(i.residues,i.accession,i.locations,this.expanded?n:this.yPos[i.accession],o,r,this.expanded))}if(e)for(var a=0;a<e.length;a++){var c=e[a];c.accession in this.height||(this.height[c.accession]=10,this.yPos[c.accession]=(this.expanded?this.maxYPos:this.innerPadding)+this._padding,n+=2*this._padding+(this.expanded?this.height[c.accession]:0),this.maxYPos=Math.max(this.maxYPos,n)),c.accession in r||(r[c.accession]={}),c.residues&&(n=this._initResidues(c.residues,c.accession,c.locations,c.expanded?n:this.yPos[c.accession],a,r,c.expanded))}this.maxYPos+=this._padding}}},{key:"_initResidues",value:function(t,e,n,r,o){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=0;c<t.length;c++){var u=t[c];s._filterOutResidueFragmentsOutOfLocation(u,n),u.accession in i[e]||(i[e][u.accession]={});for(var l=0;l<u.locations.length;l++){var f=u.locations[l].description;f in i[e][u.accession]||(i[e][u.accession][f]={height:a?10:this.height[e]-2*this.innerPadding,yPos:a?this.maxYPos+this._padding:r+this.innerPadding},r=a?this.maxYPos+2*this._padding+10:r),this.height["".concat(u.accession,"_").concat(o,"_").concat(c,"_").concat(l)]=i[e][u.accession][f].height,this.yPos["".concat(u.accession,"_").concat(o,"_").concat(c,"_").concat(l)]=i[e][u.accession][f].yPos,this.maxYPos=Math.max(this.maxYPos,r)}}return a?r:this.maxYPos+2*this._padding}},{key:"getFeatureYPos",value:function(t){var e=s._getAccFromFeature(t);return e in this.yPos?this.yPos[e]:0}},{key:"getFeatureHeight",value:function(t){var e=s._getAccFromFeature(t);return e in this.height?this.height[e]:0}}])&&a(e.prototype,n),r&&a(e,r),s}(r.a);function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t,e){var n,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:1},t),o=[],i=p(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r?r.end<a.start?(o.push(r),r=null,o.push(a)):r.start<a.start&&r.end>=a.end?(o.push({start:r.start,end:a.start-1,value:r.value}),o.push({start:a.start,end:a.end,value:a.value+r.value}),r=a.end===r.end?null:{start:a.end+1,end:r.end,value:r.value}):a.start<r.start&&a.end>r.end?(o.push({start:a.start,end:r.start-1,value:a.value}),o.push({start:r.start,end:r.end,value:a.value+r.value}),o.push({start:r.end+1,end:a.end,value:a.value}),r=null):a.end>=r.start&&a.end<=r.end?(a.start<r.start&&o.push({start:a.start,end:r.start-1,value:a.value}),o.push({start:r.start,end:a.end,value:a.value+r.value}),r=a.end<r.end?{start:a.end+1,end:r.end,value:r.value}:null):r.end>=a.start&&r.end<a.end?(o.push({start:r.start,end:a.start-1,value:r.value}),o.push({start:a.start,end:r.end,value:a.value+r.value}),o.push({start:r.end+1,end:a.end,value:a.value}),r=null):o.push(a):o.push(a)}}catch(t){i.e(t)}finally{i.f()}return r&&o.push(r),o};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=2,T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(a,t);var e,n,o,i=x(a);function a(){return S(this,a),i.apply(this,arguments)}return e=a,o=[{key:"_createResidueGroup",value:function(t){return t.selectAll("g.residues-group").data((function(t){return t.residues?t.residues.map((function(e,n){return m({},e,{feature:t,i:n})})):[]})).enter().append("g").attr("class","residues-group").selectAll("g.residues-locations").data((function(t){return t.locations.map((function(e,n){return m({},e,{accession:t.accession,feature:t.feature,location:e,i:t.i,j:n})}))})).enter().append("g").attr("class","residues-locations")}},{key:"observedAttributes",get:function(){return r.b.observedAttributes.concat(["expanded","color"])}},{key:"margin",get:function(){return{top:0,right:10,bottom:0,left:10}}}],(n=[{key:"_createTrack",value:function(){this._layoutObj.expanded=this._expanded,P(R(a.prototype),"_createTrack",this).call(this),this.children_g=null}},{key:"connectedCallback",value:function(){P(R(a.prototype),"connectedCallback",this).call(this),this._expanded=this.hasAttribute("expanded"),this._haveCreatedFeatures=!1}},{key:"attributeChangedCallback",value:function(t,e,n){if("expanded"===t&&e!==n&&this._contributors){var r,o=w(this._contributors);try{for(o.s();!(r=o.n()).done;)r.value.expanded=!e}catch(t){o.e(t)}finally{o.f()}}P(R(a.prototype),"attributeChangedCallback",this).call(this,t,e,n)}},{key:"getLayout",value:function(){return new f({layoutHeight:this._height,expanded:this._expanded,padding:2})}},{key:"_createResiduePaths",value:function(t){var e=this;return t.selectAll("g.residue").data((function(t){return t.fragments.map((function(e){return m({},e,{accession:t.accession,feature:m({},t.feature,{currentResidue:m({},e,{description:t.location.description})}),location:t.location,k:t.feature.k,i:t.i,j:t.j})}))})).enter().append("path").attr("class","feature rectangle residue").attr("d",(function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")})).attr("transform",(function(t){return"translate(".concat(e.getXFromSeqPosition(t.start),",").concat(C+e._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),")")})).attr("fill",(function(t){return e._getFeatureColor(t)})).attr("stroke","transparent").call(this.bindEvents,this)}},{key:"_refreshResiduePaths",value:function(t,e){var n=this,r=new Set(t.data().map((function(t){return"".concat(t.feature.accession,"-").concat(t.location.description)}))).size;t.attr("d",(function(t){return n._featureShape.getFeatureShape(n.getSingleBaseWidth(),n._layoutObj.getFeatureHeight("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),t.end?t.end-t.start+1:1,"rectangle")})).attr("transform",(function(t){return"translate(".concat(n.getXFromSeqPosition(t.start),",").concat(C+n._layoutObj.getFeatureYPos("".concat(t.accession,"_").concat(t.k,"_").concat(t.i,"_").concat(t.j)),")")})).style("pointer-events",(function(t){return e||t.feature&&t.feature.expanded?"auto":"none"})).style("stroke",(function(){return e?null:"none"})).style("opacity",(function(){return e?null:.8/r})).attr("fill",(function(t){return e||t.feature&&t.feature.expanded?n._getFeatureColor(t):"white"}))}},{key:"_createFeatures",value:function(){var t=this;if(this._layoutObj.init(this._data,this._contributors),this._data.forEach((function(t,e){return t.k=e})),this.featuresG=this.seq_g.selectAll("g.feature-group").data(this._data).enter().append("g").attr("class","feature-group").attr("id",(function(t){return"g_".concat(t.accession)})),this.locations=this.featuresG.selectAll("g.location-group").data((function(t){return t.locations.map((function(e){return m({},e,{feature:t})}))})).enter().append("g").attr("class","location-group"),this.coverLines=this.locations.selectAll("line.cover").data((function(t){return[t.fragments.reduce((function(e,n){return{start:Math.min(e.start,n.start),end:Math.max(e.end,n.end),feature:t.feature}}),{start:1/0,end:-1/0})]})).enter().append("line").attr("class","cover"),this.features=this.locations.selectAll("path.feature").data((function(t){return t.fragments.map((function(e){return m({},e,{feature:t.feature,fragments:t.fragments})}))})).enter().append("path").attr("class",(function(e){return"".concat(t._getShape(e)," feature")})).on("click.expanded",(function(){t._expanded?t.removeAttribute("expanded"):t.setAttribute("expanded","expanded")})).call(this.bindEvents,this),this.residues_g=a._createResidueGroup(this.featuresG),this.residues_loc=this._createResiduePaths(this.residues_g),this._contributors){this._contributors.forEach((function(t,e){return t.k=e})),this.children_g||(this.children_g=this.svg.append("g").attr("class","children-features")),this.childrenGroup=this.children_g.append("g").attr("class","children-group"),this.childGroup=this.childrenGroup.selectAll("g.child-group").data(this._contributors).enter().append("g").attr("class","child-group");var e=this.childGroup.selectAll("g.child-location-group").data((function(e){return e.expanded=t._expanded,e.locations.map((function(t){return m({},t,{feature:e})}))})).enter().append("g").attr("class",(function(t,e){return"child-location-group clg-".concat(e)}));this.coverLinesChildren=e.selectAll("line.cover").data((function(t){return[t.fragments.reduce((function(e,n){return{start:Math.min(e.start,n.start),end:Math.max(e.end,n.end),feature:t.feature}}),{start:1/0,end:-1/0})]})).enter().append("line").attr("class","cover"),this.featureChildren=e.selectAll("path.child-fragment").data((function(t){return t.fragments.map((function(e){return m({},e,{feature:t.feature,fragments:t.fragments})}))})).enter().append("path").attr("class",(function(e){return"".concat(t._getShape(e)," child-fragment feature")})).call(this.bindEvents,this).on("click.expanded",(function(e){e.feature.expanded=!e.feature.expanded,t.refresh()})),this.child_residues_g=a._createResidueGroup(this.childGroup),this.child_residues_loc=this._createResiduePaths(this.child_residues_g),this._coverage&&this._coverage.length&&this._createCoverage()}this.svg.attr("height",this._layoutObj.maxYPos),this._haveCreatedFeatures=!0}},{key:"_createCoverage",value:function(){this._accession=this._data&&this._data[0]&&this._data[0].accession||"_",this.coverage_mask=this.svg.append("defs").append("mask").attr("id","mask-".concat(this._accession)),this.coverageMaskFragment=this.coverage_mask.selectAll("rect").data(this._coverage).enter().append("rect").attr("y",0).attr("height",this._height)}},{key:"_refreshCoverage",value:function(){var t=this;this.featuresG.attr("mask",this._expanded?null:"url(#mask-".concat(this._accession,")")),this.coverageMaskFragment.attr("x",(function(e){return t.getXFromSeqPosition(e.start)})).attr("width",(function(e){return t.getSingleBaseWidth()*(e.end-e.start+1)})).attr("fill","white").attr("opacity",(function(e){return(e.value/t._contributors.length+.3)/1.3}))}},{key:"_refreshFeatures",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Set(t.data().map((function(t){return t.feature.accession}))).size;t.attr("d",(function(t){return e._featureShape.getFeatureShape(e.getSingleBaseWidth(),e._layoutObj.getFeatureHeight(t.feature),t.end?t.end-t.start+1:1,n?e._getShape(t.shape?t:t.feature):"rectangle")})).attr("fill",(function(t){return n?e._getFeatureColor(t.feature):"white"})).attr("opacity",n?1:.8/r).style("stroke",(function(t){return n?e._getFeatureColor(t.feature):"none"})).attr("transform",(function(t){return"translate(".concat(e.getXFromSeqPosition(t.start),",").concat(C+e._layoutObj.getFeatureYPos(t.feature),")")})).style("pointer-events",n?"auto":"none")}},{key:"_refreshCoverLine",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.attr("x1",(function(t){return e.getXFromSeqPosition(t.start)})).attr("x2",(function(t){return e.getXFromSeqPosition(t.end+1)})).attr("y1",(function(t){return C+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2})).attr("y2",(function(t){return C+e._layoutObj.getFeatureYPos(t.feature)+e._layoutObj.getFeatureHeight(t.feature)/2})).attr("stroke",(function(t){return e._getFeatureColor(t.feature)})).attr("visibility",n?"visible":"hidden")}},{key:"refresh",value:function(){var t=this;this._haveCreatedFeatures&&(this._layoutObj.expanded=this._expanded,this._layoutObj.init(this._data,this._contributors),this.height=this._layoutObj.maxYPos,this._refreshCoverLine(this.coverLines),this._refreshFeatures(this.features),this._refreshResiduePaths(this.residues_loc,this._expanded),this._contributors&&(this.childrenGroup.attr("visibility",this._expanded?"visible":"hidden"),this._refreshCoverLine(this.coverLinesChildren,this._expanded),this._refreshFeatures(this.featureChildren,this._expanded),this.child_residues_g.attr("visibility",(function(){return t._expanded?"visible":"hidden"})),this._refreshResiduePaths(this.child_residues_loc),this._coverage&&this._coverage.length&&this._refreshCoverage()),this._updateHighlight(),this.svg.attr("height",this._layoutObj.maxYPos))}},{key:"contributors",set:function(t){this._contributors=a.normalizeLocations(t),this._coverage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return n&&(r=b({start:1,end:e,value:0},r)),t.forEach((function(t){return t.locations.forEach((function(t){return t.fragments.forEach((function(t){r=b(t,r)}))}))})),r}(this._contributors,this._length),this._data&&this._createTrack()}},{key:"color",set:function(t){this._color!==t&&(this._color=t,this.refresh())}}])&&_(e.prototype,n),o&&_(e,o),a}(r.b);e.a=T},744:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(808),i=n(809);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=O,e.resolve=function(t,e){return O(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?O(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=O(t));return t instanceof a?t.format():a.prototype.format.call(t)},e.Url=a;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(l),p=["%","/","?",";","#"].concat(f),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(810);function O(t,e,n){if(t&&i.isObject(t)&&t instanceof a)return t;var r=new a;return r.parse(t,e,n),r}a.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+r(t));var a=t.indexOf("?"),u=-1!==a&&a<t.indexOf("#")?"?":"#",l=t.split(u);l[0]=l[0].replace(/\\/g,"/");var O=t=l.join(u);if(O=O.trim(),!n&&1===t.split("#").length){var w=s.exec(O);if(w)return this.path=O,this.href=O,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var j=c.exec(O);if(j){var S=(j=j[0]).toLowerCase();this.protocol=S,O=O.substr(j.length)}if(n||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===O.substr(0,2);!_||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(_||j&&!g[j])){for(var P,E,x=-1,k=0;k<h.length;k++){-1!==(R=O.indexOf(h[k]))&&(-1===x||R<x)&&(x=R)}-1!==(E=-1===x?O.lastIndexOf("@"):O.lastIndexOf("@",x))&&(P=O.slice(0,E),O=O.slice(E+1),this.auth=decodeURIComponent(P)),x=-1;for(k=0;k<p.length;k++){var R;-1!==(R=O.indexOf(p[k]))&&(-1===x||R<x)&&(x=R)}-1===x&&(x=O.length),this.host=O.slice(0,x),O=O.slice(x),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var T=this.hostname.split(/\./),A=(k=0,T.length);k<A;k++){var D=T[k];if(D&&!D.match(d)){for(var M="",L=0,q=D.length;L<q;L++)D.charCodeAt(L)>127?M+="x":M+=D[L];if(!M.match(d)){var F=T.slice(0,k),N=T.slice(k+1),H=D.match(y);H&&(F.push(H[1]),N.unshift(H[2])),N.length&&(O="/"+N.join(".")+O),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=o.toASCII(this.hostname));var I=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+I,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!b[S])for(k=0,A=f.length;k<A;k++){var V=f[k];if(-1!==O.indexOf(V)){var B=encodeURIComponent(V);B===V&&(B=escape(V)),O=O.split(V).join(B)}}var U=O.indexOf("#");-1!==U&&(this.hash=O.substr(U),O=O.slice(0,U));var z=O.indexOf("?");if(-1!==z?(this.search=O.substr(z),this.query=O.substr(z+1),e&&(this.query=m.parse(this.query)),O=O.slice(0,z)):e&&(this.search="",this.query={}),O&&(this.pathname=O),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var Y=this.search||"";this.path=I+Y}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var c=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),c&&"?"!==c.charAt(0)&&(c="?"+c),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(c=c.replace("#","%23"))+r},a.prototype.resolve=function(t){return this.resolveObject(O(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var c=r[o];n[c]=this[c]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),s=0;s<u.length;s++){var l=u[s];"protocol"!==l&&(n[l]=t[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var h=f[p];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||v[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var y=n.pathname||"",b=n.search||"";n.path=y+b}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=O||m||n.host&&t.pathname,j=w,S=n.pathname&&n.pathname.split("/")||[],_=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===S[0])),O)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(_)n.hostname=n.host=S.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=S.slice(-1)[0],E=(n.host||t.host||S.length>1)&&("."===P||".."===P)||""===P,x=0,k=S.length;k>=0;k--)"."===(P=S[k])?S.splice(k,1):".."===P?(S.splice(k,1),x++):x&&(S.splice(k,1),x--);if(!w&&!j)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var R,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);_&&(n.hostname=n.host=C?"":S.length?S.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift()));return(w=w||n.host&&S.length)&&!C&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},745:function(t,e){(function(e){t.exports=e}).call(this,{})},806:function(t){t.exports=JSON.parse('{"sequence":"MLPGLALLLLAAWTARALEVPTDGNAGLLAEPQIAMFCGRLNMHMNVQNGKWDSDPSGTKTCIDTKEGILQYCQEVYPELQITNVVEANQPVTIQNWCKRGRKQCKTHPHFVIPYRCLVGEFVSDALLVPDKCKFLHQERMDVCETHLHWHTVAKETCSEKSTNLHDYGMLLPCGIDKFRGVEFVCCPLAEESDNVDSADAEEDDSDVWWGGADTDYADGSEDKVVEVAEEEEVAEVEEEEADDDEDDEDGDEVEEEAEEPYEEATERTTSIATTTTTTTESVEEVVREVCSEQAETGPCRAMISRWYFDVTEGKCAPFFYGGCGGNRNNFDTEEYCMAVCGSAMSQSLLKTTQEPLARDPVKLPTTAASTPDAVDKYLETPGDENEHAHFQKAKERLEAKHRERMSQVMREWEEAERQAKNLPKADKKAVIQHFQEKVESLEQEAANERQQLVETHMARVEAMLNDRRRLALENYITALQAVPPRPRHVFNMLKKYVRAEQKDRQHTLKHFEHVRMVDPKKAAQIRSQVMTHLRVIYERMNQSLSLLYNVPAVAEEIQDEVDELLQKEQNYSDDVLANMISEPRISYGNDALMPSLTETKTTVELLPVNGEFSLDDLQPWHSFGADSVPANTENEVEPVDARPAADRGLTTRPGSGLTNIKTEEISEVKMDAEFRHDSGYEVHHQKLVFFAEDVGSNKGAIIGLMVGGVVIATVIVITLVMLKKKQYTSIHHGVVEVDAAVTPEERHLSKMQQNGYENPTYKFFEQMQN"}')},807:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! rasterizeHTML.js - v1.3.0 - 2018-03-18
* http://www.github.com/cburgmer/rasterizeHTML.js
* Copyright (c) 2018 Christoph Burgmer; Licensed MIT */void 0===(i=this)&&void 0!==window&&(i=window),r=[n(744),n(813),n(814),n(815)],void 0===(o=function(t,e,n,r){return i.rasterizeHTML=(o=e,c=n,u=r,s=function(t){"use strict";var e={},n=[];e.joinUrl=function(e,n){return e?t.resolve(e,n):n},e.getConstantUniqueIdFor=function(t){return n.indexOf(t)<0&&n.push(t),n.indexOf(t)},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n};var r=function(t){return function(t){return"object"===a(t)&&null!==t}(t)&&Object.prototype.toString.apply(t).match(/\[object (Canvas|HTMLCanvasElement)\]/i)};return e.parseOptionalParameters=function(t){var n={canvas:null,options:{}};return null==t[0]||r(t[0])?(n.canvas=t[0]||null,n.options=e.clone(t[1])):n.options=e.clone(t[0]),n},e}(t),l=function(t){"use strict";var e={},n=function(t,e,n){var r=t[e];return t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,[t,r])},r};return e.baseUrlRespectingXhr=function(e,r){return function(){var o=new e;return n(o,"open",(function(e,n){var o=e.shift(),i=e.shift(),a=t.joinUrl(r,i);return n.apply(this,[o,a].concat(e))})),o}},e.finishNotifyingXhr=function(t){var e,r=0,o=0,i=!1,a=new Promise((function(t){e=function(){r-o<=0&&i&&t({totalCount:r})}})),c=function(){var i=new t;return n(i,"send",(function(t,e){return r+=1,e.apply(this,arguments)})),i.addEventListener("load",(function(){o+=1,e()})),i};return c.waitForRequestsToFinish=function(){return i=!0,e(),a},c},e}(s),f=function(t){"use strict";var e={},n=function(t){return Array.prototype.slice.call(t)},r={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,n,o){var i=e.querySelector(n),a=":"+o,c="rasterizehtml"+o;i&&(r[o]?t.addClassNameRecursively(i,c):t.addClassName(i,c),t.rewriteCssSelectorWith(e,a,"."+c))},e.persistInputValues=function(t){var e=t.querySelectorAll("input"),r=t.querySelectorAll("textarea"),o=function(t){return"checkbox"===t.type||"radio"===t.type};n(e).filter(o).forEach((function(t){t.checked?t.setAttribute("checked",""):t.removeAttribute("checked")})),n(e).filter((function(t){return!o(t)})).forEach((function(t){t.setAttribute("value",t.value)})),n(r).forEach((function(t){t.textContent=t.value}))},e.rewriteTagNameSelectorsToLowerCase=function(e){t.lowercaseCssTypeSelectors(e,t.findHtmlOnlyNodeNames(e))},e}(function(){"use strict";var t={},e=function(t){return Array.prototype.slice.call(t)};t.addClassName=function(t,e){t.className+=" "+e},t.addClassNameRecursively=function(e,n){t.addClassName(e,n),e.parentNode!==e.ownerDocument&&t.addClassNameRecursively(e.parentNode,n)};var n=function(t,n){var r=t.cssText.replace(/^[^\{]+/,"");!function(t,n){var r=t.parentStyleSheet,o=e(r.cssRules).indexOf(t);r.insertRule(n,o+1),r.deleteRule(o)}(t,n+" "+r)},r=function(t){var n;t.textContent=(n=t.sheet.cssRules,e(n).reduce((function(t,e){return t+e.cssText}),""))},o=function(t,o,i){var a=function(t){return"((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)"}(o);e(t.querySelectorAll("style")).forEach((function(t){var o,c,u;void 0===t.sheet&&(o=t,c=document.implementation.createHTMLDocument(""),(u=document.createElement("style")).textContent=o.textContent,c.body.appendChild(u),o.sheet=u.sheet);var s=e(t.sheet.cssRules).filter((function(t){return t.selectorText&&new RegExp(a,"i").test(t.selectorText)}));s.length&&(s.forEach((function(t){var e=t.selectorText.replace(new RegExp(a,"gi"),(function(t,e,n){return e+i(n)}));e!==t.selectorText&&n(t,e)})),r(t))}))};return t.rewriteCssSelectorWith=function(t,e,n){o(t,[e],(function(){return n}))},t.lowercaseCssTypeSelectors=function(t,e){o(t,e,(function(t){return t.toLowerCase()}))},t.findHtmlOnlyNodeNames=function(t){var e,n=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),r={},o={};do{e=n.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===n.currentNode.namespaceURI?r[e]=!0:o[e]=!0}while(n.nextNode());return Object.keys(r).filter((function(t){return!o[t]}))},t}()),p=function(t,e,n,r){"use strict";var o={executeJavascript:function(t,n){return new Promise((function(o){var i=function(t,e,n,r){var o=t.createElement(e);return o.style.visibility="hidden",o.style.width=n+"px",o.style.height=r+"px",o.style.position="absolute",o.style.top=-1e4-r+"px",o.style.left=-1e4-n+"px",t.getElementsByTagName("body")[0].appendChild(o),o}(r.document,"iframe",n.width,n.height),a=t.outerHTML,c=[],u=n.executeJsTimeout||0,s=function(){var t=i.contentDocument;r.document.getElementsByTagName("body")[0].removeChild(i),o({document:t,errors:c})},l=i.contentWindow.XMLHttpRequest,f=e.finishNotifyingXhr(l),p=e.baseUrlRespectingXhr(f,n.baseUrl);i.onload=function(){var t;(t=u,t>0?new Promise((function(e){setTimeout(e,t)})):Promise.resolve()).then(f.waitForRequestsToFinish).then(s)},i.contentDocument.open(),i.contentWindow.XMLHttpRequest=p,i.contentWindow.onerror=function(t){c.push({resourceType:"scriptExecution",msg:t})},i.contentDocument.write("<!DOCTYPE html>"),i.contentDocument.write(a),i.contentDocument.close()}))}},i=function(t,e,n,o,i){var a,c,u,s,l,f,p,h=Math.max(t.scrollWidth,t.clientWidth),d=Math.max(t.scrollHeight,t.clientHeight);return e?(a=(f=function(t,e){var n=t.querySelector(e);if(n)return n;if(t.ownerDocument.querySelector(e)===t)return t;throw{message:"Clipping selector not found"}}(t,e).getBoundingClientRect()).top,c=f.left,u=f.width,s=f.height):(a=0,c=0,u=h,s=d),p=function(t,e,n,r){return{width:Math.max(t.width*r,e),height:Math.max(t.height*r,n)}}({width:u,height:s},n,o,i),l=r.getComputedStyle(t.ownerDocument.documentElement).fontSize,{left:c,top:a,width:p.width,height:p.height,viewportWidth:h,viewportHeight:d,rootFontSize:l}};o.calculateDocumentContentSize=function(t,e){return new Promise((function(n,o){var a,c=e.zoom||1;a=function(t,e,n){var o=Math.floor(t/n),i=Math.floor(e/n);return function(t,e,n){var r=t.createElement("iframe");return r.style.width=e+"px",r.style.height=n+"px",r.style.visibility="hidden",r.style.position="absolute",r.style.top=-1e4-n+"px",r.style.left=-1e4-e+"px",r.style.borderWidth=0,r.sandbox="allow-same-origin",r.scrolling="no",r}(r.document,o,i)}(e.width,e.height,c),r.document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){var u,s=a.contentDocument;try{u=i(function(t,e){var n=t.tagName;return e.querySelector(n)}(t,s),e.clip,e.width,e.height,c),n(u)}catch(t){o(t)}finally{r.document.getElementsByTagName("body")[0].removeChild(a)}},a.contentDocument.open(),a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write(function(t){var e=t.tagName.toLowerCase();return"html"===e||"body"===e?t.outerHTML:'<body style="margin: 0;">'+t.outerHTML+"</body>"}(t)),a.contentDocument.close()}))},o.parseHtmlFragment=function(t){var e=r.document.implementation.createHTMLDocument("");e.documentElement.innerHTML=t;var n=e.querySelector("body").firstChild;if(!n)throw"Invalid source";return n},o.parseHTML=function(t){var e=r.document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,function(t,e){var n,o,i,a,c=/<html((?:\s+[^>]*)?)>/im.exec(e),u=r.document.implementation.createHTMLDocument("");if(c)for(n="<div"+c[1]+"></div>",u.documentElement.innerHTML=n,i=u.querySelector("div"),o=0;o<i.attributes.length;o++)a=i.attributes[o],t.documentElement.setAttribute(a.name,a.value)}(e,t),e};var a=function(t){try{return n.failOnParseError(t)}catch(t){throw{message:"Invalid source",originalError:t}}};o.validateXHTML=function(t){var e=(new DOMParser).parseFromString(t,"application/xml");a(e)};var c=null,u=function(e,n){return new Promise((function(r,o){var i=new window.XMLHttpRequest,a=function(t,e){return"none"===e||"repeated"===e?(null!==c&&"repeated"===e||(c=Date.now()),t+"?_="+c):t}(t.joinUrl(n.baseUrl,e),n.cache),u=function(t){o({message:"Unable to load page",originalError:t})};i.addEventListener("load",(function(){200===i.status||0===i.status?r(i.responseXML):u(i.statusText)}),!1),i.addEventListener("error",(function(t){u(t)}),!1);try{i.open("GET",a,!0),i.responseType="document",i.send(null)}catch(t){u(t)}}))};return o.loadDocument=function(t,e){return u(t,e).then((function(t){return a(t)}))},o}(s,l,c,window),h=function(t){"use strict";var e,n={},r=function(t,e){return e?URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)},o=function(t){t instanceof Blob&&URL.revokeObjectURL(t)},i='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',a=function(t){return new Promise((function(e,n){var r=document.createElement("canvas"),o=new Image;o.onload=function(){var t=r.getContext("2d");try{t.drawImage(o,0,0),r.toDataURL("image/png"),e(!0)}catch(t){e(!1)}},o.onerror=n,o.src=t}))},c=function(){return new Promise((function(e,n){var c;(function(){if(t.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch(t){}return!1})()&&t.URL?(c=r(i,!0),a(c).then((function(t){return o(c),!t&&a(r(i,!1)).then((function(t){return t}))}),(function(){return!1}))).then((function(t){e(!t)}),(function(){n()})):e(!1)}))},u=function(t){return(void 0===e&&(e=c()),e).then((function(e){return r(t,e)}))};return n.renderSvg=function(t){return new Promise((function(e,n){var r,i,a=function(){r&&o(r)};(i=new Image).onload=function(){i.onload=null,i.onerror=null,a(),e(i)},i.onerror=function(){a(),n()},u(t).then((function(t){r=t,i.src=r}),n)}))},n}(window),d=function(t,e,n,r){"use strict";var o={},i=function(t){var e=Object.keys(t);return e.length?" "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" "):""},a=function(t,n,o){var a=r.serializeToString(t);e.validateXHTML(a);var c,u,s=function(t){var e,n;return e=Math.round(t.viewportWidth),n=Math.round(t.viewportHeight),{x:-t.left,y:-t.top,width:e,height:n}}(n);return u=(c=s).style||"",c.style=u+"float: left;",function(t){t.externalResourcesRequired=!0}(s),'<svg xmlns="http://www.w3.org/2000/svg"'+i(function(t,e){var n=e||1,r={width:t.width,height:t.height,"font-size":t.rootFontSize};return 1!==n&&(r.style="transform:scale("+n+"); transform-origin: 0 0;"),r}(n,o))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+i(s)+">"+a+"</foreignObject></svg>"};return o.getSvgForDocument=function(t,e,r){return n.rewriteTagNameSelectorsToLowerCase(t),a(t,e,r)},o.drawDocumentAsSvg=function(t,r){return["hover","active","focus","target"].forEach((function(e){r[e]&&n.fakeUserAction(t,r[e],e)})),e.calculateDocumentContentSize(t,r).then((function(e){return o.getSvgForDocument(t,e,r.zoom)}))},o}(0,p,f,o),y=function(t,e,n,r,o,i){"use strict";var a={},c=function(t){return{message:"Error rendering page",originalError:t}},u=function(t){return o.renderSvg(t).then((function(e){return{image:e,svg:t}}),(function(t){throw c(t)}))},s=function(t,e,n){return r.drawDocumentAsSvg(t,n).then(u).then((function(t){return e&&function(t,e){try{e.getContext("2d").drawImage(t,0,0)}catch(t){throw c(t)}}(t.image,e),t}))};return a.rasterize=function(r,o,a){var c;return(c=t.clone(a)).inlineScripts=!0===a.executeJs,i.inlineReferences(r,c).then((function(t){return a.executeJs?function(t,r){return e.executeJavascript(t,r).then((function(t){var e=t.document;return n.persistInputValues(e),{document:e,errors:t.errors}}))}(r,a).then((function(e){return{element:e.document.documentElement,errors:t.concat(e.errors)}})):{element:r,errors:t}})).then((function(t){return s(t.element,o,a).then((function(e){return{image:e.image,svg:e.svg,errors:t.errors}}))}))},a}(s,p,f,d,h,u),function(t,e,n){"use strict";var r={},o=function(e){var n,r=function(t,e){var n=t?t.width:300,r=t?t.height:200;return{width:void 0!==e.width?e.width:n,height:void 0!==e.height?e.height:r}}(e.canvas,e.options);return(n=t.clone(e.options)).width=r.width,n.height=r.height,n};r.drawDocument=function(){var e=arguments[0],r=Array.prototype.slice.call(arguments,1),i=t.parseOptionalParameters(r),a=e.documentElement?e.documentElement:e;return n.rasterize(a,i.canvas,o(i))};var i=function(t,n,o){var i=e.parseHTML(t);return r.drawDocument(i,n,o)};r.drawHTML=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.parseOptionalParameters(n);return i(e,r.canvas,r.options)};var a=function(n,o,i){return e.loadDocument(n,i).then((function(e){var a=function(e,n,r){var o=document.implementation.createHTMLDocument("");o.replaceChild(e.documentElement,o.documentElement);var i=r?t.clone(r):{};return r.baseUrl||(i.baseUrl=n),{document:o,options:i}}(e,n,i);return r.drawDocument(a.document,o,a.options)}))};return r.drawURL=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.parseOptionalParameters(n);return a(e,r.canvas,r.options)},r}(s,p,y));var o,c,u,s,l,f,p,h,d,y}.apply(e,r))||(t.exports=o)},808:function(t,e,n){(function(t,r){var o;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){var c="object"==i(e)&&e&&!e.nodeType&&e,u="object"==i(t)&&t&&!t.nodeType&&t,s="object"==(void 0===r?"undefined":i(r))&&r;s.global!==s&&s.window!==s&&s.self!==s||(a=s);var l,f,p=2147483647,h=/^xn--/,d=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,g=String.fromCharCode;function m(t){throw new RangeError(b[t])}function O(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function w(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(y,".")).split("."),e).join(".")}function j(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function S(t){return O(t,(function(t){var e="";return t>65535&&(e+=g((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=g(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var r=0;for(t=n?v(t/700):t>>1,t+=v(t/e);t>455;r+=36)t=v(t/35);return v(r+36*t/(t+38))}function E(t){var e,n,r,o,i,a,c,u,s,l,f,h=[],d=t.length,y=0,b=128,g=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),h.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<d;){for(i=y,a=1,c=36;o>=d&&m("invalid-input"),((u=(f=t.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>v((p-y)/a))&&m("overflow"),y+=u*a,!(u<(s=c<=g?1:c>=g+26?26:c-g));c+=36)a>v(p/(l=36-s))&&m("overflow"),a*=l;g=P(y-i,e=h.length+1,0==i),v(y/e)>p-b&&m("overflow"),b+=v(y/e),y%=e,h.splice(y++,0,b)}return S(h)}function x(t){var e,n,r,o,i,a,c,u,s,l,f,h,d,y,b,O=[];for(h=(t=j(t)).length,e=128,n=0,i=72,a=0;a<h;++a)(f=t[a])<128&&O.push(g(f));for(r=o=O.length,o&&O.push("-");r<h;){for(c=p,a=0;a<h;++a)(f=t[a])>=e&&f<c&&(c=f);for(c-e>v((p-n)/(d=r+1))&&m("overflow"),n+=(c-e)*d,e=c,a=0;a<h;++a)if((f=t[a])<e&&++n>p&&m("overflow"),f==e){for(u=n,s=36;!(u<(l=s<=i?1:s>=i+26?26:s-i));s+=36)b=u-l,y=36-l,O.push(g(_(l+b%y,0))),u=v(b/y);O.push(g(_(u,0))),i=P(n,d,r==o),n=0,++r}++n,++e}return O.join("")}if(l={version:"1.4.1",ucs2:{decode:j,encode:S},decode:E,encode:x,toASCII:function(t){return w(t,(function(t){return d.test(t)?"xn--"+x(t):t}))},toUnicode:function(t){return w(t,(function(t){return h.test(t)?E(t.slice(4).toLowerCase()):t}))}},"object"==i(n(745))&&n(745))void 0===(o=function(){return l}.call(e,n,e,t))||(t.exports=o);else if(c&&u)if(t.exports==c)u.exports=l;else for(f in l)l.hasOwnProperty(f)&&(c[f]=l[f]);else a.punycode=l}(this)}).call(this,n(153)(t),n(112))},809:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===r(t)&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},810:function(t,e,n){"use strict";e.decode=e.parse=n(811),e.encode=e.stringify=n(812)},811:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var c=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var s=t.length;u>0&&s>u&&(s=u);for(var l=0;l<s;++l){var f,p,h,d,y=t[l].replace(c,"%20"),b=y.indexOf(n);b>=0?(f=y.substr(0,b),p=y.substr(b+1)):(f=y,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(a,h)?o(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},812:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t){switch(r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===r(t)?a(c(t),(function(r){var c=encodeURIComponent(o(r))+n;return i(t[r])?a(t[r],(function(t){return c+encodeURIComponent(o(t))})).join(e):c+encodeURIComponent(o(t[r]))})).join(e):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var c=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},813:function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var t=function(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e},e=function(t){return Array.prototype.map.call(t.childNodes,(function(t){return r(t)})).join("")},n=function(n,r){var o="<"+t(n);return o+=function(t,e){return Array.prototype.map.call(t.attributes||t.attrs,(function(t){return t.name})).indexOf("xmlns")>=0||!e&&t.namespaceURI===t.parentNode.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(n,r),Array.prototype.forEach.call(n.attributes||n.attrs,(function(t){o+=function(t){var e=t.value;return" "+t.name+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}(t)})),n.childNodes.length>0?(o+=">",o+=e(n),o+="</"+t(n)+">"):o+="/>",o},r=function(t,r){var o=r&&r.rootNode;return"#document"===t.nodeName||"#document-fragment"===t.nodeName?e(t):t.tagName?n(t,o):"#text"===t.nodeName?function(t){var e=t.nodeValue||t.value||"";return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t):"#comment"===t.nodeName?function(t){return"\x3c!--"+t.data.replace(/-/g,"&#45;")+"--\x3e"}(t):"#cdata-section"===t.nodeName?function(t){return"<![CDATA["+t.nodeValue+"]]>"}(t):void 0};return{serializeToString:function(t){return r(t,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}})?r.apply(e,o):r)||(t.exports=i)},814:function(t,e,n){"use strict";var r=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],o=function(t){var e,n,o,i,a=(e=t,n=new XMLSerializer,Array.prototype.map.call(e.childNodes,(function(t){return n.serializeToString(t)})).join(""));for(o=0;o<r.length;o++)if(i=r[o].exec(a))return i[1]};e.failOnParseError=function(t){return function(t){var e;if(null===t)throw new Error("Parse error");var n=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0}(t);if(void 0!==n)throw e=o(n)||"Parse error",new Error(e)}(t),t}},815:function(t,e,n){"use strict";var r=n(682),o=n(816),i=n(817),a=n(818),c=n(722),u=function(t){return t.map((function(e,n){var o;return n===t.length-1&&(e={baseUrl:(o=e.baseUrl,r.joinUrl(o,"."))}),JSON.stringify(e)}))},s=function(t,e){return!1!==e.cache&&"none"!==e.cache&&e.cacheBucket?r.memoize(t,u,e.cacheBucket):t},l=function(t,e,n){var r=c.rulesForCssText(t);return a.loadCSSImportsForRules(r,e,n).then((function(e){return a.loadAndInlineCSSResourcesForRules(r,n).then((function(n){var o=e.errors.concat(n.errors),i=e.hasChanges||n.hasChanges;return i&&(t=c.cssRulesToText(r)),{hasChanges:i,content:t,errors:o}}))}))};e.loadAndInlineStyles=function(t,e){var n,o=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,(function(t){return!t.attributes.type||"text/css"===t.attributes.type.value}))}(t),i=[],a=[];return(n=r.clone(e)).baseUrl=n.baseUrl||r.getDocumentBaseUrl(t),Promise.all(o.map((function(t){return function(t,e,n){var o=t.textContent;return s(l,e)(o,n,e).then((function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),r.cloneArray(e.errors)}))}(t,n,a).then((function(t){i=i.concat(t)}))}))).then((function(){return i}))};var f=function(t,e){return r.ajax(t,e).then((function(t){return{content:t,cssRules:c.rulesForCssText(t)}})).then((function(e){var n=a.adjustPathsOfCssResources(t,e.cssRules);return{content:e.content,cssRules:e.cssRules,hasChanges:n}})).then((function(t){return a.loadCSSImportsForRules(t.cssRules,[],e).then((function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}}))})).then((function(t){return a.loadAndInlineCSSResourcesForRules(t.cssRules,e).then((function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}}))})).then((function(t){var e=t.content;return t.hasChanges&&(e=c.cssRulesToText(t.cssRules)),{content:e,errors:t.errors}}))};e.loadAndInlineCssLinks=function(t,e){var n=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,(function(t){return t.attributes.rel&&"stylesheet"===t.attributes.rel.value&&(!t.attributes.type||"text/css"===t.attributes.type.value)}))}(t),o=[];return Promise.all(n.map((function(t){return function(t,e){var n=t.attributes.href.value,o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),s(f,e)(n,i).then((function(t){return{content:t.content,errors:r.cloneArray(t.errors)}}))}(t,e).then((function(e){var n,r,i,a;n=t,r=e.content+"\n",a=n.parentNode,(r=r.trim())&&((i=n.ownerDocument.createElement("style")).type="text/css",i.appendChild(n.ownerDocument.createTextNode(r)),a.insertBefore(i,n)),a.removeChild(n),o=o.concat(e.errors)}),(function(t){o.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})}))}))).then((function(){return o}))},e.loadAndInlineImages=o.inline,e.loadAndInlineScript=i.inline,e.inlineReferences=function(t,n){var r=[],o=[e.loadAndInlineImages,e.loadAndInlineStyles,e.loadAndInlineCssLinks];return!1!==n.inlineScripts&&o.push(e.loadAndInlineScript),Promise.all(o.map((function(e){return e(t,n).then((function(t){r=r.concat(t)}))}))).then((function(){return r}))}},816:function(t,e,n){"use strict";var r=n(682),o=function(t){return Array.prototype.slice.call(t)};e.inline=function(t,e){var n,i=o(t.getElementsByTagName("img")),a=o(t.getElementsByTagName("image")),c=(n=t.getElementsByTagName("input"),Array.prototype.filter.call(n,(function(t){return"image"===t.type}))),u=function(t){return t.filter((function(t){var e=null;return t.hasAttribute("src")?e=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?e=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(e=t.getAttribute("href")),null!==e&&!r.isDataUri(e)}))}(i=(i=i.concat(a)).concat(c));return r.collectAndReportErrors(u.map((function(t){return function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),r.getDataURIForImageURL(n,i).then((function(t){return t}),(function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}}))}(t,e).then((function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)}))})))}},817:function(t,e,n){"use strict";var r=n(682);e.inline=function(t,e){var n=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,(function(t){return!!t.attributes.src}))}(t);return r.collectAndReportErrors(n.map((function(t){return function(t,e){var n=t.attributes.src.value,o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),r.ajax(n,i).catch((function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}}))}(t,e).then((function(e){!function(t,e){t.attributes.removeNamedItem("src"),t.textContent=e.replace(/<\//g,"<\\/")}(t,e)}))})))}},818:function(t,e,n){"use strict";var r=n(682),o=n(722),i=n(819),a=n(820),c=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},u=function(t){return t.filter((function(t){return t.type===window.CSSRule.STYLE_RULE&&(t.style.getPropertyValue("background-image")||t.style.getPropertyValue("background"))}))},s=function(t){var e=[];return t.forEach((function(t){t.style.getPropertyValue("background-image")?e.push({property:"background-image",value:t.style.getPropertyValue("background-image"),rule:t}):t.style.getPropertyValue("background")&&e.push({property:"background",value:t.style.getPropertyValue("background"),rule:t})})),e},l=function(t){return t.filter((function(t){return t.type===window.CSSRule.FONT_FACE_RULE&&t.style.getPropertyValue("src")}))},f=function(t){return t.filter((function(t){return t.type===window.CSSRule.IMPORT_RULE&&t.href}))},p=function(t){var e=[];return t.forEach((function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)})),e},h=function(t){var e=[];return t.forEach((function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)})),e};e.adjustPathsOfCssResources=function(t,e){var n=u(e),d=s(n),y=!1;return d.forEach((function(e){var n,o=i.parse(e.value),a=p(o);a.length>0&&(a.forEach((function(e){var n=o[e].url,i=r.joinUrl(t,n);o[e].url=i})),n=i.serialize(o),c(e.rule,e.property,n),y=!0)})),l(e).forEach((function(n){var i,c,u=n.style.getPropertyValue("src");try{i=a.parse(u)}catch(t){return}(c=h(i)).length>0&&(c.forEach((function(e){var n=i[e].url,o=r.joinUrl(t,n);i[e].url=o})),o.changeFontFaceRuleSrc(e,n,a.serialize(i)),y=!0)})),f(e).forEach((function(n){var i=n.href,a=r.joinUrl(t,i);o.exchangeRule(e,n,"@import url("+a+");"),y=!0})),y};var d=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach((function(e,n){t.splice(r+n,0,e)}))};e.loadCSSImportsForRules=function(t,n,i){var a=f(t),c=[],u=!1;return Promise.all(a.map((function(a){return function(t,n,i,a){var c,u=n.href;return u=o.unquoteString(u),c=r.joinUrl(a.baseUrl,u),i.indexOf(c)>=0?(d(t,n,[]),Promise.resolve([])):(i.push(c),r.ajax(u,a).then((function(r){var c=o.rulesForCssText(r);return e.loadCSSImportsForRules(c,i,a).then((function(r){return e.adjustPathsOfCssResources(u,c),d(t,n,c),r.errors}))}),(function(t){throw{resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url}})))}(t,a,n,i).then((function(t){c=c.concat(t),u=!0}),(function(t){c.push(t)}))}))).then((function(){return{hasChanges:u,errors:c}}))};var y=function(t,e){var n=u(t),o=s(n),a=[],l=!1;return Promise.all(o.map((function(t){return function(t,e){var n=i.parse(t),o=p(n),a=!1;return r.collectAndReportErrors(o.map((function(t){var o=n[t].url;return r.getDataURIForImageURL(o,e).then((function(e){n[t].url=e,a=!0}),(function(t){throw{resourceType:"backgroundImage",url:t.url,msg:"Unable to load background-image "+t.url}}))}))).then((function(t){return{backgroundValue:i.serialize(n),hasChanges:a,errors:t}}))}(t.value,e).then((function(e){e.hasChanges&&(c(t.rule,t.property,e.backgroundValue),l=!0),a=a.concat(e.errors)}))}))).then((function(){return{hasChanges:l,errors:a}}))},b=function(t,e){var n=l(t),i=[],c=!1;return Promise.all(n.map((function(n){return function(t,e){var n,o,i=!1;try{n=a.parse(t)}catch(t){n=[]}return o=h(n),r.collectAndReportErrors(o.map((function(t){var o=n[t],a=o.format||"woff";return r.binaryAjax(o.url,e).then((function(t){var e=btoa(t);o.url="data:font/"+a+";base64,"+e,i=!0}),(function(t){throw{resourceType:"fontFace",url:t.url,msg:"Unable to load font-face "+t.url}}))}))).then((function(t){return{srcDeclarationValue:a.serialize(n),hasChanges:i,errors:t}}))}(n.style.getPropertyValue("src"),e).then((function(e){e.hasChanges&&(o.changeFontFaceRuleSrc(t,n,e.srcDeclarationValue),c=!0),i=i.concat(e.errors)}))}))).then((function(){return{hasChanges:c,errors:i}}))};e.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([y,b].map((function(o){return o(t,e).then((function(t){n=n||t.hasChanges,r=r.concat(t.errors)}))}))).then((function(){return{hasChanges:n,errors:r}}))}},819:function(t,e,n){"use strict";var r=n(722);e.extractCssUrl=function(t){var e,n=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!n.test(t))throw new Error("Invalid url");return e=n.exec(t)[1],r.unquoteString(e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"))};e.parse=function(t){return function(t){var e,n="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",r=new RegExp("(?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+","g"),o=[],i=function(t){var e,r=new RegExp(n,"g"),o=[];for(e=r.exec(t);e;)o.push(e[1]),e=r.exec(t);return o};if(t.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(e=r.exec(t);e;)o.push(i(e[0])),e=r.exec(t);return o}return[]}(t).map((function(t){var n=function(t){var n;for(n=0;n<t.length;n++)try{return{url:e.extractCssUrl(t[n]),idx:n}}catch(t){}}(t);return n?{preUrl:t.slice(0,n.idx),url:n.url,postUrl:t.slice(n.idx+1)}:{preUrl:t}}))},e.serialize=function(t){return t.map((function(t){var e=[].concat(t.preUrl);return t.url&&e.push('url("'+t.url+'")'),t.postUrl&&(e=e.concat(t.postUrl)),e.join(" ")})).join(", ")}},820:function(t,e,n){var r,o,i,a;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){return function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[a]={exports:{}};e[a][0].call(s.exports,(function(t){var n=e[a][1][t];return o(n||t)}),s,s.exports,t,e,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],n[o.type](o));if(i.sort(),i.length>0){for(e=1,r=1;e<i.length;e++)i[e-1]!==i[e]&&(i[r]=i[e],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},e.exports={SyntaxError:r,parse:function(e,n){n=void 0!==n?n:{};var o,i={},a={start:x},c=x,u=w(",",!1),s=w("url(",!1),l=w(")",!1),f=w("format(",!1),p=w("local(",!1),h=/^[^)]/,d=j([")"],!0,!1),y=/^[ \t\r\n\f]/,b=j([" ","\t","\r","\n","\f"],!1,!1),v=0,g=[{line:1,column:1}],m=0,O=[];if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');c=a[n.startRule]}function w(t,e){return{type:"literal",text:t,ignoreCase:e}}function j(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function S(t){var n,r=g[t];if(r)return r;for(n=t-1;!g[n];)n--;for(r={line:(r=g[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return g[t]=r,r}function _(t,e){var n=S(t),r=S(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function P(t){v<m||(v>m&&(m=v,O=[]),O.push(t))}function E(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function x(){var t,n;return(t=function t(){var n,r,o,a,c,s;if(n=v,(r=k())!==i){for(o=[],a=T();a!==i;)o.push(a),a=T();if(o!==i)if(44===e.charCodeAt(v)?(a=",",v++):(a=i,P(u)),a!==i){for(c=[],s=T();s!==i;)c.push(s),s=T();c!==i&&(s=t())!==i?(r=[r].concat(s),n=r):(v=n,n=i)}else v=n,n=i;else v=n,n=i}else v=n,n=i;return n===i&&(n=v,(r=k())!==i&&(r=[r]),n=r),n}())===i&&(t=v,(n="")!==i&&(n=[]),t=n),t}function k(){var t;return(t=function(){var t,n,r,o;if(t=v,(n=R())!==i){if(r=[],(o=T())!==i)for(;o!==i;)r.push(o),o=T();else r=i;r!==i&&(o=function(){var t,n,r,o;return t=v,"format("===e.substr(v,7)?(n="format(",v+=7):(n=i,P(f)),n!==i&&(r=C())!==i?(41===e.charCodeAt(v)?(o=")",v++):(o=i,P(l)),o!==i?t=n=r:(v=t,t=i)):(v=t,t=i),t}())!==i?t=n={url:n,format:o}:(v=t,t=i)}else v=t,t=i;return t===i&&(t=v,(n=R())!==i&&(n=function(t){return{url:t}}(n)),t=n),t}())===i&&(t=function(){var t,n,r,o;return t=v,"local("===e.substr(v,6)?(n="local(",v+=6):(n=i,P(p)),n!==i&&(r=C())!==i?(41===e.charCodeAt(v)?(o=")",v++):(o=i,P(l)),o!==i?t=n={local:r}:(v=t,t=i)):(v=t,t=i),t}()),t}function R(){var t,n,r,o;return t=v,"url("===e.substr(v,4)?(n="url(",v+=4):(n=i,P(s)),n!==i&&(r=C())!==i?(41===e.charCodeAt(v)?(o=")",v++):(o=i,P(l)),o!==i?t=n=r:(v=t,t=i)):(v=t,t=i),t}function C(){var t,n,r;if(v,t=[],h.test(e.charAt(v))?(n=e.charAt(v),v++):(n=i,P(d)),n!==i)for(;n!==i;)t.push(n),h.test(e.charAt(v))?(n=e.charAt(v),v++):(n=i,P(d));else t=i;return t!==i&&(r=t,t=A.extractValue(r.join(""))),t}function T(){var t;return y.test(e.charAt(v))?(t=e.charAt(v),v++):(t=i,P(b)),t}var A=t("../util");if((o=c())!==i&&v===e.length)return o;throw o!==i&&v<e.length&&P({type:"end"}),E(O,m<e.length?e.charAt(m):null,m<e.length?_(m,m+1):_(m,m))}}},{"../util":3}],2:[function(t,e,n){var r=t("./grammar");n.SyntaxError=function(t,e){this.message=t,this.offset=e},n.parse=function(t){try{return r.parse(t)}catch(t){throw new n.SyntaxError(t.message,t.offset)}},n.serialize=function(t){return t.map((function(t){var e;return t.url?(e='url("'+t.url+'")',t.format&&(e+=' format("'+t.format+'")')):e='local("'+t.local+'")',e})).join(", ")}},{"./grammar":1}],3:[function(t,e,n){n.extractValue=function(t){return e=function(t){return t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1")}(t),r=/^'(.*)'$/,(n=/^"(.*)"$/).test(e)?e.replace(n,"$1"):r.test(e)?e.replace(r,"$1"):e;var e,n,r}},{}]},{},[2])(2)},"object"===c(e)&&void 0!==t?t.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},821:function(t,e){t.exports='<h1 id="protvista-manager">protvista-manager</h1>\n<p><a href="https://www.npmjs.com/package/protvista-manager"><img src="https://img.shields.io/npm/v/protvista-manager.svg" alt="Published on NPM"></a></p>\n<p>It is a container for all the tracks and other inner components (e.g. protvista-navigation).</p>\n<p>This component is in charge of capturing the events that its protvista descendent trigger, and adjust element attributes accordingly.</p>\n<p>A protvista descendent is any element in its subtree which tag name starts with &#39;protvista&#39;.</p>\n<p>The children should fire events of the type change, and the detail object should contain the attributes <code>type</code> and <code>value</code>.</p>\n<p>See it running <a href="https://ebi-webcomponents.github.io/protvista-manager/index.html">Here</a>.</p>\n<h2 id="usage">Usage</h2>\n<pre><code class="language-html">&lt;protvista-manager attributes=&quot;attr1 attr2&quot;&gt;&lt;/protvista-manager&gt;</code></pre>\n<p>Here is an example of how the child components should fire the events:</p>\n<pre><code class="language-javascript">this.dispatchEvent(\n  new CustomEvent(&quot;change&quot;, {\n    detail: {\n      value: &quot;New value&quot;,\n      type: &quot;attr1&quot;\n    }\n  })\n);</code></pre>\n<h2 id="api-reference">API Reference</h2>\n<h3 id="properties">Properties</h3>\n<h4 id="attributes-string"><code>attributes: string</code></h4>\n<p>List of attributes that this component will be propagating.</p>\n'}}]);